import{a as G,b as V,d as v}from"/build/_shared/chunk-7SVGYDSH.js";import{a as P}from"/build/_shared/chunk-EZL2WUID.js";import{a as l}from"/build/_shared/chunk-6I6UQKKH.js";import{a as L}from"/build/_shared/chunk-DFN4Z3JB.js";import{a as F}from"/build/_shared/chunk-TWC63WIN.js";import{e as A,f as R,h as b,i as T,j as M}from"/build/_shared/chunk-SD3IP6KZ.js";import{a}from"/build/_shared/chunk-CLUXRPU5.js";import{a as N}from"/build/_shared/chunk-Y6HZBLWM.js";import{a as E,b as O,c as q}from"/build/_shared/chunk-MZS6CHAS.js";import{a as C}from"/build/_shared/chunk-VTMMMSTK.js";import{d as B}from"/build/_shared/chunk-SWYAOCMN.js";import{H as g,Qa as I,Wa as s,Ya as S,e as h,la as x}from"/build/_shared/chunk-GMXXJD7U.js";import"/build/_shared/chunk-MUTVBZ6W.js";import{c as D}from"/build/_shared/chunk-OHSBC2MA.js";import"/build/_shared/chunk-E43VAFT6.js";import{b as p}from"/build/_shared/chunk-J7TISYNY.js";import{e as m,h as t}from"/build/_shared/chunk-AXWLPIOK.js";t();t();t();t();var e=m(p(),1),w=()=>(0,e.jsx)(S,{width:"full",sx:{mt:8,mb:4},children:(0,e.jsxs)(I,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[(0,e.jsx)(s,{children:(0,e.jsx)(a,{})}),(0,e.jsx)(s,{children:(0,e.jsx)(a,{})}),(0,e.jsx)(s,{children:(0,e.jsx)(a,{})}),(0,e.jsx)(s,{children:(0,e.jsx)(a,{})}),(0,e.jsx)(s,{children:(0,e.jsx)(a,{})}),(0,e.jsx)(s,{children:(0,e.jsx)(a,{})}),(0,e.jsx)(s,{children:(0,e.jsx)(a,{})}),(0,e.jsx)(s,{children:(0,e.jsx)(a,{})})]})});t();t();t();t();function eo(r){if(typeof r!="string"||r.length<1)return!1;let i=r[0];return i>="0"&&i<="9"?!1:/^[A-Za-z0-9_]*$/.test(r)}function U(r){return eo(r)?typeof r=="string"&&r[0]!=="_":!1}var _=class extends h{validate(i){if(typeof i=="string"){let n=i.trim();if(U(i))return n}this.throwError(i)}};var H=M({db_host:b().required("Ingrese el host de la base de datos"),db_port:T().required("Ingrese un puerto").typeError("Ingrese un n\xFAmero de puerto v\xE1lido").test("is-port","Ingrese un puerto v\xE1lido",r=>P(G,r)),db_user:b().required("Ingrese el usuario de la base de datos"),db_password:b().required("Ingrese la contrase\xF1a de la base de datos"),tango_dictionary:b().required("Ingrese el diccionario base de Tango").test("mssql-db-name","Ingrese un nombre de Diccionario base v\xE1lido",r=>P(_,r)),db_connection_timeout_seconds:T().min(0,`El tiempo de espera debe ser mayor a ${0} segundos`).max(300,`El tiempo de espera debe ser menor a ${300} segundos`).required("Ingrese el tiempo de espera de la conexi\xF3n a la base de datos").typeError("Ingrese el tiempo de espera de la conexi\xF3n a la base de datos")}).required();var o=m(p(),1),z=r=>{let{stateData:i}=r,n=O(),Q=x(),{handleSubmit:X,control:c,reset:so,setError:Z,formState:{errors:J,isSubmitting:K,isSubmitSuccessful:W}}=A({defaultValues:i,resolver:R(H)}),d=W||K;return(0,o.jsx)("form",{noValidate:!0,onSubmit:X(async Y=>{let j=await v(Y,n);await q({toast:Q,result:j,messages:{success:{title:"Conexi\xF3n a Tango actualizada"},error:{title:"Ha ocurrido un error"},loading:{title:"Actualizando conexi\xF3n a Tango"}}}).then(()=>{n.navigate(g)}).catch(oo=>{Z("root",{message:oo})})}),children:(0,o.jsxs)(S,{children:[(0,o.jsx)(F,{errors:J}),(0,o.jsx)(C,{children:(0,o.jsxs)(I,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[(0,o.jsx)(s,{children:(0,o.jsx)(l,{fieldProps:{name:"db_host",id:"db_host",type:"text"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Host"},control:c})}),(0,o.jsx)(s,{children:(0,o.jsx)(l,{fieldProps:{name:"db_port",id:"db_port",type:"number",inputMode:"tel",htmlSize:5,width:"auto"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Puerto"},control:c})}),(0,o.jsx)(s,{children:(0,o.jsx)(l,{fieldProps:{name:"db_user",id:"db_user",type:"text"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Usuario SQL"},control:c})}),(0,o.jsx)(s,{children:(0,o.jsx)(l,{fieldProps:{name:"db_password",id:"db_password",type:"password"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Contrase\xF1a SQL"},control:c})}),(0,o.jsx)(s,{children:(0,o.jsx)(l,{fieldProps:{name:"tango_dictionary",id:"tango_dictionary",type:"text"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Diccionario base"},control:c})}),(0,o.jsx)(s,{children:(0,o.jsx)(l,{fieldProps:{name:"db_connection_timeout_seconds",id:"db_connection_timeout_seconds",type:"number",inputMode:"tel",htmlSize:5,maxLength:5,width:"auto"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Tiempo de espera (segundos)"},control:c})})]})}),(0,o.jsx)(C,{children:(0,o.jsx)(L,{isLoading:d})})]})})};var y=m(p(),1),$=()=>{let{state:r,retry:i}=B({url:V,silent:!0});return r.map({loading:n=>(0,y.jsx)(w,{}),error:({error:n})=>(0,y.jsx)(N,{error:n,retry:i,cancelAndNavigateTo:g}),success:n=>(0,y.jsx)(z,{stateData:n.data})})};var f=m(p(),1);function k(){let r=D();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(E,{title:"Conexi\xF3n a Tango",actionButton:{label:"Cancelar",buttonProps:{colorScheme:"gray",onClick:()=>{r(g)}}}}),(0,f.jsx)($,{})]})}export{k as default};
