import{a as dt,b as gt,c as Z}from"/build/_shared/chunk-RIMNGT2J.js";import{a as ze,c as Ee}from"/build/_shared/chunk-UEGMDVXK.js";import{a as ye}from"/build/_shared/chunk-O7NNQHXC.js";import{f as Se,g as Ce}from"/build/_shared/chunk-FITHNK55.js";import{a as N,b as Oe}from"/build/_shared/chunk-NDYVTXFO.js";import{a as Ae}from"/build/_shared/chunk-P32U26JX.js";import{a as Pe}from"/build/_shared/chunk-UE4IQPKJ.js";import"/build/_shared/chunk-BXRQWNMF.js";import"/build/_shared/chunk-N2W4SHIU.js";import{a as Te,b as Le,c as xe}from"/build/_shared/chunk-QHPH3CD4.js";import{a as De}from"/build/_shared/chunk-ZX3ORQWN.js";import{a as pt}from"/build/_shared/chunk-L46VJDLW.js";import"/build/_shared/chunk-EFBMV3GD.js";import{A as Q,C as ee,Ca as R,Da as A,Db as ge,Eb as he,F as te,Fb as q,G as re,Hb as ve,Ib as be,Jb as Ie,L as oe,M as ne,Na as ae,P as G,Ya as B,ab as se,bb as w,cb as p,eb as _,jb as le,na as P,sb as ce,ta as ie,tb as me,ub as ue,vb as fe,wb as pe,xb as de}from"/build/_shared/chunk-DDQFO3X3.js";import"/build/_shared/chunk-MUTVBZ6W.js";import{c as Y,d as J}from"/build/_shared/chunk-OHSBC2MA.js";import"/build/_shared/chunk-E43VAFT6.js";import{a as y,b as g}from"/build/_shared/chunk-J7TISYNY.js";import{c as E,e as l,h as s}from"/build/_shared/chunk-AXWLPIOK.js";var we=E((Mt,Be)=>{"use strict";s();function ht(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var M=ht(y()),vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},bt=function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},Re=function(t){var r=t.color,o=r===void 0?"currentColor":r,i=t.size,a=i===void 0?24:i,d=t.children,c=bt(t,["color","size","children"]),u="mdi-icon "+(c.className||"");return M.createElement("svg",vt({},c,{className:u,width:a,height:a,fill:o,viewBox:"0 0 24 24"}),M.createElement("path",{d:"M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z"}))},It=M.memo?M.memo(Re):Re;Be.exports=It});var Me=E((jt,Ne)=>{"use strict";s();function Pt(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var H=Pt(y()),St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ct=function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},Ge=function(t){var r=t.color,o=r===void 0?"currentColor":r,i=t.size,a=i===void 0?24:i,d=t.children,c=Ct(t,["color","size","children"]),u="mdi-icon "+(c.className||"");return H.createElement("svg",St({},c,{className:u,width:a,height:a,fill:o,viewBox:"0 0 24 24"}),H.createElement("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}))},yt=H.memo?H.memo(Ge):Ge;Ne.exports=yt});var Ve=E((Qt,je)=>{"use strict";s();function Dt(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var U=Dt(y()),Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},At=function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},Ue=function(t){var r=t.color,o=r===void 0?"currentColor":r,i=t.size,a=i===void 0?24:i,d=t.children,c=At(t,["color","size","children"]),u="mdi-icon "+(c.className||"");return U.createElement("svg",Tt({},c,{className:u,width:a,height:a,fill:o,viewBox:"0 0 24 24"}),U.createElement("path",{d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}))},Ot=U.memo?U.memo(Ue):Ue;je.exports=Ot});var Ze=E((tr,qe)=>{"use strict";s();function Lt(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var j=Lt(y()),xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},zt=function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},We=function(t){var r=t.color,o=r===void 0?"currentColor":r,i=t.size,a=i===void 0?24:i,d=t.children,c=zt(t,["color","size","children"]),u="mdi-icon "+(c.className||"");return j.createElement("svg",xt({},c,{className:u,width:a,height:a,fill:o,viewBox:"0 0 24 24"}),j.createElement("path",{d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}))},Et=j.memo?j.memo(We):We;qe.exports=Et});var Ye=E((or,Xe)=>{"use strict";s();function Rt(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var V=Rt(y()),Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},wt=function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},Ke=function(t){var r=t.color,o=r===void 0?"currentColor":r,i=t.size,a=i===void 0?24:i,d=t.children,c=wt(t,["color","size","children"]),u="mdi-icon "+(c.className||"");return V.createElement("svg",Bt({},c,{className:u,width:a,height:a,fill:o,viewBox:"0 0 24 24"}),V.createElement("path",{d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}))},_t=V.memo?V.memo(Ke):Ke;Xe.exports=_t});s();s();var lt=l(we(),1);s();s();var v=l(g(),1),_e=()=>(0,v.jsx)(_,{width:"full",sx:{mt:8,mb:4},children:(0,v.jsxs)(B,{templateColumns:"1fr",gap:{base:2,md:4},children:[(0,v.jsx)(p,{children:(0,v.jsx)(N,{})}),(0,v.jsx)(p,{children:(0,v.jsx)(N,{})}),(0,v.jsx)(p,{children:(0,v.jsx)(Oe,{height:"400px"})}),(0,v.jsx)(p,{children:(0,v.jsx)(N,{})})]})});s();var O=l(y(),1);var rt=l(pt(),1),ot=l(dt(),1),nt=l(Me(),1),it=l(gt(),1);s();var He=l(y(),1);var S=l(g(),1),ke=({isOpen:e,onClose:t,handleDeletion:r,message:o})=>{let i=(0,He.useRef)();return(0,S.jsx)(ce,{isOpen:e,leastDestructiveRef:i,onClose:t,motionPreset:"slideInBottom",isCentered:!0,children:(0,S.jsx)(pe,{children:(0,S.jsxs)(me,{children:[(0,S.jsx)(fe,{fontSize:"lg",fontWeight:"bold",children:o.title}),(0,S.jsx)(de,{children:o.body}),(0,S.jsxs)(ue,{children:[(0,S.jsx)(R,{ref:i,onClick:t,children:Q}),(0,S.jsx)(R,{colorScheme:"red",onClick:r,ml:3,children:ee})]})]})})})};s();s();var $e=l(y(),1),$="{left}",F="{right}",k=(e,t)=>{let r=t-e+1;return Array.from({length:r},(o,i)=>i+e)},Fe=({totalCount:e,pageSize:t,siblingCount:r=1,currentPage:o})=>(0,$e.useMemo)(()=>{let a=Math.ceil(e/t);if(r+5>=a)return k(1,a);let c=Math.max(o-r,1),u=Math.min(o+r,a),I=c>2,f=u<a-2,L=1,x=a;if(!I&&f){let D=3+2*r;return[...k(1,D),$,a]}if(I&&!f){let D=3+2*r,T=k(a-D+1,a);return[L,F,...T]}if(I&&f){let D=k(c,u);return[L,$,...D,F,x]}},[e,t,r,o]);var Je=l(Ve(),1),Qe=l(Ze(),1),et=l(Ye(),1);var b=l(g(),1),tt=e=>{let{onPageChange:t,totalCount:r,siblingCount:o=1,currentPage:i,pageSize:a}=e,d=Fe({currentPage:i,totalCount:r,siblingCount:o,pageSize:a});if(!d||i===0||d.length<2)return null;let c=()=>{t(i+1)},u=()=>{t(i-1)},I=d[d.length-1];return(0,b.jsxs)(se,{children:[(0,b.jsx)(w,{spacing:1,wrap:"wrap",justifyContent:"center",children:d.map(f=>f===$||f===F?(0,b.jsx)(P,{as:et.default,boxSize:3},`page-${f}`):(0,b.jsx)(R,{colorScheme:f===i?"blue":"gray",size:{base:"sm",md:"md"},onClick:()=>t(f),children:f},`button-${f}`))}),(0,b.jsxs)(w,{children:[(0,b.jsx)(A,{"aria-label":te,size:{base:"sm",md:"md"},onClick:u,isDisabled:i===1,children:(0,b.jsx)(P,{as:Je.default})}),(0,b.jsx)(A,{"aria-label":re,size:{base:"sm",md:"md"},onClick:c,isDisabled:i===I,children:(0,b.jsx)(P,{as:Qe.default})})]})]})};var n=l(g(),1),at=e=>{let{stateData:t,retry:r,typeSettings:o}=e,i=Le(),{isOpen:a,onOpen:d,onClose:c}=ae(),u=ie(),I=(0,O.useRef)(null),{filteredData:f,handleSearchInputChange:L}=ze(t,["screen_name","username"]),[x,D]=(0,O.useState)(1),T=10,K=(0,O.useMemo)(()=>{let m=(x-1)*T,z=m+T;return f.slice(m,z)},[x,f]),mt=(m,z)=>()=>{I.current={id:m,username:z},d()},ut=m=>()=>{i.navigate(ne(o.editButtonNavigateTo,{id:m}))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ke,{isOpen:a,onClose:c,handleDeletion:async()=>{if(I.current!=null){let{id:m,username:z}=I.current;I.current=null;let ft=await o.api.delete(m,{username:z},i),Nt=await xe({toast:u,result:ft,messages:{success:{title:"Usuario eliminado"},error:{title:"Error al eliminar usuario"},loading:{title:"Eliminando usuario"}}}).then(()=>{t.splice(t.findIndex(X=>X.id===m),1),L()}).catch(X=>{});c()}},message:{title:"Eliminar usuario",body:"\xBFEst\xE1 seguro que desea eliminar este usuario? Esta acci\xF3n no se puede deshacer."}}),(0,n.jsxs)(De,{children:[(0,n.jsx)(_,{sx:{pb:4},children:(0,n.jsx)(Ee,{handleSearchInputChange:L})}),(0,n.jsx)(_,{children:(0,n.jsxs)(ge,{variant:"grayOverCard",size:"md",children:[(0,n.jsx)(he,{children:(0,n.jsx)(q,{children:(0,n.jsx)(Ie,{sx:{p:{base:2,md:4}},children:(0,n.jsxs)(B,{templateColumns:{base:"3fr 1fr 2fr",md:"3fr 3fr 1fr 2fr"},gap:{base:2,md:4},children:[(0,n.jsx)(p,{children:"Nombre completo"}),(0,n.jsx)(p,{sx:{display:{base:"none",md:"block"}},children:"Nombre de usuario"}),(0,n.jsx)(p,{textAlign:"center",children:"Estado"}),(0,n.jsx)(p,{})]})})})}),(0,n.jsx)(ve,{children:K.length>0&&K.map(m=>(0,n.jsx)(q,{children:(0,n.jsx)(be,{sx:{p:{base:2,md:4}},children:(0,n.jsxs)(B,{templateColumns:{base:"3fr 1fr 2fr",md:"3fr 3fr 1fr 2fr"},gap:{base:2,md:4},alignItems:"center",children:[(0,n.jsx)(p,{children:(0,n.jsx)(Z,{breakType:"normal",children:m.screen_name})}),(0,n.jsx)(p,{sx:{display:{base:"none",md:"block"}},children:(0,n.jsx)(Z,{breakType:"normal",children:m.username})}),(0,n.jsx)(p,{textAlign:"center",children:(0,n.jsx)(P,{as:m.habilitado_en_dxt&&m.usuario_tango_existe&&m.habilitado_en_tango===!0?ot.default:rt.default,boxSize:6,color:oe(m)})}),(0,n.jsx)(p,{children:(0,n.jsxs)(w,{justifyContent:"center",children:[(0,n.jsx)(A,{"aria-label":"Eliminar",size:"sm",colorScheme:"red",onClick:mt(m.id,m.username),children:(0,n.jsx)(P,{as:it.default,boxSize:4})}),(0,n.jsx)(A,{"aria-label":"Editar",size:"sm",colorScheme:"blue",onClick:ut(m.id),children:(0,n.jsx)(P,{as:nt.default,boxSize:4})})]})})]})})},`row_${m.id}`))})]})}),(0,n.jsx)(le,{sx:{pt:4,justifyContent:"center"},children:(0,n.jsx)(tt,{currentPage:x,totalCount:f.length,pageSize:T,onPageChange:m=>D(m)})})]})]})};var W=l(g(),1),st=e=>{let{typeSettings:t}=e,{state:r,retry:o}=t.api.getAll();return r.map({loading:i=>(0,W.jsx)(_e,{}),error:({error:i})=>(0,W.jsx)(Ae,{error:i,retry:o,cancelAndNavigateTo:G}),success:i=>(0,W.jsx)(at,{stateData:i.data,retry:o,typeSettings:t})})};var C=l(g(),1);function ct(){let e=Y(),{type:t}=J(),r=Pe[t];return t!=null&&r!=null?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Te,{title:r.titles.common,actionButton:{label:r.titles.create,buttonProps:{leftIcon:(0,C.jsx)(P,{as:lt.default}),onClick:()=>{r.actionButtonNavigateTo!=null&&e(r.actionButtonNavigateTo)}}}}),(0,C.jsx)(st,{typeSettings:r})]}):(0,C.jsx)(ye,{error:Se,buttonProps:{label:Ce,colorScheme:"green",onClick:()=>{e(G)}}})}export{ct as default};
