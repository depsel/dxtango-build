import{a as J}from"/build/_shared/chunk-KXX7QXCG.js";import{a as V}from"/build/_shared/chunk-YS7PZJ5S.js";import{a as v}from"/build/_shared/chunk-YPEM6OVU.js";import{e as k,f as z,h as w,j as H}from"/build/_shared/chunk-SD3IP6KZ.js";import{a as X}from"/build/_shared/chunk-O7NNQHXC.js";import{f as h,g as q}from"/build/_shared/chunk-FITHNK55.js";import{a as x,b as N}from"/build/_shared/chunk-NDYVTXFO.js";import{a as G}from"/build/_shared/chunk-P32U26JX.js";import{a as O,b as U,c as B}from"/build/_shared/chunk-QHPH3CD4.js";import{a as y}from"/build/_shared/chunk-ZX3ORQWN.js";import{d as R}from"/build/_shared/chunk-EFBMV3GD.js";import{A as b,P as l,Ya as S,_a as P,cb as m,eb as A,ta as E,v as _,w as f}from"/build/_shared/chunk-DDQFO3X3.js";import"/build/_shared/chunk-MUTVBZ6W.js";import{c as L,d as F}from"/build/_shared/chunk-OHSBC2MA.js";import"/build/_shared/chunk-E43VAFT6.js";import{b as a}from"/build/_shared/chunk-J7TISYNY.js";import{e as n,h as e}from"/build/_shared/chunk-AXWLPIOK.js";e();e();e();e();var T=f("/dxt/pedido/articulos/print_list"),I=f("/dxt/pedido/articulos/screen_list"),ct=f("/dxt/pedido/articulos/print_ids");e();var K=async(o,t)=>await _({url:T,data:o,method:"POST",silent:!0},t),Y=async(o,t)=>await _({url:I,data:o,method:"POST",silent:!0},t);var s=n(a(),1),M={screen:{api:{getAll:()=>R({url:I,silent:!0}),post:async(o,t)=>Y(o,t)},title:"Lista de Art\xEDculos para Visualizaci\xF3n",description:(0,s.jsxs)(s.Fragment,{children:["Ingrese en la lista los c\xF3digos de art\xEDculo en el \xF3rden en quedesea que aparezcan durante la creaci\xF3n o edici\xF3n de un pedido.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Cualquier l\xEDnea que ingrese, que no contenga ning\xFAn c\xF3digo de art\xEDculo, ser\xE1 considerada como t\xEDtulo de grupo."]})},print:{api:{getAll:()=>R({url:T,silent:!0}),post:async(o,t)=>K(o,t)},title:"Lista de Art\xEDculos para Impresi\xF3n",description:(0,s.jsxs)(s.Fragment,{children:["Ingrese en la lista los c\xF3digos de art\xEDculo en el \xF3rden en que desea que aparezcan durante la impresi\xF3n de un pedido.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Cualquier l\xEDnea que ingrese, que no contenga ning\xFAn c\xF3digo de art\xEDculo, ser\xE1 considerada como t\xEDtulo de grupo."]})}};e();e();var i=n(a(),1),Q=o=>{let{typeSettings:t}=o;return(0,i.jsx)(A,{width:"full",sx:{mt:8,mb:4},children:(0,i.jsxs)(S,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,i.jsx)(m,{children:(0,i.jsx)(N,{height:"380px"})}),(0,i.jsx)(m,{children:(0,i.jsx)(P,{fontSize:"sm",children:t.description})}),(0,i.jsx)(m,{children:(0,i.jsx)(x,{})}),(0,i.jsx)(m,{children:(0,i.jsx)(x,{})})]})})};e();e();var W=H({list:w().required("Debe ingresar al menos un c\xF3digo de art\xEDculo")}).required();var r=n(a(),1),Z=o=>{let{stateData:t,typeSettings:p}=o,g=U(),c=E(),{handleSubmit:tt,control:et,reset:ut,setError:ot,formState:{errors:rt,isSubmitting:it,isSubmitSuccessful:st}}=k({defaultValues:{list:t?.join(`\r
`)||""},resolver:z(W)}),C=st||it;return(0,r.jsx)("form",{noValidate:!0,onSubmit:tt(async nt=>{let at={data:nt.list.split(`
`)},pt=await p.api.post(at,g);await B({toast:c,result:pt,messages:{success:{title:"Lista actualizada"},error:{title:"Ha ocurrido un error"},loading:{title:"Actualizando lista"}}}).then(()=>{g.navigate(l)}).catch(mt=>{ot("root",{message:mt})})}),children:(0,r.jsxs)(A,{children:[(0,r.jsx)(v,{errors:rt}),(0,r.jsx)(y,{children:(0,r.jsxs)(S,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,r.jsx)(m,{children:(0,r.jsx)(J,{fieldProps:{name:"list",id:"list",rows:20,fontSize:"sm"},formControlProps:{isDisabled:C},control:et})}),(0,r.jsx)(m,{children:(0,r.jsx)(P,{fontSize:"sm",children:p.description})})]})}),(0,r.jsx)(y,{children:(0,r.jsx)(V,{isLoading:C})})]})})};var D=n(a(),1),$=o=>{let{typeSettings:t}=o,{state:p,retry:g}=t.api.getAll();return p.map({loading:c=>(0,D.jsx)(Q,{typeSettings:t}),error:({error:c})=>(0,D.jsx)(G,{error:c,retry:g,cancelAndNavigateTo:l}),success:c=>(0,D.jsx)(Z,{stateData:c.data,typeSettings:t})})};var d=n(a(),1);function j(){let o=L(),{type:t}=F(),p=M[t];return t!=null&&p!=null?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(O,{title:p.title,actionButton:{label:b,buttonProps:{colorScheme:"gray",onClick:()=>{o(l)}}}}),(0,d.jsx)($,{typeSettings:p})]}):(0,d.jsx)(X,{error:h,buttonProps:{label:q,colorScheme:"green",onClick:()=>{o(l)}}})}export{j as default};
