import{a as Pt,b as Ct,c as Dt,d as K}from"/build/_shared/chunk-GE3N5PWG.js";import{a as ke,c as He}from"/build/_shared/chunk-ZZRSZNR6.js";import{a as ze}from"/build/_shared/chunk-HRDHQIA5.js";import{a as w,b as we}from"/build/_shared/chunk-LWCE64AO.js";import{a as Ge}from"/build/_shared/chunk-NNGRPTM4.js";import{a as _e}from"/build/_shared/chunk-C3XPFWZX.js";import"/build/_shared/chunk-KOPCI6QW.js";import"/build/_shared/chunk-QZCETK4F.js";import{a as Ne,b as Ue}from"/build/_shared/chunk-V6MG2CRX.js";import{a as Be}from"/build/_shared/chunk-K2WBBUBW.js";import{a as St}from"/build/_shared/chunk-TT2RFLCL.js";import{a as Me}from"/build/_shared/chunk-CD5IF7GC.js";import{A as Re,B as Oe,C as Le,D as xe,l as Ae,m as ye,q as Ee}from"/build/_shared/chunk-6CXKIKKN.js";import"/build/_shared/chunk-EF4J777R.js";import{C as ee,Ca as S,Ea as le,Eb as de,F as te,Fa as ce,Ha as me,Ia as ue,J as oe,K as re,N as ne,Nb as ge,Ob as he,Pb as ve,Qb as Ie,Ra as O,Rb as be,Sa as A,Sb as Se,W as ie,Yb as Pe,Z as ae,Zb as Ce,_ as se,_b as G,ac as De,ba as N,bc as Z,cc as Te,gb as fe,rb as L,vb as pe,wb as x,xb as p,zb as _}from"/build/_shared/chunk-JQLUC77E.js";import{d as J,e as Q}from"/build/_shared/chunk-MJPS7W4Y.js";import{a as T,b as g}from"/build/_shared/chunk-IS2TAHEU.js";import{c as B,e as l,h as s}from"/build/_shared/chunk-P3O6KQPX.js";var Ve=B((Ft,$e)=>{"use strict";s();function Tt(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var M=Tt(T()),At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},yt=function(e,t){var o={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o},Fe=function(t){var o=t.color,r=o===void 0?"currentColor":o,i=t.size,a=i===void 0?24:i,d=t.children,m=yt(t,["color","size","children"]),f="mdi-icon "+(m.className||"");return M.createElement("svg",At({},m,{className:f,width:a,height:a,fill:r,viewBox:"0 0 24 24"}),M.createElement("path",{d:"M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z"}))},Et=M.memo?M.memo(Fe):Fe;$e.exports=Et});var Je=B((to,Ye)=>{"use strict";s();function Rt(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var F=Rt(T()),Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},Lt=function(e,t){var o={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o},Xe=function(t){var o=t.color,r=o===void 0?"currentColor":o,i=t.size,a=i===void 0?24:i,d=t.children,m=Lt(t,["color","size","children"]),f="mdi-icon "+(m.className||"");return F.createElement("svg",Ot({},m,{className:f,width:a,height:a,fill:r,viewBox:"0 0 24 24"}),F.createElement("path",{d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}))},xt=F.memo?F.memo(Xe):Xe;Ye.exports=xt});var tt=B((ro,et)=>{"use strict";s();function _t(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var $=_t(T()),zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},Bt=function(e,t){var o={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o},Qe=function(t){var o=t.color,r=o===void 0?"currentColor":o,i=t.size,a=i===void 0?24:i,d=t.children,m=Bt(t,["color","size","children"]),f="mdi-icon "+(m.className||"");return $.createElement("svg",zt({},m,{className:f,width:a,height:a,fill:r,viewBox:"0 0 24 24"}),$.createElement("path",{d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}))},Nt=$.memo?$.memo(Qe):Qe;et.exports=Nt});var nt=B((io,rt)=>{"use strict";s();function Gt(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var V=Gt(T()),wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},Mt=function(e,t){var o={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o},ot=function(t){var o=t.color,r=o===void 0?"currentColor":o,i=t.size,a=i===void 0?24:i,d=t.children,m=Mt(t,["color","size","children"]),f="mdi-icon "+(m.className||"");return V.createElement("svg",wt({},m,{className:f,width:a,height:a,fill:r,viewBox:"0 0 24 24"}),V.createElement("path",{d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}))},Ut=V.memo?V.memo(ot):ot;rt.exports=Ut});s();s();var gt=l(Ve(),1);s();s();var h=l(g(),1),je=()=>(0,h.jsx)(_,{width:"full",sx:{mt:8,mb:4},children:(0,h.jsxs)(L,{templateColumns:"1fr",gap:{base:2,md:4},children:[(0,h.jsx)(p,{children:(0,h.jsx)(w,{})}),(0,h.jsx)(p,{children:(0,h.jsx)(w,{})}),(0,h.jsx)(p,{children:(0,h.jsx)(we,{height:"400px"})}),(0,h.jsx)(p,{children:(0,h.jsx)(w,{})})]})});s();var y=l(T(),1);var ct=l(St(),1),mt=l(Pt(),1),ut=l(Ct(),1),ft=l(Dt(),1);s();var We=l(T(),1);var P=l(g(),1),qe=({isOpen:e,onClose:t,handleDeletion:o,message:r})=>{let i=(0,We.useRef)();return(0,P.jsx)(ge,{isOpen:e,leastDestructiveRef:i,onClose:t,motionPreset:"slideInBottom",isCentered:!0,children:(0,P.jsx)(be,{children:(0,P.jsxs)(he,{children:[(0,P.jsx)(Ie,{fontSize:"lg",fontWeight:"bold",children:r.title}),(0,P.jsx)(Se,{children:r.body}),(0,P.jsxs)(ve,{children:[(0,P.jsx)(O,{ref:i,onClick:t,children:ee}),(0,P.jsx)(O,{colorScheme:"red",onClick:o,ml:3,children:te})]})]})})})};s();s();var Ze=l(T(),1),k="{left}",H="{right}",U=(e,t)=>{let o=t-e+1;return Array.from({length:o},(r,i)=>i+e)},Ke=({totalCount:e,pageSize:t,siblingCount:o=1,currentPage:r})=>(0,Ze.useMemo)(()=>{let a=Math.ceil(e/t);if(o+5>=a)return U(1,a);let m=Math.max(r-o,1),f=Math.min(r+o,a),b=m>2,u=f<a-2,E=1,W=a;if(!b&&u){let C=3+2*o;return[...U(1,C),k,a]}if(b&&!u){let C=3+2*o,z=U(a-C+1,a);return[E,H,...z]}if(b&&u){let C=U(m,f);return[E,k,...C,H,W]}},[e,t,o,r]);var it=l(Je(),1),at=l(tt(),1),st=l(nt(),1);var I=l(g(),1),lt=e=>{let{onPageChange:t,totalCount:o,siblingCount:r=1,currentPage:i,pageSize:a}=e,d=Ke({currentPage:i,totalCount:o,siblingCount:r,pageSize:a});if(!d||i===0||d.length<2)return null;let m=()=>{t(i+1)},f=()=>{t(i-1)},b=d[d.length-1];return(0,I.jsxs)(pe,{children:[(0,I.jsx)(x,{spacing:1,wrap:"wrap",justifyContent:"center",children:d.map(u=>u===k||u===H?(0,I.jsx)(S,{as:st.default,boxSize:3},`page-${u}`):(0,I.jsx)(O,{colorScheme:u===i?"blue":"gray",size:{base:"sm",md:"md"},onClick:()=>t(u),children:u},`button-${u}`))}),(0,I.jsxs)(x,{children:[(0,I.jsx)(A,{"aria-label":oe,size:{base:"sm",md:"md"},onClick:f,isDisabled:i===1,children:(0,I.jsx)(S,{as:it.default})}),(0,I.jsx)(A,{"aria-label":re,size:{base:"sm",md:"md"},onClick:m,isDisabled:i===b,children:(0,I.jsx)(S,{as:at.default})})]})]})};var n=l(g(),1),pt=e=>{let{stateData:t,retry:o,typeSettings:r}=e,i=Me(),{isOpen:a,onOpen:d,onClose:m}=fe(),f=ue(),b=(0,y.useRef)(null),{filteredData:u,handleSearchInputChange:E,isFiltering:W}=ke(t,["screen_name","username"]),[C,z]=(0,y.useState)(1),q=10,X=(0,y.useMemo)(()=>{let c=(C-1)*q,R=c+q;return u.slice(c,R)},[C,u]),vt=(c,R)=>()=>{b.current={id:c,username:R},d()},It=c=>()=>{i.navigate(se(r.editButtonNavigateTo,{id:c}))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(qe,{isOpen:a,onClose:m,handleDeletion:async()=>{if(b.current!=null){let{id:c,username:R}=b.current;b.current=null;let bt=await r.api.delete(c,{username:R},i),Ht=await Ue({toast:f,result:bt,messages:{success:{title:Le},error:{title:ie},loading:{title:xe}}}).then(()=>{t.splice(t.findIndex(Y=>Y.id===c),1),E()}).catch(Y=>{});m()}},message:{title:Re,body:Oe}}),(0,n.jsxs)(Be,{children:[(0,n.jsx)(_,{sx:{pb:4},children:(0,n.jsx)(He,{handleSearchInputChange:E})}),(0,n.jsx)(_,{children:(0,n.jsxs)(Pe,{variant:"grayOverCard",size:"md",children:[(0,n.jsx)(Ce,{children:(0,n.jsx)(G,{children:(0,n.jsx)(Te,{sx:{p:{base:2,md:4}},children:(0,n.jsxs)(L,{templateColumns:{base:"3fr 1fr 2fr",md:"3fr 3fr 1fr 2fr"},gap:{base:2,md:4},children:[(0,n.jsx)(p,{children:"Nombre completo"}),(0,n.jsx)(p,{sx:{display:{base:"none",md:"block"}},children:"Nombre de usuario"}),(0,n.jsx)(p,{textAlign:"center",children:"Estado"}),(0,n.jsx)(p,{})]})})})}),(0,n.jsx)(De,{children:X.length>0?X.map(c=>(0,n.jsx)(G,{children:(0,n.jsx)(Z,{sx:{p:{base:2,md:4}},children:(0,n.jsxs)(L,{templateColumns:{base:"3fr 1fr 2fr",md:"3fr 3fr 1fr 2fr"},gap:{base:2,md:4},alignItems:"center",children:[(0,n.jsx)(p,{children:(0,n.jsx)(K,{breakType:"normal",children:c.screen_name})}),(0,n.jsx)(p,{sx:{display:{base:"none",md:"block"}},children:(0,n.jsx)(K,{breakType:"normal",children:c.username})}),(0,n.jsx)(p,{textAlign:"center",children:(0,n.jsx)(S,{as:c.habilitado_en_dxt&&c.usuario_tango_existe&&c.habilitado_en_tango===!0?mt.default:ct.default,boxSize:6,color:ae(c)})}),(0,n.jsx)(p,{children:(0,n.jsxs)(x,{justifyContent:"center",children:[(0,n.jsx)(A,{"aria-label":"Eliminar",size:"sm",colorScheme:"red",onClick:vt(c.id,c.username),children:(0,n.jsx)(S,{as:ft.default,boxSize:4})}),(0,n.jsx)(A,{"aria-label":"Editar",size:"sm",colorScheme:"blue",onClick:It(c.id),children:(0,n.jsx)(S,{as:ut.default,boxSize:4})})]})})]})})},`row_${c.id}`)):(0,n.jsx)(G,{children:(0,n.jsx)(Z,{children:(0,n.jsxs)(me,{status:"info",children:[(0,n.jsx)(ce,{}),(0,n.jsx)(le,{children:W?ne:Ee})]})})})})]})}),(0,n.jsx)(de,{sx:{pt:4,justifyContent:"center"},children:(0,n.jsx)(lt,{currentPage:C,totalCount:u.length,pageSize:q,onPageChange:c=>z(c)})})]})]})};var j=l(g(),1),dt=e=>{let{typeSettings:t}=e,{state:o,retry:r}=t.api.getAll();return o.map({loading:i=>(0,j.jsx)(je,{}),error:({error:i})=>(0,j.jsx)(Ge,{error:i,retry:r,cancelAndNavigateTo:N}),success:i=>(0,j.jsx)(pt,{stateData:i.data,retry:r,typeSettings:t})})};var D=l(g(),1);function ht(){let e=J(),{type:t}=Q(),o=_e[t];return t!=null&&o!=null?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(Ne,{title:o.titles.common,actionButton:{label:o.titles.create,buttonProps:{leftIcon:(0,D.jsx)(S,{as:gt.default}),onClick:()=>{o.actionButtonNavigateTo!=null&&e(o.actionButtonNavigateTo)}}}}),(0,D.jsx)(dt,{typeSettings:o})]}):(0,D.jsx)(ze,{error:Ae,buttonProps:{label:ye,colorScheme:"green",onClick:()=>{e(N)}}})}export{ht as default};
