import{a as V,c as ne,e as me}from"/build/_shared/chunk-JF66O3F7.js";import{a as E}from"/build/_shared/chunk-KXX7QXCG.js";import{a as w}from"/build/_shared/chunk-EZL2WUID.js";import{a as c}from"/build/_shared/chunk-AYUUBJTB.js";import{a as te}from"/build/_shared/chunk-YS7PZJ5S.js";import{a as oe}from"/build/_shared/chunk-YPEM6OVU.js";import{d as Z,e as ee,f as re,g as se,h as u,i as A,j as ie}from"/build/_shared/chunk-SD3IP6KZ.js";import{a,b as F}from"/build/_shared/chunk-NDYVTXFO.js";import{a as K}from"/build/_shared/chunk-P32U26JX.js";import{a as J,b as Q,c as W}from"/build/_shared/chunk-QHPH3CD4.js";import{a as h}from"/build/_shared/chunk-ZX3ORQWN.js";import{d as $}from"/build/_shared/chunk-EFBMV3GD.js";import{A as O,Ha as B,Ia as z,La as j,P as _,Ya as S,a as N,cb as o,db as X,e as L,eb as b,ib as f,jb as Y,ta as U}from"/build/_shared/chunk-DDQFO3X3.js";import"/build/_shared/chunk-MUTVBZ6W.js";import{c as k}from"/build/_shared/chunk-OHSBC2MA.js";import"/build/_shared/chunk-E43VAFT6.js";import{b as p}from"/build/_shared/chunk-J7TISYNY.js";import{e as d,h as s}from"/build/_shared/chunk-AXWLPIOK.js";s();s();s();s();var y=class extends L{validate(l){let i=l;if(typeof i=="string"&&(i=i.trim().toLowerCase(),N(i)))return i;this.throwError(l)}};s();var r=d(p(),1),ae=()=>(0,r.jsx)(b,{width:"full",sx:{mt:8,mb:4},children:(0,r.jsxs)(S,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[(0,r.jsx)(o,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(o,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(o,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(o,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(o,{colSpan:{md:2},children:(0,r.jsx)(f,{})}),(0,r.jsx)(o,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(o,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(o,{colSpan:{md:2},children:(0,r.jsx)(f,{})}),(0,r.jsx)(o,{colSpan:{md:2},children:(0,r.jsx)(a,{})}),(0,r.jsx)(o,{colSpan:{md:2},children:(0,r.jsx)(F,{})}),(0,r.jsx)(o,{colSpan:{md:2},children:(0,r.jsx)(f,{})}),(0,r.jsx)(o,{colSpan:{md:2},children:(0,r.jsx)(a,{})}),(0,r.jsx)(o,{colSpan:{md:2},children:(0,r.jsx)(F,{})}),(0,r.jsx)(o,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(o,{children:(0,r.jsx)(a,{})})]})});s();s();var C=d(p(),1),le=n=>{let{fieldProps:l,formControlProps:i,formControlInnerProps:T,control:G}=n,{name:m}=l,{text:R,helperText:P,helperAction:D}=T||{},{field:{ref:M,onChange:v,value:t},fieldState:{invalid:q},formState:{errors:H}}=Z({name:l.name,control:G});return(0,C.jsxs)(B,{...i,isInvalid:q,ref:M,children:[(0,C.jsxs)(Y,{alignItems:"center",children:[(0,C.jsx)(j,{...l,onChange:v,isChecked:t,children:R}),D]}),P!=null&&(0,C.jsx)(z,{children:P})]})};s();var de=ie({smtp_host:u().required("Ingrese el host SMTP").test("valid-host","Ingrese un host SMTP v\xE1lido",n=>w(y,n)),smtp_username:u().required("Ingrese el usuario SMTP"),smtp_password:u().required("Ingrese la contrase\xF1a SMTP"),smtp_port:A().required("Ingrese el puerto SMTP").typeError("Ingrese un n\xFAmero de puerto SMTP v\xE1lido").test("is-port","Ingrese un puerto SMTP v\xE1lido",n=>w(V,n)),smtp_use_tls:se().required(),auth_expiration_days:A().min(1,`El tiempo de espera debe ser mayor a ${1}`).max(365,`El tiempo de espera debe ser menor a ${365}`).required("Ingrese el tiempo de espera para logout").typeError("Ingrese el tiempo de espera para logout"),admin_email:u().required("Ingrese el correo electr\xF3nico del Administrador").email("Ingrese un correo electr\xF3nico v\xE1lido"),user_warning_message_title:u().required("Ingrese el t\xEDtulo del mensaje de advertencia"),user_warning_message_content:u().required("Ingrese el contenido del mensaje de advertencia"),user_disabled_message_title:u().required("Ingrese el t\xEDtulo del mensaje de inhabilitaci\xF3n"),user_disabled_message_content:u().required("Ingrese el contenido del mensaje de inhabilitaci\xF3n")}).required();var e=d(p(),1),pe=n=>{let{stateData:l}=n,i=Q(),T=U(),{handleSubmit:G,control:m,reset:R,setError:P,formState:{errors:D,isSubmitting:M,isSubmitSuccessful:v}}=ee({defaultValues:l,resolver:re(de)}),t=v||M;return(0,e.jsx)("form",{noValidate:!0,onSubmit:G(async H=>{let fe=await me(H,i);await W({toast:T,result:fe,messages:{success:{title:"Configuraciones actualizadas"},error:{title:"Ha ocurrido un error"},loading:{title:"Actualizando configuraciones"}}}).then(()=>{i.navigate(_)}).catch(ge=>{P("root",{message:ge})})}),children:(0,e.jsxs)(b,{children:[(0,e.jsx)(oe,{errors:D}),(0,e.jsx)(h,{children:(0,e.jsxs)(S,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[(0,e.jsx)(o,{children:(0,e.jsx)(c,{fieldProps:{name:"smtp_host",id:"smtp_host",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Hostname SMTP"},control:m})}),(0,e.jsx)(o,{children:(0,e.jsx)(c,{fieldProps:{name:"smtp_username",id:"smtp_username",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Usuario SMTP"},control:m})}),(0,e.jsx)(o,{children:(0,e.jsx)(c,{fieldProps:{name:"smtp_password",id:"smtp_password",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Contrase\xF1a SMTP"},control:m})}),(0,e.jsx)(o,{children:(0,e.jsx)(c,{fieldProps:{name:"smtp_port",id:"smtp_port",type:"number",inputMode:"tel",htmlSize:5,maxLength:5,width:"auto",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Puerto SMTP"},control:m})}),(0,e.jsx)(o,{children:(0,e.jsx)(le,{control:m,fieldProps:{id:"smtp_use_tls",name:"smtp_use_tls"},formControlInnerProps:{text:"Usar TLS"}})}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(f,{})}),(0,e.jsx)(o,{children:(0,e.jsx)(c,{fieldProps:{name:"auth_expiration_days",id:"auth_expiration_days",type:"number",inputMode:"tel",htmlSize:5,maxLength:5,width:"auto",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Tiempo de espera para logout",helperText:"Expresado en d\xEDas"},control:m})}),(0,e.jsx)(o,{children:(0,e.jsx)(c,{fieldProps:{name:"admin_email",id:"admin_email",type:"text",inputMode:"email",htmlSize:30,width:"auto",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Correo electr\xF3nico Administrador"},control:m})})]})}),(0,e.jsx)(h,{children:(0,e.jsxs)(S,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(X,{size:"sm",textTransform:"uppercase",children:"Comunicaci\xF3n"})}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(c,{fieldProps:{name:"user_warning_message_title",id:"user_warning_message_title",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"T\xEDtulo del mensaje de advertencia"},control:m})}),(0,e.jsx)(o,{colSpan:{md:2},children:"Contenido del mensaje de advertencia"}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(E,{fieldProps:{name:"user_warning_message_content",id:"user_warning_message_content",isDisabled:t},formControlProps:{isDisabled:t},control:m})}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(f,{})}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(c,{fieldProps:{name:"user_disabled_message_title",id:"user_disabled_message_title",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"T\xEDtulo del mensaje de inhabilitaci\xF3n"},control:m})}),(0,e.jsx)(o,{colSpan:{md:2},children:"Contenido del mensaje de inhabilitaci\xF3n"}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(E,{fieldProps:{name:"user_disabled_message_content",id:"user_disabled_message_content",isDisabled:t},formControlProps:{isDisabled:t},control:m})})]})}),(0,e.jsx)(h,{children:(0,e.jsx)(te,{isLoading:t})})]})})};var x=d(p(),1),ce=()=>{let{state:n,retry:l}=$({url:ne,silent:!0});return n.map({loading:i=>(0,x.jsx)(ae,{}),error:({error:i})=>(0,x.jsx)(K,{error:i,retry:l,cancelAndNavigateTo:_}),success:i=>(0,x.jsx)(pe,{stateData:i.data})})};var I=d(p(),1);function ue(){let n=k();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(J,{title:"Correo saliente y sesiones",actionButton:{label:O,buttonProps:{colorScheme:"gray",onClick:()=>{n(_)}}}}),(0,I.jsx)(ce,{})]})}export{ue as default};
