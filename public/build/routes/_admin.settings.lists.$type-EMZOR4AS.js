import{a as V}from"/build/_shared/chunk-BR2XK6R6.js";import{a as k}from"/build/_shared/chunk-DFN4Z3JB.js";import{a as v}from"/build/_shared/chunk-TWC63WIN.js";import{e as G,f as N,h as z,j as B}from"/build/_shared/chunk-SD3IP6KZ.js";import{a as E}from"/build/_shared/chunk-N7LHE6QJ.js";import{a as x,b as X}from"/build/_shared/chunk-CLUXRPU5.js";import{a as q}from"/build/_shared/chunk-Y6HZBLWM.js";import{a as h,b as O,c as U}from"/build/_shared/chunk-MZS6CHAS.js";import{a as y}from"/build/_shared/chunk-VTMMMSTK.js";import{d as R}from"/build/_shared/chunk-SWYAOCMN.js";import{H as l,Qa as S,Sa as P,Wa as m,Ya as A,la as b,v as _,w as f}from"/build/_shared/chunk-GMXXJD7U.js";import"/build/_shared/chunk-MUTVBZ6W.js";import{c as F,d as L}from"/build/_shared/chunk-OHSBC2MA.js";import"/build/_shared/chunk-E43VAFT6.js";import{b as a}from"/build/_shared/chunk-J7TISYNY.js";import{e as n,h as e}from"/build/_shared/chunk-AXWLPIOK.js";e();e();e();e();var T=f("/dxt/pedido/articulos/print_list"),I=f("/dxt/pedido/articulos/screen_list"),ut=f("/dxt/pedido/articulos/print_ids");e();var w=async(o,t)=>await _({url:T,data:o,method:"POST",silent:!0},t),H=async(o,t)=>await _({url:I,data:o,method:"POST",silent:!0},t);var s=n(a(),1),J={screen:{api:{getAll:()=>R({url:I,silent:!0}),post:async(o,t)=>H(o,t)},title:"Lista de Art\xEDculos para Visualizaci\xF3n",description:(0,s.jsxs)(s.Fragment,{children:["Ingrese en la lista los c\xF3digos de art\xEDculo en el \xF3rden en quedesea que aparezcan durante la creaci\xF3n o edici\xF3n de un pedido.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Cualquier l\xEDnea que ingrese, que no contenga ning\xFAn c\xF3digo de art\xEDculo, ser\xE1 considerada como t\xEDtulo de grupo."]})},print:{api:{getAll:()=>R({url:T,silent:!0}),post:async(o,t)=>w(o,t)},title:"Lista de Art\xEDculos para Impresi\xF3n",description:(0,s.jsxs)(s.Fragment,{children:["Ingrese en la lista los c\xF3digos de art\xEDculo en el \xF3rden en que desea que aparezcan durante la impresi\xF3n de un pedido.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Cualquier l\xEDnea que ingrese, que no contenga ning\xFAn c\xF3digo de art\xEDculo, ser\xE1 considerada como t\xEDtulo de grupo."]})}};e();e();var i=n(a(),1),K=o=>{let{typeSettings:t}=o;return(0,i.jsx)(A,{width:"full",sx:{mt:8,mb:4},children:(0,i.jsxs)(S,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,i.jsx)(m,{children:(0,i.jsx)(X,{height:"380px"})}),(0,i.jsx)(m,{children:(0,i.jsx)(P,{fontSize:"sm",children:t.description})}),(0,i.jsx)(m,{children:(0,i.jsx)(x,{})}),(0,i.jsx)(m,{children:(0,i.jsx)(x,{})})]})})};e();e();var M=B({list:z().required("Debe ingresar al menos un c\xF3digo de art\xEDculo")}).required();var r=n(a(),1),Q=o=>{let{stateData:t,typeSettings:p}=o,g=O(),c=b(),{handleSubmit:Z,control:$,reset:at,setError:j,formState:{errors:tt,isSubmitting:et,isSubmitSuccessful:ot}}=G({defaultValues:{list:t?.join(`\r
`)||""},resolver:N(M)}),C=ot||et;return(0,r.jsx)("form",{noValidate:!0,onSubmit:Z(async rt=>{let it={data:rt.list.split(`
`)},st=await p.api.post(it,g);await U({toast:c,result:st,messages:{success:{title:"Lista actualizada"},error:{title:"Ha ocurrido un error"},loading:{title:"Actualizando lista"}}}).then(()=>{g.navigate(l)}).catch(nt=>{j("root",{message:nt})})}),children:(0,r.jsxs)(A,{children:[(0,r.jsx)(v,{errors:tt}),(0,r.jsx)(y,{children:(0,r.jsxs)(S,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,r.jsx)(m,{children:(0,r.jsx)(V,{fieldProps:{name:"list",id:"list",rows:20,fontSize:"sm"},formControlProps:{isDisabled:C},control:$})}),(0,r.jsx)(m,{children:(0,r.jsx)(P,{fontSize:"sm",children:p.description})})]})}),(0,r.jsx)(y,{children:(0,r.jsx)(k,{isLoading:C})})]})})};var D=n(a(),1),W=o=>{let{typeSettings:t}=o,{state:p,retry:g}=t.api.getAll();return p.map({loading:c=>(0,D.jsx)(K,{typeSettings:t}),error:({error:c})=>(0,D.jsx)(q,{error:c,retry:g,cancelAndNavigateTo:l}),success:c=>(0,D.jsx)(Q,{stateData:c.data,typeSettings:t})})};var d=n(a(),1);function Y(){let o=F(),{type:t}=L(),p=J[t];return t!=null&&p!=null?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h,{title:p.title,actionButton:{label:"Cancelar",buttonProps:{colorScheme:"gray",onClick:()=>{o(l)}}}}),(0,d.jsx)(W,{typeSettings:p})]}):(0,d.jsx)(E,{error:"Tipo de lista no v\xE1lida",buttonProps:{label:"Volver a Configuraci\xF3n",colorScheme:"green",onClick:()=>{o(l)}}})}export{Y as default};
