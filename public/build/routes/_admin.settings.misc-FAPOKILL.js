import{a as O,c as ae,e as le}from"/build/_shared/chunk-M6PJQDEO.js";import{a as E}from"/build/_shared/chunk-XMOVTS3H.js";import{a as u}from"/build/_shared/chunk-3ESF4QSI.js";import{a as w}from"/build/_shared/chunk-5BOKODV4.js";import{a as ie}from"/build/_shared/chunk-ZZ5XYL3D.js";import{a as se}from"/build/_shared/chunk-WRWUGCP4.js";import{d as re,e as oe,f as te,h as ne,i as c,j as F,l as me}from"/build/_shared/chunk-R3EIFBBN.js";import{a,b as R}from"/build/_shared/chunk-XAZLMTM6.js";import{b as Z}from"/build/_shared/chunk-MJXYRNXN.js";import{d as J}from"/build/_shared/chunk-EMOUVUCW.js";import{b as W}from"/build/_shared/chunk-ADLT376Z.js";import{a as h}from"/build/_shared/chunk-DVXB4GN2.js";import{b as ee}from"/build/_shared/chunk-QDTJ5SNF.js";import{Q as K,R as Q}from"/build/_shared/chunk-XMQ6MK6E.js";import{Bb as Y,Wb as C,b as U,bc as r,cc as A,dc as T,fa as j,h as L,hc as f,ic as $,jb as B,ta as g,xb as z,yb as X}from"/build/_shared/chunk-FXMINOMW.js";import{F as p,d as k}from"/build/_shared/chunk-3PZF3L6F.js";import{e as d,h as s}from"/build/_shared/chunk-P3O6KQPX.js";s();s();s();s();var x=class extends L{validate(l){let i=l;if(typeof i=="string"&&(i=i.trim().toLowerCase(),U(i)))return i;this.throwError(l)}};s();var o=d(p(),1),de=()=>(0,o.jsx)(T,{width:"full",sx:{mt:8,mb:4},children:(0,o.jsxs)(C,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(f,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(f,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(R,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(f,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(R,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})})]})});s();s();var S=d(p(),1),pe=n=>{let{fieldProps:l,formControlProps:i,formControlInnerProps:P,control:y}=n,{name:m}=l,{text:N,helperText:b,helperAction:D}=P||{},{field:{ref:M,onChange:v,value:t},fieldState:{invalid:q},formState:{errors:H}}=re({name:l.name,control:y});return(0,S.jsxs)(z,{...i,isInvalid:q,ref:M,children:[(0,S.jsxs)($,{alignItems:"center",children:[(0,S.jsx)(Y,{...l,onChange:v,isChecked:t,children:N}),D]}),b!=null&&(0,S.jsx)(X,{children:b})]})};s();var ue=me({smtp_host:c().required("Ingrese el host SMTP").test("valid-host","Ingrese un host SMTP v\xE1lido",n=>E(x,n)),smtp_username:c().required("Ingrese el usuario SMTP"),smtp_password:c().required("Ingrese la contrase\xF1a SMTP"),smtp_port:F().required("Ingrese el puerto SMTP").typeError("Ingrese un n\xFAmero de puerto SMTP v\xE1lido").test("is-port","Ingrese un puerto SMTP v\xE1lido",n=>E(O,n)),smtp_use_tls:ne().required(),auth_expiration_days:F().min(1,`El tiempo de espera debe ser mayor a ${1}`).max(365,`El tiempo de espera debe ser menor a ${365}`).required("Ingrese el tiempo de espera para logout").typeError("Ingrese el tiempo de espera para logout"),admin_email:c().required("Ingrese el correo electr\xF3nico del Administrador").email("Ingrese un correo electr\xF3nico v\xE1lido"),user_warning_message_title:c().required("Ingrese el t\xEDtulo del mensaje de advertencia"),user_warning_message_content:c().required("Ingrese el contenido del mensaje de advertencia"),user_disabled_message_title:c().required("Ingrese el t\xEDtulo del mensaje de inhabilitaci\xF3n"),user_disabled_message_content:c().required("Ingrese el contenido del mensaje de inhabilitaci\xF3n")}).required();var e=d(p(),1),ce=n=>{let{stateData:l}=n,i=ee(),P=B(),{handleSubmit:y,control:m,reset:N,setError:b,formState:{errors:D,isSubmitting:M,isSubmitSuccessful:v}}=oe({defaultValues:l,resolver:te(ue)}),t=v||M;return(0,e.jsx)("form",{noValidate:!0,onSubmit:y(async H=>{(await le(H,i)).map({success:V=>{P({title:Q,status:"success"}),i.navigate(g)},error:V=>{P({title:j}),b("root",{message:V.info.error_description})}})}),children:(0,e.jsxs)(T,{children:[(0,e.jsx)(se,{errors:D}),(0,e.jsx)(h,{children:(0,e.jsxs)(C,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(A,{size:"sm",textTransform:"uppercase",children:"Servidor de Correos"})}),(0,e.jsx)(r,{children:(0,e.jsx)(u,{fieldProps:{name:"smtp_host",id:"smtp_host",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Hostname SMTP"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(u,{fieldProps:{name:"smtp_username",id:"smtp_username",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Usuario SMTP"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(u,{fieldProps:{name:"smtp_password",id:"smtp_password",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Contrase\xF1a SMTP"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(u,{fieldProps:{name:"smtp_port",id:"smtp_port",type:"number",inputMode:"tel",htmlSize:5,maxLength:5,width:"auto",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Puerto SMTP"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(pe,{control:m,fieldProps:{id:"smtp_use_tls",name:"smtp_use_tls"},formControlInnerProps:{text:"Usar TLS"}})}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(f,{})}),(0,e.jsx)(r,{children:(0,e.jsx)(u,{fieldProps:{name:"auth_expiration_days",id:"auth_expiration_days",type:"number",inputMode:"tel",htmlSize:5,maxLength:5,width:"auto",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Tiempo de espera para logout",helperText:"Expresado en d\xEDas"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(u,{fieldProps:{name:"admin_email",id:"admin_email",type:"text",inputMode:"email",htmlSize:30,width:"auto",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Correo electr\xF3nico Administrador"},control:m})})]})}),(0,e.jsx)(h,{children:(0,e.jsxs)(C,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(A,{size:"sm",textTransform:"uppercase",children:"Mensajes"})}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(u,{fieldProps:{name:"user_warning_message_title",id:"user_warning_message_title",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"T\xEDtulo del mensaje de advertencia"},control:m})}),(0,e.jsx)(r,{colSpan:{md:2},children:"Contenido del mensaje de advertencia"}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(w,{fieldProps:{name:"user_warning_message_content",id:"user_warning_message_content",isDisabled:t},formControlProps:{isDisabled:t},control:m})}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(f,{})}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(u,{fieldProps:{name:"user_disabled_message_title",id:"user_disabled_message_title",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"T\xEDtulo del mensaje de inhabilitaci\xF3n"},control:m})}),(0,e.jsx)(r,{colSpan:{md:2},children:"Contenido del mensaje de inhabilitaci\xF3n"}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(w,{fieldProps:{name:"user_disabled_message_content",id:"user_disabled_message_content",isDisabled:t},formControlProps:{isDisabled:t},control:m})})]})}),(0,e.jsx)(h,{children:(0,e.jsx)(ie,{isLoading:t})})]})})};var G=d(p(),1),fe=()=>{let{state:n,retry:l}=J({...ae,silent:!0});return n.map({loading:i=>(0,G.jsx)(de,{}),error:({error:i})=>(0,G.jsx)(Z,{error:i,retry:l,cancelAndNavigateTo:g}),success:i=>(0,G.jsx)(ce,{stateData:i.data})})};var _=d(p(),1);function Ie(){let n=k();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(W,{title:K,returnButton:{buttonProps:{onClick:()=>{n(g)}}}}),(0,_.jsx)(fe,{})]})}export{Ie as default};
