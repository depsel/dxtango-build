import{a as O,c as le,e as de}from"/build/_shared/chunk-IGWMFNRO.js";import{a as w}from"/build/_shared/chunk-QZVSCUY4.js";import{a,b as R}from"/build/_shared/chunk-3E6R7P2Z.js";import{a as Z}from"/build/_shared/chunk-HTTKQLCQ.js";import{a as E}from"/build/_shared/chunk-XMOVTS3H.js";import{a as u}from"/build/_shared/chunk-O7SFO4YM.js";import{a as ne}from"/build/_shared/chunk-V3AUB7EB.js";import{a as ie}from"/build/_shared/chunk-ESWUXJEN.js";import{d as oe,e as te,f as se,g as me,h as c,i as F,k as ae}from"/build/_shared/chunk-64TEVNJ7.js";import{b as W}from"/build/_shared/chunk-LYIQ4MX7.js";import{a as T,b as re}from"/build/_shared/chunk-5L4DRFTU.js";import{b as ee}from"/build/_shared/chunk-JH3DW3YR.js";import{d as $}from"/build/_shared/chunk-KWCD7EI4.js";import{X as J,Y as K,Z as Q}from"/build/_shared/chunk-7FZKV7GZ.js";import{Jb as C,Qb as r,Rb as v,Sb as b,Wb as f,Xb as Y,Y as L,Ya as B,a as H,e as k,ha as _,kb as j,lb as z,ob as X}from"/build/_shared/chunk-X7PKD636.js";import{d as q}from"/build/_shared/chunk-DZKJSWIA.js";import{b as p}from"/build/_shared/chunk-IS2TAHEU.js";import{e as d,h as s}from"/build/_shared/chunk-P3O6KQPX.js";s();s();s();s();var h=class extends k{validate(l){let i=l;if(typeof i=="string"&&(i=i.trim().toLowerCase(),H(i)))return i;this.throwError(l)}};s();var o=d(p(),1),pe=()=>(0,o.jsx)(b,{width:"full",sx:{mt:8,mb:4},children:(0,o.jsxs)(C,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(f,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(f,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(R,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(f,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(R,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})})]})});s();s();var S=d(p(),1),ue=n=>{let{fieldProps:l,formControlProps:i,formControlInnerProps:x,control:y}=n,{name:m}=l,{text:N,helperText:P,helperAction:D}=x||{},{field:{ref:M,onChange:A,value:t},fieldState:{invalid:U},formState:{errors:V}}=oe({name:l.name,control:y});return(0,S.jsxs)(j,{...i,isInvalid:U,ref:M,children:[(0,S.jsxs)(Y,{alignItems:"center",children:[(0,S.jsx)(X,{...l,onChange:A,isChecked:t,children:N}),D]}),P!=null&&(0,S.jsx)(z,{children:P})]})};s();var ce=ae({smtp_host:c().required("Ingrese el host SMTP").test("valid-host","Ingrese un host SMTP v\xE1lido",n=>E(h,n)),smtp_username:c().required("Ingrese el usuario SMTP"),smtp_password:c().required("Ingrese la contrase\xF1a SMTP"),smtp_port:F().required("Ingrese el puerto SMTP").typeError("Ingrese un n\xFAmero de puerto SMTP v\xE1lido").test("is-port","Ingrese un puerto SMTP v\xE1lido",n=>E(O,n)),smtp_use_tls:me().required(),auth_expiration_days:F().min(1,`El tiempo de espera debe ser mayor a ${1}`).max(365,`El tiempo de espera debe ser menor a ${365}`).required("Ingrese el tiempo de espera para logout").typeError("Ingrese el tiempo de espera para logout"),admin_email:c().required("Ingrese el correo electr\xF3nico del Administrador").email("Ingrese un correo electr\xF3nico v\xE1lido"),user_warning_message_title:c().required("Ingrese el t\xEDtulo del mensaje de advertencia"),user_warning_message_content:c().required("Ingrese el contenido del mensaje de advertencia"),user_disabled_message_title:c().required("Ingrese el t\xEDtulo del mensaje de inhabilitaci\xF3n"),user_disabled_message_content:c().required("Ingrese el contenido del mensaje de inhabilitaci\xF3n")}).required();var e=d(p(),1),fe=n=>{let{stateData:l}=n,i=ee(),x=B(),{handleSubmit:y,control:m,reset:N,setError:P,formState:{errors:D,isSubmitting:M,isSubmitSuccessful:A}}=te({defaultValues:l,resolver:se(ce)}),t=A||M;return(0,e.jsx)("form",{noValidate:!0,onSubmit:y(async V=>{let _e=await de(V,i);await re({toast:x,result:_e,messages:{success:{title:K},error:{title:L},loading:{title:Q}}}).then(()=>{i.navigate(_)}).catch(Se=>{P("root",{message:Se})})}),children:(0,e.jsxs)(b,{children:[(0,e.jsx)(ie,{errors:D}),(0,e.jsx)(T,{children:(0,e.jsxs)(C,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(v,{size:"sm",textTransform:"uppercase",children:"Servidor de Correos"})}),(0,e.jsx)(r,{children:(0,e.jsx)(u,{fieldProps:{name:"smtp_host",id:"smtp_host",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Hostname SMTP"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(u,{fieldProps:{name:"smtp_username",id:"smtp_username",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Usuario SMTP"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(u,{fieldProps:{name:"smtp_password",id:"smtp_password",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Contrase\xF1a SMTP"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(u,{fieldProps:{name:"smtp_port",id:"smtp_port",type:"number",inputMode:"tel",htmlSize:5,maxLength:5,width:"auto",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Puerto SMTP"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(ue,{control:m,fieldProps:{id:"smtp_use_tls",name:"smtp_use_tls"},formControlInnerProps:{text:"Usar TLS"}})}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(f,{})}),(0,e.jsx)(r,{children:(0,e.jsx)(u,{fieldProps:{name:"auth_expiration_days",id:"auth_expiration_days",type:"number",inputMode:"tel",htmlSize:5,maxLength:5,width:"auto",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Tiempo de espera para logout",helperText:"Expresado en d\xEDas"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(u,{fieldProps:{name:"admin_email",id:"admin_email",type:"text",inputMode:"email",htmlSize:30,width:"auto",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Correo electr\xF3nico Administrador"},control:m})})]})}),(0,e.jsx)(T,{children:(0,e.jsxs)(C,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(v,{size:"sm",textTransform:"uppercase",children:"Mensajes"})}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(u,{fieldProps:{name:"user_warning_message_title",id:"user_warning_message_title",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"T\xEDtulo del mensaje de advertencia"},control:m})}),(0,e.jsx)(r,{colSpan:{md:2},children:"Contenido del mensaje de advertencia"}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(w,{fieldProps:{name:"user_warning_message_content",id:"user_warning_message_content",isDisabled:t},formControlProps:{isDisabled:t},control:m})}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(f,{})}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(u,{fieldProps:{name:"user_disabled_message_title",id:"user_disabled_message_title",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"T\xEDtulo del mensaje de inhabilitaci\xF3n"},control:m})}),(0,e.jsx)(r,{colSpan:{md:2},children:"Contenido del mensaje de inhabilitaci\xF3n"}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(w,{fieldProps:{name:"user_disabled_message_content",id:"user_disabled_message_content",isDisabled:t},formControlProps:{isDisabled:t},control:m})})]})}),(0,e.jsx)(T,{children:(0,e.jsx)(ne,{isLoading:t})})]})})};var G=d(p(),1),Ie=()=>{let{state:n,retry:l}=$({url:le,silent:!0});return n.map({loading:i=>(0,G.jsx)(pe,{}),error:({error:i})=>(0,G.jsx)(Z,{error:i,retry:l,cancelAndNavigateTo:_}),success:i=>(0,G.jsx)(fe,{stateData:i.data})})};var g=d(p(),1);function ge(){let n=q();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(W,{title:J,returnButton:{buttonProps:{onClick:()=>{n(_)}}}}),(0,g.jsx)(Ie,{})]})}export{ge as default};
