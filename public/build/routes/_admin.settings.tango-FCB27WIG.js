import{a as G,b as v,d as w}from"/build/_shared/chunk-JF66O3F7.js";import{a as P}from"/build/_shared/chunk-EZL2WUID.js";import{a as l}from"/build/_shared/chunk-AYUUBJTB.js";import{a as M}from"/build/_shared/chunk-YS7PZJ5S.js";import{a as F}from"/build/_shared/chunk-YPEM6OVU.js";import{e as L,f as R,h as b,i as T,j as V}from"/build/_shared/chunk-SD3IP6KZ.js";import{a}from"/build/_shared/chunk-NDYVTXFO.js";import{a as O}from"/build/_shared/chunk-P32U26JX.js";import{a as N,b as q,c as A}from"/build/_shared/chunk-QHPH3CD4.js";import{a as C}from"/build/_shared/chunk-ZX3ORQWN.js";import{d as E}from"/build/_shared/chunk-EFBMV3GD.js";import{A as x,P as g,Ya as I,cb as i,e as h,eb as S,ta as B}from"/build/_shared/chunk-DDQFO3X3.js";import"/build/_shared/chunk-MUTVBZ6W.js";import{c as D}from"/build/_shared/chunk-OHSBC2MA.js";import"/build/_shared/chunk-E43VAFT6.js";import{b as p}from"/build/_shared/chunk-J7TISYNY.js";import{e as m,h as t}from"/build/_shared/chunk-AXWLPIOK.js";t();t();t();t();var r=m(p(),1),U=()=>(0,r.jsx)(S,{width:"full",sx:{mt:8,mb:4},children:(0,r.jsxs)(I,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[(0,r.jsx)(i,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(i,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(i,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(i,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(i,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(i,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(i,{children:(0,r.jsx)(a,{})}),(0,r.jsx)(i,{children:(0,r.jsx)(a,{})})]})});t();t();t();t();function eo(e){if(typeof e!="string"||e.length<1)return!1;let s=e[0];return s>="0"&&s<="9"?!1:/^[A-Za-z0-9_]*$/.test(e)}function H(e){return eo(e)?typeof e=="string"&&e[0]!=="_":!1}var _=class extends h{validate(s){if(typeof s=="string"){let n=s.trim();if(H(s))return n}this.throwError(s)}};var z=V({db_host:b().required("Ingrese el host de la base de datos"),db_port:T().required("Ingrese un puerto").typeError("Ingrese un n\xFAmero de puerto v\xE1lido").test("is-port","Ingrese un puerto v\xE1lido",e=>P(G,e)),db_user:b().required("Ingrese el usuario de la base de datos"),db_password:b().required("Ingrese la contrase\xF1a de la base de datos"),tango_dictionary:b().required("Ingrese el diccionario base de Tango").test("mssql-db-name","Ingrese un nombre de Diccionario base v\xE1lido",e=>P(_,e)),db_connection_timeout_seconds:T().min(0,`El tiempo de espera debe ser mayor a ${0} segundos`).max(300,`El tiempo de espera debe ser menor a ${300} segundos`).required("Ingrese el tiempo de espera de la conexi\xF3n a la base de datos").typeError("Ingrese el tiempo de espera de la conexi\xF3n a la base de datos")}).required();var o=m(p(),1),$=e=>{let{stateData:s}=e,n=q(),X=B(),{handleSubmit:Z,control:c,reset:so,setError:J,formState:{errors:K,isSubmitting:W,isSubmitSuccessful:Y}}=L({defaultValues:s,resolver:R(z)}),d=Y||W;return(0,o.jsx)("form",{noValidate:!0,onSubmit:Z(async j=>{let oo=await w(j,n);await A({toast:X,result:oo,messages:{success:{title:"Conexi\xF3n a Tango actualizada"},error:{title:"Ha ocurrido un error"},loading:{title:"Actualizando conexi\xF3n a Tango"}}}).then(()=>{n.navigate(g)}).catch(ro=>{J("root",{message:ro})})}),children:(0,o.jsxs)(S,{children:[(0,o.jsx)(F,{errors:K}),(0,o.jsx)(C,{children:(0,o.jsxs)(I,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[(0,o.jsx)(i,{children:(0,o.jsx)(l,{fieldProps:{name:"db_host",id:"db_host",type:"text"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Host"},control:c})}),(0,o.jsx)(i,{children:(0,o.jsx)(l,{fieldProps:{name:"db_port",id:"db_port",type:"number",inputMode:"tel",htmlSize:5,width:"auto"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Puerto"},control:c})}),(0,o.jsx)(i,{children:(0,o.jsx)(l,{fieldProps:{name:"db_user",id:"db_user",type:"text"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Usuario SQL"},control:c})}),(0,o.jsx)(i,{children:(0,o.jsx)(l,{fieldProps:{name:"db_password",id:"db_password",type:"password"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Contrase\xF1a SQL"},control:c})}),(0,o.jsx)(i,{children:(0,o.jsx)(l,{fieldProps:{name:"tango_dictionary",id:"tango_dictionary",type:"text"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Diccionario base"},control:c})}),(0,o.jsx)(i,{children:(0,o.jsx)(l,{fieldProps:{name:"db_connection_timeout_seconds",id:"db_connection_timeout_seconds",type:"number",inputMode:"tel",htmlSize:5,maxLength:5,width:"auto"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Tiempo de espera (segundos)"},control:c})})]})}),(0,o.jsx)(C,{children:(0,o.jsx)(M,{isLoading:d})})]})})};var y=m(p(),1),k=()=>{let{state:e,retry:s}=E({url:v,silent:!0});return e.map({loading:n=>(0,y.jsx)(U,{}),error:({error:n})=>(0,y.jsx)(O,{error:n,retry:s,cancelAndNavigateTo:g}),success:n=>(0,y.jsx)($,{stateData:n.data})})};var f=m(p(),1);function Q(){let e=D();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(N,{title:"Conexi\xF3n a Tango",actionButton:{label:x,buttonProps:{colorScheme:"gray",onClick:()=>{e(g)}}}}),(0,f.jsx)(k,{})]})}export{Q as default};
