import{a as Q,b as d,c as Z,d as te,e as ae,f as se}from"/build/_shared/chunk-7R3O57NT.js";import{a as v}from"/build/_shared/chunk-36YI2FTW.js";import{a as re}from"/build/_shared/chunk-XMOVTS3H.js";import{a as F}from"/build/_shared/chunk-J76CSQVK.js";import"/build/_shared/chunk-DLLPPQ62.js";import{a as h}from"/build/_shared/chunk-3IIP4QSN.js";import{a as $}from"/build/_shared/chunk-SHMG4Y5B.js";import{a as Y}from"/build/_shared/chunk-L76L4QWD.js";import{e as W,f as J,h as ee,j as oe}from"/build/_shared/chunk-PLUCZ5ZI.js";import"/build/_shared/chunk-CMAVFNQJ.js";import"/build/_shared/chunk-KCUI5YJN.js";import{a as j}from"/build/_shared/chunk-C3XPFWZX.js";import{a as U}from"/build/_shared/chunk-KOPCI6QW.js";import{b as B}from"/build/_shared/chunk-QZCETK4F.js";import{a as q,b as K}from"/build/_shared/chunk-V6MG2CRX.js";import{a as I}from"/build/_shared/chunk-K2WBBUBW.js";import"/build/_shared/chunk-TT2RFLCL.js";import{a as X}from"/build/_shared/chunk-CD5IF7GC.js";import{w as M,x as z}from"/build/_shared/chunk-6CXKIKKN.js";import{a as T,b as R,c as E}from"/build/_shared/chunk-EF4J777R.js";import{D as L,Db as f,Ia as k,W as A,ia as C,ra as De,rb as D,ub as N,wb as l,xb as o,yb as u,zb as O}from"/build/_shared/chunk-JQLUC77E.js";import{d as H}from"/build/_shared/chunk-MJPS7W4Y.js";import{a as x,b as c}from"/build/_shared/chunk-IS2TAHEU.js";import{e as n,h as s}from"/build/_shared/chunk-P3O6KQPX.js";s();s();s();s();var le=n(x(),1);s();var ie=n(x(),1);var ne=n(De(),1);var de=()=>{let[i,a]=(0,ie.useState)(null),_=oe({password:ee().required("Ingrese una contrase\xF1a").test("password","Formato de contrase\xF1a no v\xE1lido",p=>{if(p!=""&&p!=null){let S=ae(p);return ne.default.isEqual(i,S)||a(S),re(se,p)}return!0})}).required();return{yupValidationSchema:te.concat(_),passwordStatus:i}};var e=n(c(),1),me=i=>{let{typeSettings:a}=i,_=X(),V=k(),{yupValidationSchema:p,passwordStatus:S}=de(),{state:P,result:fe}=B({url:U,fieldsMap:{label:"name",value:"id"}}),{state:b,result:_e}=a.api.getRelation(),{handleSubmit:Se,control:t,setError:Pe,resetField:be,watch:ge,formState:{errors:Ce,isSubmitting:Ie,isSubmitSuccessful:he}}=W({defaultValues:{habilitado_en_dxt:!0,puede_crear_pedido:!0,puede_editar_pedido:!0,ver_pedidos_cumplidos:!0,ver_sin_precio:!1,mostrar_mensaje_de_advertencia:!1,puede_anular_pedido:!1,borrar_pedido_al_anular:!1,aprobar_pedido_al_crear:!1,dia_de_entrega:30},resolver:J(p)}),g=ge("puede_anular_pedido");(0,le.useEffect)(()=>{g===!1&&be("borrar_pedido_al_anular",{defaultValue:!1})},[g]);let r=he||Ie;return(0,e.jsx)("form",{noValidate:!0,onSubmit:Se(async G=>{let{...w}=G;w.email===""&&delete w.email;let ye=w,Ge=await a.api.post(ye,_);await K({toast:V,result:Ge,messages:{success:{title:M},error:{title:A},loading:{title:z}}}).then(()=>{_.navigate(C)}).catch(we=>{Pe("root",{message:we})})}),children:(0,e.jsxs)(O,{children:[(0,e.jsx)(Y,{errors:Ce}),(0,e.jsx)(I,{children:(0,e.jsxs)(D,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(u,{size:"sm",textTransform:"uppercase",children:"Informaci\xF3n del Vendedor"})}),(0,e.jsxs)(o,{colSpan:{md:2},children:[(0,e.jsx)(F,{fieldProps:{name:"tango_id",placeholder:a.tangoRelatedFields?.placeholder,options:_e,noOptionsMessage(G){return a.tangoRelatedFields?.empty},isSearchable:!0,selectedOptionStyle:"check",isLoading:b instanceof T},formControlProps:{isDisabled:r||!(b instanceof E)},formControlInnerProps:{label:a.tangoRelatedFields?.label},control:t}),b instanceof R&&(0,e.jsx)(v,{error:b.errorOrNull().error})]}),(0,e.jsx)(o,{children:(0,e.jsx)(h,{fieldProps:{name:"username",id:"username",type:"text"},formControlProps:{isDisabled:r},formControlInnerProps:{label:"Nombre de Usuario"},control:t})}),(0,e.jsx)(o,{children:(0,e.jsx)(Z,{passwordStatus:S,disableForm:r,control:t})}),(0,e.jsx)(o,{children:(0,e.jsx)(h,{fieldProps:{name:"email",id:"email",type:"text",inputMode:"email"},formControlProps:{isDisabled:r},formControlInnerProps:{label:"Correo electr\xF3nico"},control:t})}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(f,{})}),(0,e.jsxs)(o,{colSpan:{md:2},children:[(0,e.jsx)(F,{fieldProps:{name:"perfil_facturacion_id",placeholder:"Seleccione un perfil",options:fe,noOptionsMessage(G){return"No hay perfiles disponibles"},isLoading:P instanceof T,selectedOptionStyle:"check"},formControlProps:{isDisabled:r||!(P instanceof E)},formControlInnerProps:{label:"Perfil de facturaci\xF3n"},control:t}),P instanceof R&&(0,e.jsx)(v,{error:P.errorOrNull().error})]}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(f,{})}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(u,{size:"sm",textTransform:"uppercase",children:"Estado"})}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(Q,{fieldProps:{name:"habilitado_en_dxt",options:[{value:!0,label:"Establecido en Tango"},{value:!1,label:"Deshabilitado"}]},formControlProps:{isDisabled:r},radioProps:{size:{base:"sm",sm:"md"}},control:t})}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(f,{})}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(u,{size:"sm",textTransform:"uppercase",children:"Comunicaci\xF3n"})}),(0,e.jsx)(o,{children:(0,e.jsx)(d,{fieldProps:{name:"mostrar_mensaje_de_advertencia",id:"mostrar_mensaje_de_advertencia"},formControlProps:{width:"auto",isDisabled:r},formControlInnerProps:{label:"Mostrar mensaje de advertencia"},control:t})})]})}),(0,e.jsx)(I,{children:(0,e.jsxs)(D,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(u,{size:"sm",textTransform:"uppercase",children:"Pedidos"})}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsxs)(N,{spacing:4,direction:{base:"column"},children:[(0,e.jsx)(l,{spacing:4,children:(0,e.jsx)(d,{fieldProps:{name:"puede_crear_pedido",id:"puede_crear_pedido"},formControlProps:{width:"auto",isDisabled:r},formControlInnerProps:{label:"Puede crear pedidos"},control:t})}),(0,e.jsx)(l,{spacing:4,children:(0,e.jsx)(d,{fieldProps:{name:"puede_editar_pedido",id:"puede_editar_pedido"},formControlProps:{width:"auto",isDisabled:r},formControlInnerProps:{label:"Puede editar pedidos"},control:t})}),(0,e.jsx)(l,{spacing:4,children:(0,e.jsx)(d,{fieldProps:{name:"puede_anular_pedido",id:"puede_anular_pedido"},formControlProps:{width:"auto",isDisabled:r},formControlInnerProps:{label:"Puede anular pedidos"},control:t})}),(0,e.jsx)(l,{spacing:4,children:(0,e.jsx)(d,{fieldProps:{name:"borrar_pedido_al_anular",id:"borrar_pedido_al_anular"},formControlProps:{width:"auto",isDisabled:r},formControlInnerProps:{label:"Borrar pedido al anular"},control:t,watch:{isDisabled:g===!1,...g===!1&&{isChecked:!1}}})}),(0,e.jsx)(l,{spacing:4,children:(0,e.jsx)(d,{fieldProps:{name:"aprobar_pedido_al_crear",id:"aprobar_pedido_al_crear"},formControlProps:{width:"auto",isDisabled:r},formControlInnerProps:{label:"Los pedidos se aprueban al crearlos"},control:t})}),(0,e.jsx)(l,{spacing:4,children:(0,e.jsx)(d,{fieldProps:{name:"ver_pedidos_cumplidos",id:"ver_pedidos_cumplidos"},formControlProps:{width:"auto",isDisabled:r},formControlInnerProps:{label:"Puede ver los pedidos cumplidos"},control:t})}),(0,e.jsx)(l,{spacing:4,children:(0,e.jsx)(d,{fieldProps:{name:"ver_sin_precio",id:"ver_sin_precio"},formControlProps:{width:"auto",isDisabled:r},formControlInnerProps:{label:"Puede ver art\xEDculos sin precios"},control:t})})]})}),(0,e.jsx)(o,{colSpan:{md:2},children:(0,e.jsx)(f,{})}),(0,e.jsx)(o,{children:(0,e.jsx)(h,{fieldProps:{name:"dia_de_entrega",id:"dia_de_entrega",type:"number",inputMode:"tel"},formControlProps:{isDisabled:r},formControlInnerProps:{label:"Tiempo de entrega de pedidos",helperText:"Expresado en d\xEDas"},control:t})}),(0,e.jsx)(o,{})]})}),(0,e.jsx)(I,{children:(0,e.jsx)($,{buttonActionText:"Guardar",isLoading:r,buttonCancelUrl:a.cancelButtonNavigateTo})})]})})};var ce=n(c(),1),pe=i=>{let{typeSettings:a}=i;return(0,ce.jsx)(me,{typeSettings:a})};var m=n(c(),1);function ue(){let i=j.vendors,a=H();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(q,{title:i.titles.create,actionButton:{label:L,buttonProps:{colorScheme:"gray",onClick:()=>{a(C)}}}}),(0,m.jsx)(pe,{typeSettings:i})]})}export{ue as default};
