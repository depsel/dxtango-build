import{a as G,b as z,d as $}from"/build/_shared/chunk-KVVGRLHY.js";import{a as N}from"/build/_shared/chunk-XMOVTS3H.js";import{a as l}from"/build/_shared/chunk-3IIP4QSN.js";import{a as w}from"/build/_shared/chunk-SHMG4Y5B.js";import{a as v}from"/build/_shared/chunk-L76L4QWD.js";import{e as M,f as V,h as b,i as T,j as H}from"/build/_shared/chunk-PLUCZ5ZI.js";import{a as m}from"/build/_shared/chunk-LWCE64AO.js";import{a as U}from"/build/_shared/chunk-NNGRPTM4.js";import{a as q,b as L}from"/build/_shared/chunk-V6MG2CRX.js";import{a as y}from"/build/_shared/chunk-K2WBBUBW.js";import{a as F}from"/build/_shared/chunk-CD5IF7GC.js";import{f as x,g as A,h as R}from"/build/_shared/chunk-6CXKIKKN.js";import{d as B}from"/build/_shared/chunk-EF4J777R.js";import{D as h,Ia as O,W as E,ba as g,e as P,rb as I,xb as s,zb as _}from"/build/_shared/chunk-JQLUC77E.js";import{d as D}from"/build/_shared/chunk-MJPS7W4Y.js";import{b as p}from"/build/_shared/chunk-IS2TAHEU.js";import{e as a,h as t}from"/build/_shared/chunk-P3O6KQPX.js";t();t();t();t();var r=a(p(),1),k=()=>(0,r.jsx)(_,{width:"full",sx:{mt:8,mb:4},children:(0,r.jsxs)(I,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[(0,r.jsx)(s,{children:(0,r.jsx)(m,{})}),(0,r.jsx)(s,{children:(0,r.jsx)(m,{})}),(0,r.jsx)(s,{children:(0,r.jsx)(m,{})}),(0,r.jsx)(s,{children:(0,r.jsx)(m,{})}),(0,r.jsx)(s,{children:(0,r.jsx)(m,{})}),(0,r.jsx)(s,{children:(0,r.jsx)(m,{})}),(0,r.jsx)(s,{children:(0,r.jsx)(m,{})}),(0,r.jsx)(s,{children:(0,r.jsx)(m,{})})]})});t();t();t();t();function no(e){if(typeof e!="string"||e.length<1)return!1;let i=e[0];return i>="0"&&i<="9"?!1:/^[A-Za-z0-9_]*$/.test(e)}function Q(e){return no(e)?typeof e=="string"&&e[0]!=="_":!1}var S=class extends P{validate(i){if(typeof i=="string"){let n=i.trim();if(Q(i))return n}this.throwError(i)}};var X=H({db_host:b().required("Ingrese el host de la base de datos"),db_port:T().required("Ingrese un puerto").typeError("Ingrese un n\xFAmero de puerto v\xE1lido").test("is-port","Ingrese un puerto v\xE1lido",e=>N(G,e)),db_user:b().required("Ingrese el usuario de la base de datos"),db_password:b().required("Ingrese la contrase\xF1a de la base de datos"),tango_dictionary:b().required("Ingrese el diccionario base de Tango").test("mssql-db-name","Ingrese un nombre de Diccionario base v\xE1lido",e=>N(S,e)),db_connection_timeout_seconds:T().min(0,`El tiempo de espera debe ser mayor a ${0} segundos`).max(300,`El tiempo de espera debe ser menor a ${300} segundos`).required("Ingrese el tiempo de espera de la conexi\xF3n a la base de datos").typeError("Ingrese el tiempo de espera de la conexi\xF3n a la base de datos")}).required();var o=a(p(),1),K=e=>{let{stateData:i}=e,n=F(),W=O(),{handleSubmit:Y,control:c,reset:po,setError:j,formState:{errors:oo,isSubmitting:ro,isSubmitSuccessful:eo}}=M({defaultValues:i,resolver:V(X)}),d=eo||ro;return(0,o.jsx)("form",{noValidate:!0,onSubmit:Y(async to=>{let so=await $(to,n);await L({toast:W,result:so,messages:{success:{title:A},error:{title:E},loading:{title:R}}}).then(()=>{n.navigate(g)}).catch(io=>{j("root",{message:io})})}),children:(0,o.jsxs)(_,{children:[(0,o.jsx)(v,{errors:oo}),(0,o.jsx)(y,{children:(0,o.jsxs)(I,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,o.jsx)(s,{children:(0,o.jsx)(l,{fieldProps:{name:"db_host",id:"db_host",type:"text"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Host"},control:c})}),(0,o.jsx)(s,{children:(0,o.jsx)(l,{fieldProps:{name:"db_port",id:"db_port",type:"number",inputMode:"tel",htmlSize:5,width:"auto"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Puerto"},control:c})}),(0,o.jsx)(s,{children:(0,o.jsx)(l,{fieldProps:{name:"db_user",id:"db_user",type:"text"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Usuario SQL"},control:c})}),(0,o.jsx)(s,{children:(0,o.jsx)(l,{fieldProps:{name:"db_password",id:"db_password",type:"password"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Contrase\xF1a SQL"},control:c})}),(0,o.jsx)(s,{children:(0,o.jsx)(l,{fieldProps:{name:"tango_dictionary",id:"tango_dictionary",type:"text"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Diccionario base"},control:c})}),(0,o.jsx)(s,{children:(0,o.jsx)(l,{fieldProps:{name:"db_connection_timeout_seconds",id:"db_connection_timeout_seconds",type:"number",inputMode:"tel",htmlSize:5,maxLength:5,width:"auto"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Tiempo de espera (segundos)"},control:c})})]})}),(0,o.jsx)(y,{children:(0,o.jsx)(w,{isLoading:d})})]})})};var C=a(p(),1),Z=()=>{let{state:e,retry:i}=B({url:z,silent:!0});return e.map({loading:n=>(0,C.jsx)(k,{}),error:({error:n})=>(0,C.jsx)(U,{error:n,retry:i,cancelAndNavigateTo:g}),success:n=>(0,C.jsx)(K,{stateData:n.data})})};var f=a(p(),1);function J(){let e=D();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(q,{title:x,actionButton:{label:h,buttonProps:{colorScheme:"gray",onClick:()=>{e(g)}}}}),(0,f.jsx)(Z,{})]})}export{J as default};
