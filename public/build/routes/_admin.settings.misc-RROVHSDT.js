import{a as k,c as de,e as pe}from"/build/_shared/chunk-KVVGRLHY.js";import{a as w}from"/build/_shared/chunk-U7O34EFR.js";import{a as E}from"/build/_shared/chunk-XMOVTS3H.js";import{a as c}from"/build/_shared/chunk-3IIP4QSN.js";import{a as me}from"/build/_shared/chunk-SHMG4Y5B.js";import{a as ne}from"/build/_shared/chunk-L76L4QWD.js";import{d as te,e as se,f as ie,g as ae,h as u,i as F,j as le}from"/build/_shared/chunk-PLUCZ5ZI.js";import{a,b as R}from"/build/_shared/chunk-LWCE64AO.js";import{a as ee}from"/build/_shared/chunk-NNGRPTM4.js";import{a as Z,b as oe}from"/build/_shared/chunk-V6MG2CRX.js";import{a as T}from"/build/_shared/chunk-K2WBBUBW.js";import{a as re}from"/build/_shared/chunk-CD5IF7GC.js";import{S as J,T as Q,U as W}from"/build/_shared/chunk-6CXKIKKN.js";import{d as K}from"/build/_shared/chunk-EF4J777R.js";import{D as L,Db as f,Eb as $,Ia as j,W as B,Wa as z,Xa as X,_a as Y,a as H,ba as _,e as O,rb as C,xb as r,yb as v,zb as b}from"/build/_shared/chunk-JQLUC77E.js";import{d as q}from"/build/_shared/chunk-MJPS7W4Y.js";import{b as p}from"/build/_shared/chunk-IS2TAHEU.js";import{e as d,h as s}from"/build/_shared/chunk-P3O6KQPX.js";s();s();s();s();var h=class extends O{validate(l){let i=l;if(typeof i=="string"&&(i=i.trim().toLowerCase(),H(i)))return i;this.throwError(l)}};s();var o=d(p(),1),ce=()=>(0,o.jsx)(b,{width:"full",sx:{mt:8,mb:4},children:(0,o.jsxs)(C,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(f,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(f,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(R,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(f,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{colSpan:{md:2},children:(0,o.jsx)(R,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})}),(0,o.jsx)(r,{children:(0,o.jsx)(a,{})})]})});s();s();var S=d(p(),1),ue=n=>{let{fieldProps:l,formControlProps:i,formControlInnerProps:x,control:y}=n,{name:m}=l,{text:N,helperText:P,helperAction:D}=x||{},{field:{ref:M,onChange:A,value:t},fieldState:{invalid:U},formState:{errors:V}}=te({name:l.name,control:y});return(0,S.jsxs)(z,{...i,isInvalid:U,ref:M,children:[(0,S.jsxs)($,{alignItems:"center",children:[(0,S.jsx)(Y,{...l,onChange:A,isChecked:t,children:N}),D]}),P!=null&&(0,S.jsx)(X,{children:P})]})};s();var fe=le({smtp_host:u().required("Ingrese el host SMTP").test("valid-host","Ingrese un host SMTP v\xE1lido",n=>E(h,n)),smtp_username:u().required("Ingrese el usuario SMTP"),smtp_password:u().required("Ingrese la contrase\xF1a SMTP"),smtp_port:F().required("Ingrese el puerto SMTP").typeError("Ingrese un n\xFAmero de puerto SMTP v\xE1lido").test("is-port","Ingrese un puerto SMTP v\xE1lido",n=>E(k,n)),smtp_use_tls:ae().required(),auth_expiration_days:F().min(1,`El tiempo de espera debe ser mayor a ${1}`).max(365,`El tiempo de espera debe ser menor a ${365}`).required("Ingrese el tiempo de espera para logout").typeError("Ingrese el tiempo de espera para logout"),admin_email:u().required("Ingrese el correo electr\xF3nico del Administrador").email("Ingrese un correo electr\xF3nico v\xE1lido"),user_warning_message_title:u().required("Ingrese el t\xEDtulo del mensaje de advertencia"),user_warning_message_content:u().required("Ingrese el contenido del mensaje de advertencia"),user_disabled_message_title:u().required("Ingrese el t\xEDtulo del mensaje de inhabilitaci\xF3n"),user_disabled_message_content:u().required("Ingrese el contenido del mensaje de inhabilitaci\xF3n")}).required();var e=d(p(),1),Ie=n=>{let{stateData:l}=n,i=re(),x=j(),{handleSubmit:y,control:m,reset:N,setError:P,formState:{errors:D,isSubmitting:M,isSubmitSuccessful:A}}=se({defaultValues:l,resolver:ie(fe)}),t=A||M;return(0,e.jsx)("form",{noValidate:!0,onSubmit:y(async V=>{let Se=await pe(V,i);await oe({toast:x,result:Se,messages:{success:{title:Q},error:{title:B},loading:{title:W}}}).then(()=>{i.navigate(_)}).catch(Ce=>{P("root",{message:Ce})})}),children:(0,e.jsxs)(b,{children:[(0,e.jsx)(ne,{errors:D}),(0,e.jsx)(T,{children:(0,e.jsxs)(C,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(v,{size:"sm",textTransform:"uppercase",children:"Servidor de Correos"})}),(0,e.jsx)(r,{children:(0,e.jsx)(c,{fieldProps:{name:"smtp_host",id:"smtp_host",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Hostname SMTP"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(c,{fieldProps:{name:"smtp_username",id:"smtp_username",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Usuario SMTP"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(c,{fieldProps:{name:"smtp_password",id:"smtp_password",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Contrase\xF1a SMTP"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(c,{fieldProps:{name:"smtp_port",id:"smtp_port",type:"number",inputMode:"tel",htmlSize:5,maxLength:5,width:"auto",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Puerto SMTP"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(ue,{control:m,fieldProps:{id:"smtp_use_tls",name:"smtp_use_tls"},formControlInnerProps:{text:"Usar TLS"}})}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(f,{})}),(0,e.jsx)(r,{children:(0,e.jsx)(c,{fieldProps:{name:"auth_expiration_days",id:"auth_expiration_days",type:"number",inputMode:"tel",htmlSize:5,maxLength:5,width:"auto",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Tiempo de espera para logout",helperText:"Expresado en d\xEDas"},control:m})}),(0,e.jsx)(r,{children:(0,e.jsx)(c,{fieldProps:{name:"admin_email",id:"admin_email",type:"text",inputMode:"email",htmlSize:30,width:"auto",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"Correo electr\xF3nico Administrador"},control:m})})]})}),(0,e.jsx)(T,{children:(0,e.jsxs)(C,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(v,{size:"sm",textTransform:"uppercase",children:"Mensajes"})}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(c,{fieldProps:{name:"user_warning_message_title",id:"user_warning_message_title",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"T\xEDtulo del mensaje de advertencia"},control:m})}),(0,e.jsx)(r,{colSpan:{md:2},children:"Contenido del mensaje de advertencia"}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(w,{fieldProps:{name:"user_warning_message_content",id:"user_warning_message_content",isDisabled:t},formControlProps:{isDisabled:t},control:m})}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(f,{})}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(c,{fieldProps:{name:"user_disabled_message_title",id:"user_disabled_message_title",type:"text",isDisabled:t},formControlProps:{isDisabled:t},formControlInnerProps:{label:"T\xEDtulo del mensaje de inhabilitaci\xF3n"},control:m})}),(0,e.jsx)(r,{colSpan:{md:2},children:"Contenido del mensaje de inhabilitaci\xF3n"}),(0,e.jsx)(r,{colSpan:{md:2},children:(0,e.jsx)(w,{fieldProps:{name:"user_disabled_message_content",id:"user_disabled_message_content",isDisabled:t},formControlProps:{isDisabled:t},control:m})})]})}),(0,e.jsx)(T,{children:(0,e.jsx)(me,{isLoading:t})})]})})};var G=d(p(),1),ge=()=>{let{state:n,retry:l}=K({url:de,silent:!0});return n.map({loading:i=>(0,G.jsx)(ce,{}),error:({error:i})=>(0,G.jsx)(ee,{error:i,retry:l,cancelAndNavigateTo:_}),success:i=>(0,G.jsx)(Ie,{stateData:i.data})})};var g=d(p(),1);function _e(){let n=q();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z,{title:J,actionButton:{label:L,buttonProps:{colorScheme:"gray",onClick:()=>{n(_)}}}}),(0,g.jsx)(ge,{})]})}export{_e as default};
