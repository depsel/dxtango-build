import{a as H}from"/build/_shared/chunk-MPSDY4J5.js";import{a as A,b as T}from"/build/_shared/chunk-WHB6PXS5.js";import{a as v}from"/build/_shared/chunk-6LFQOQ2J.js";import{a as z}from"/build/_shared/chunk-ZFJAHTR3.js";import{e as B,f as k,h as V,j as w}from"/build/_shared/chunk-SD3IP6KZ.js";import{a as E}from"/build/_shared/chunk-OLJ55E3R.js";import{f as h,g as q}from"/build/_shared/chunk-MBUXSZLQ.js";import{a as _,b as N}from"/build/_shared/chunk-YTOWKOY6.js";import{a as X}from"/build/_shared/chunk-RPLQ3BWP.js";import{a as G,b as U,c as O}from"/build/_shared/chunk-BU4ZWQ52.js";import{a as R}from"/build/_shared/chunk-ZYICKRUE.js";import{d as D}from"/build/_shared/chunk-CL72YJJR.js";import{Aa as x,C,V as l,jb as f,lb as S,pb as m,rb as P,v as y}from"/build/_shared/chunk-AKWCNMIR.js";import{c as F,d as b}from"/build/_shared/chunk-N2MSTKAL.js";import{b as a}from"/build/_shared/chunk-J7TISYNY.js";import{e as n,h as o}from"/build/_shared/chunk-AXWLPIOK.js";o();o();o();o();var J=async(e,t)=>await y({url:A,data:e,method:"POST",silent:!0},t),K=async(e,t)=>await y({url:T,data:e,method:"POST",silent:!0},t);var s=n(a(),1),Y={screen:{api:{getAll:()=>D({url:T,silent:!0}),post:async(e,t)=>K(e,t)},title:"Lista de Art\xEDculos para Visualizaci\xF3n",description:(0,s.jsxs)(s.Fragment,{children:["Ingrese en la lista los c\xF3digos de art\xEDculo en el \xF3rden en quedesea que aparezcan durante la creaci\xF3n o edici\xF3n de un pedido.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Cualquier l\xEDnea que ingrese, que no contenga ning\xFAn c\xF3digo de art\xEDculo, ser\xE1 considerada como t\xEDtulo de grupo."]})},print:{api:{getAll:()=>D({url:A,silent:!0}),post:async(e,t)=>J(e,t)},title:"Lista de Art\xEDculos para Impresi\xF3n",description:(0,s.jsxs)(s.Fragment,{children:["Ingrese en la lista los c\xF3digos de art\xEDculo en el \xF3rden en que desea que aparezcan durante la impresi\xF3n de un pedido.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Cualquier l\xEDnea que ingrese, que no contenga ning\xFAn c\xF3digo de art\xEDculo, ser\xE1 considerada como t\xEDtulo de grupo."]})}};o();o();var i=n(a(),1),M=e=>{let{typeSettings:t}=e;return(0,i.jsx)(P,{width:"full",sx:{mt:8,mb:4},children:(0,i.jsxs)(f,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,i.jsx)(m,{children:(0,i.jsx)(N,{height:"380px"})}),(0,i.jsx)(m,{children:(0,i.jsx)(S,{fontSize:"sm",children:t.description})}),(0,i.jsx)(m,{children:(0,i.jsx)(_,{})}),(0,i.jsx)(m,{children:(0,i.jsx)(_,{})})]})})};o();o();var Q=w({list:V().required("Debe ingresar al menos un c\xF3digo de art\xEDculo")}).required();var r=n(a(),1),W=e=>{let{stateData:t,typeSettings:p}=e,g=U(),c=x(),{handleSubmit:j,control:tt,reset:mt,setError:et,formState:{errors:ot,isSubmitting:rt,isSubmitSuccessful:it}}=B({defaultValues:{list:t?.join(`\r
`)||""},resolver:k(Q)}),L=it||rt;return(0,r.jsx)("form",{noValidate:!0,onSubmit:j(async st=>{let nt={data:st.list.split(`
`)},at=await p.api.post(nt,g);await O({toast:c,result:at,messages:{success:{title:"Lista actualizada"},error:{title:"Ha ocurrido un error"},loading:{title:"Actualizando lista"}}}).then(()=>{g.navigate(l)}).catch(pt=>{et("root",{message:pt})})}),children:(0,r.jsxs)(P,{children:[(0,r.jsx)(z,{errors:ot}),(0,r.jsx)(R,{children:(0,r.jsxs)(f,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,r.jsx)(m,{children:(0,r.jsx)(H,{fieldProps:{name:"list",id:"list",rows:20,fontSize:"sm"},formControlProps:{isDisabled:L},control:tt})}),(0,r.jsx)(m,{children:(0,r.jsx)(S,{fontSize:"sm",children:p.description})})]})}),(0,r.jsx)(R,{children:(0,r.jsx)(v,{isLoading:L})})]})})};var I=n(a(),1),Z=e=>{let{typeSettings:t}=e,{state:p,retry:g}=t.api.getAll();return p.map({loading:c=>(0,I.jsx)(M,{typeSettings:t}),error:({error:c})=>(0,I.jsx)(X,{error:c,retry:g,cancelAndNavigateTo:l}),success:c=>(0,I.jsx)(W,{stateData:c.data,typeSettings:t})})};var u=n(a(),1);function $(){let e=F(),{type:t}=b(),p=Y[t];return t!=null&&p!=null?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(G,{title:p.title,actionButton:{label:C,buttonProps:{colorScheme:"gray",onClick:()=>{e(l)}}}}),(0,u.jsx)(Z,{typeSettings:p})]}):(0,u.jsx)(E,{error:h,buttonProps:{label:q,colorScheme:"green",onClick:()=>{e(l)}}})}export{$ as default};
