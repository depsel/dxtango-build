import{a as V}from"/build/_shared/chunk-TMKF3IF7.js";import{a as h}from"/build/_shared/chunk-VQNFCJCF.js";import{a as x,b as G}from"/build/_shared/chunk-RGOFBEZH.js";import{a as q}from"/build/_shared/chunk-WYX374NE.js";import{a as k}from"/build/_shared/chunk-IUKXLSLM.js";import{a as v}from"/build/_shared/chunk-QS5NQQHD.js";import{e as N,f as X,h as z,j as B}from"/build/_shared/chunk-SD3IP6KZ.js";import{a as E,b as U,c as O}from"/build/_shared/chunk-DYPZFGEQ.js";import{a as y}from"/build/_shared/chunk-6IXGFIFA.js";import{d as _}from"/build/_shared/chunk-6WQ4ASNM.js";import{H as l,Qa as f,Sa as S,Wa as m,Ya as P,la as b,v as R,w as D}from"/build/_shared/chunk-AN2JWTYU.js";import"/build/_shared/chunk-MUTVBZ6W.js";import{c as F,d as L}from"/build/_shared/chunk-OHSBC2MA.js";import"/build/_shared/chunk-E43VAFT6.js";import{b as a}from"/build/_shared/chunk-J7TISYNY.js";import{e as n,h as e}from"/build/_shared/chunk-AXWLPIOK.js";e();e();e();e();var A=D("/dxt/pedido/articulos/print"),I=D("/dxt/pedido/articulos/screen");e();var w=async(o,t)=>await R({url:A,data:o,method:"POST",silent:!0},t),H=async(o,t)=>await R({url:I,data:o,method:"POST",silent:!0},t);var s=n(a(),1),J={screen:{api:{getAll:()=>_({url:I,silent:!0}),post:async(o,t)=>H(o,t)},title:"Lista de Art\xEDculos para Visualizaci\xF3n",description:(0,s.jsxs)(s.Fragment,{children:["Ingrese en la lista los c\xF3digos de art\xEDculo en el \xF3rden en quedesea que aparezcan durante la creaci\xF3n o edici\xF3n de un pedido.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Cualquier l\xEDnea que ingrese, que no contenga ning\xFAn c\xF3digo de art\xEDculo, ser\xE1 considerada como t\xEDtulo de grupo."]})},print:{api:{getAll:()=>_({url:A,silent:!0}),post:async(o,t)=>w(o,t)},title:"Lista de Art\xEDculos para Impresi\xF3n",description:(0,s.jsxs)(s.Fragment,{children:["Ingrese en la lista los c\xF3digos de art\xEDculo en el \xF3rden en que desea que aparezcan durante la impresi\xF3n de un pedido.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Cualquier l\xEDnea que ingrese, que no contenga ning\xFAn c\xF3digo de art\xEDculo, ser\xE1 considerada como t\xEDtulo de grupo."]})}};e();e();var i=n(a(),1),K=o=>{let{typeSettings:t}=o;return(0,i.jsx)(P,{width:"full",sx:{mt:8,mb:4},children:(0,i.jsxs)(f,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,i.jsx)(m,{children:(0,i.jsx)(G,{height:"380px"})}),(0,i.jsx)(m,{children:(0,i.jsx)(S,{fontSize:"sm",children:t.description})}),(0,i.jsx)(m,{children:(0,i.jsx)(x,{})}),(0,i.jsx)(m,{children:(0,i.jsx)(x,{})})]})})};e();e();var M=B({list:z().required("Debe ingresar al menos un c\xF3digo de art\xEDculo")}).required();var r=n(a(),1),Q=o=>{let{stateData:t,typeSettings:p}=o,g=U(),c=b(),{handleSubmit:Z,control:$,reset:at,setError:j,formState:{errors:tt,isSubmitting:et,isSubmitSuccessful:ot}}=N({defaultValues:{list:t?.join(`\r
`)||""},resolver:X(M)}),C=ot||et;return(0,r.jsx)("form",{noValidate:!0,onSubmit:Z(async rt=>{let it={data:rt.list.split(`
`)},st=await p.api.post(it,g);await O({toast:c,result:st,messages:{success:{title:"Lista actualizada"},error:{title:"Ha ocurrido un error"},loading:{title:"Actualizando lista"}}}).then(()=>{g.navigate(l)}).catch(nt=>{j("root",{message:nt})})}),children:(0,r.jsxs)(P,{children:[(0,r.jsx)(v,{errors:tt}),(0,r.jsx)(y,{children:(0,r.jsxs)(f,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,r.jsx)(m,{children:(0,r.jsx)(V,{fieldProps:{name:"list",id:"list",rows:20,fontSize:"sm"},formControlProps:{isDisabled:C},control:$})}),(0,r.jsx)(m,{children:(0,r.jsx)(S,{fontSize:"sm",children:p.description})})]})}),(0,r.jsx)(y,{children:(0,r.jsx)(k,{isLoading:C})})]})})};var T=n(a(),1),W=o=>{let{typeSettings:t}=o,{state:p,retry:g}=t.api.getAll();return p.map({loading:c=>(0,T.jsx)(K,{typeSettings:t}),error:({error:c})=>(0,T.jsx)(q,{error:c,retry:g,cancelAndNavigateTo:l}),success:c=>(0,T.jsx)(Q,{stateData:c.data,typeSettings:t})})};var d=n(a(),1);function Y(){let o=F(),{type:t}=L(),p=J[t];return t!=null&&p!=null?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(E,{title:p.title,actionButton:{label:"Cancelar",buttonProps:{colorScheme:"gray",onClick:()=>{o(l)}}}}),(0,d.jsx)(W,{typeSettings:p})]}):(0,d.jsx)(h,{error:"Tipo de lista no v\xE1lida",buttonProps:{label:"Volver a Configuraci\xF3n",colorScheme:"green",onClick:()=>{o(l)}}})}export{Y as default};
