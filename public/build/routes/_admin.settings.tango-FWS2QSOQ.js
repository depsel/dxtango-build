import{a as G,b as H,d as z}from"/build/_shared/chunk-IGWMFNRO.js";import{a as m}from"/build/_shared/chunk-3E6R7P2Z.js";import{a as q}from"/build/_shared/chunk-HTTKQLCQ.js";import{a as N}from"/build/_shared/chunk-XMOVTS3H.js";import{a as l}from"/build/_shared/chunk-O7SFO4YM.js";import{a as v}from"/build/_shared/chunk-V3AUB7EB.js";import{a as V}from"/build/_shared/chunk-ESWUXJEN.js";import{e as L,f as M,h as b,i as T,k as w}from"/build/_shared/chunk-64TEVNJ7.js";import{b as R}from"/build/_shared/chunk-LYIQ4MX7.js";import{a as y,b as F}from"/build/_shared/chunk-5L4DRFTU.js";import{b as U}from"/build/_shared/chunk-JH3DW3YR.js";import{d as O}from"/build/_shared/chunk-KWCD7EI4.js";import{f as B,g as x,h as A}from"/build/_shared/chunk-7FZKV7GZ.js";import{Jb as I,Qb as s,Sb as _,Y as h,Ya as E,e as P,ha as g}from"/build/_shared/chunk-X7PKD636.js";import{d as D}from"/build/_shared/chunk-DZKJSWIA.js";import{b as p}from"/build/_shared/chunk-IS2TAHEU.js";import{e as a,h as t}from"/build/_shared/chunk-P3O6KQPX.js";t();t();t();t();var o=a(p(),1),$=()=>(0,o.jsx)(_,{width:"full",sx:{mt:8,mb:4},children:(0,o.jsxs)(I,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[(0,o.jsx)(s,{children:(0,o.jsx)(m,{})}),(0,o.jsx)(s,{children:(0,o.jsx)(m,{})}),(0,o.jsx)(s,{children:(0,o.jsx)(m,{})}),(0,o.jsx)(s,{children:(0,o.jsx)(m,{})}),(0,o.jsx)(s,{children:(0,o.jsx)(m,{})}),(0,o.jsx)(s,{children:(0,o.jsx)(m,{})}),(0,o.jsx)(s,{children:(0,o.jsx)(m,{})}),(0,o.jsx)(s,{children:(0,o.jsx)(m,{})})]})});t();t();t();t();function ir(e){if(typeof e!="string"||e.length<1)return!1;let i=e[0];return i>="0"&&i<="9"?!1:/^[A-Za-z0-9_]*$/.test(e)}function k(e){return ir(e)?typeof e=="string"&&e[0]!=="_":!1}var S=class extends P{validate(i){if(typeof i=="string"){let n=i.trim();if(k(i))return n}this.throwError(i)}};var Q=w({db_host:b().required("Ingrese el host de la base de datos"),db_port:T().required("Ingrese un puerto").typeError("Ingrese un n\xFAmero de puerto v\xE1lido").test("is-port","Ingrese un puerto v\xE1lido",e=>N(G,e)),db_user:b().required("Ingrese el usuario de la base de datos"),db_password:b().required("Ingrese la contrase\xF1a de la base de datos"),tango_dictionary:b().required("Ingrese el diccionario base de Tango").test("mssql-db-name","Ingrese un nombre de Diccionario base v\xE1lido",e=>N(S,e)),db_connection_timeout_seconds:T().min(0,`El tiempo de espera debe ser mayor a ${0} segundos`).max(300,`El tiempo de espera debe ser menor a ${300} segundos`).required("Ingrese el tiempo de espera de la conexi\xF3n a la base de datos").typeError("Ingrese el tiempo de espera de la conexi\xF3n a la base de datos")}).required();var r=a(p(),1),X=e=>{let{stateData:i}=e,n=U(),K=E(),{handleSubmit:W,control:c,reset:ar,setError:Y,formState:{errors:j,isSubmitting:rr,isSubmitSuccessful:or}}=L({defaultValues:i,resolver:M(Q)}),d=or||rr;return(0,r.jsx)("form",{noValidate:!0,onSubmit:W(async er=>{let tr=await z(er,n);await F({toast:K,result:tr,messages:{success:{title:x},error:{title:h},loading:{title:A}}}).then(()=>{n.navigate(g)}).catch(sr=>{Y("root",{message:sr})})}),children:(0,r.jsxs)(_,{children:[(0,r.jsx)(V,{errors:j}),(0,r.jsx)(y,{children:(0,r.jsxs)(I,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[(0,r.jsx)(s,{children:(0,r.jsx)(l,{fieldProps:{name:"db_host",id:"db_host",type:"text"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Host"},control:c})}),(0,r.jsx)(s,{children:(0,r.jsx)(l,{fieldProps:{name:"db_port",id:"db_port",type:"number",inputMode:"tel",htmlSize:5,width:"auto"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Puerto"},control:c})}),(0,r.jsx)(s,{children:(0,r.jsx)(l,{fieldProps:{name:"db_user",id:"db_user",type:"text"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Usuario SQL"},control:c})}),(0,r.jsx)(s,{children:(0,r.jsx)(l,{fieldProps:{name:"db_password",id:"db_password",type:"password"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Contrase\xF1a SQL"},control:c})}),(0,r.jsx)(s,{children:(0,r.jsx)(l,{fieldProps:{name:"tango_dictionary",id:"tango_dictionary",type:"text"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Diccionario base"},control:c})}),(0,r.jsx)(s,{children:(0,r.jsx)(l,{fieldProps:{name:"db_connection_timeout_seconds",id:"db_connection_timeout_seconds",type:"number",inputMode:"tel",htmlSize:5,maxLength:5,width:"auto"},formControlProps:{isDisabled:d},formControlInnerProps:{label:"Tiempo de espera (segundos)"},control:c})})]})}),(0,r.jsx)(y,{children:(0,r.jsx)(v,{isLoading:d})})]})})};var C=a(p(),1),Z=()=>{let{state:e,retry:i}=O({url:H,silent:!0});return e.map({loading:n=>(0,C.jsx)($,{}),error:({error:n})=>(0,C.jsx)(q,{error:n,retry:i,cancelAndNavigateTo:g}),success:n=>(0,C.jsx)(X,{stateData:n.data})})};var f=a(p(),1);function J(){let e=D();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(R,{title:B,returnButton:{buttonProps:{onClick:()=>{e(g)}}}}),(0,f.jsx)(Z,{})]})}export{J as default};
