import{a as ft,b as gt,c as Ne,d as ut,e as ht}from"/build/_shared/chunk-NSGQPAKU.js";import{a as io,b as ne}from"/build/_shared/chunk-YJDCA7PS.js";import{a as Be,b as pt}from"/build/_shared/chunk-5GWZ5RC5.js";import{a as ct}from"/build/_shared/chunk-CMAVFNQJ.js";import"/build/_shared/chunk-KCUI5YJN.js";import{a as eo,b as to,c as oo,d as te}from"/build/_shared/chunk-GE3N5PWG.js";import{a as xe,c as Se}from"/build/_shared/chunk-ZZRSZNR6.js";import{a as K,b as Z}from"/build/_shared/chunk-LWCE64AO.js";import{a as be}from"/build/_shared/chunk-NNGRPTM4.js";import{a as jt,f as st}from"/build/_shared/chunk-TT2RFLCL.js";import{a as mt}from"/build/_shared/chunk-CD5IF7GC.js";import{p as dt,t as at,u as lt}from"/build/_shared/chunk-6CXKIKKN.js";import{d as ee}from"/build/_shared/chunk-EF4J777R.js";import{$ as Je,$b as Re,Ab as it,Ea as M,Eb as Fe,F as Ve,Fa as W,G as Xe,H as qe,Ha as U,I as Ke,Lb as pe,Mb as fe,N as Ze,Qb as ge,Rb as ue,Sb as he,Tb as _e,Wb as ke,Y as Le,Yb as Pe,Zb as rt,_ as le,_a as Ye,_b as q,aa as me,ac as Te,ba as Qe,bc as j,cc as nt,dc as we,ec as Ge,gb as Oe,mb as je,nb as et,pb as tt,qb as De,ra as Qt,rb as B,sa as Yt,tb as Y,vb as ot,wa as ce,wb as He,xb as l,y as ae,yb as C,zb as I}from"/build/_shared/chunk-JQLUC77E.js";import"/build/_shared/chunk-MJPS7W4Y.js";import{a as Q,b as h}from"/build/_shared/chunk-IS2TAHEU.js";import{c as Jt,e as s,h as d}from"/build/_shared/chunk-P3O6KQPX.js";var St=Jt((bo,xt)=>{"use strict";d();function ro(r){return r&&typeof r=="object"&&"default"in r?r.default:r}var Ee=ro(Q()),no=Object.assign||function(r){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},so=function(r,o){var e={};for(var i in r)o.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e},bt=function(o){var e=o.color,i=e===void 0?"currentColor":e,p=o.size,m=p===void 0?24:p,f=o.children,g=so(o,["color","size","children"]),x="mdi-icon "+(g.className||"");return Ee.createElement("svg",no({},g,{className:x,width:m,height:m,fill:i,viewBox:"0 0 24 24"}),Ee.createElement("path",{d:"M18,3H6V7H18M19,12A1,1 0 0,1 18,11A1,1 0 0,1 19,10A1,1 0 0,1 20,11A1,1 0 0,1 19,12M16,19H8V14H16M19,8H5A3,3 0 0,0 2,11V17H6V21H18V17H22V11A3,3 0 0,0 19,8Z"}))},ao=Ee.memo?Ee.memo(bt):bt;xt.exports=ao});d();d();d();var _t=ae("/pedido"),po=ae("/pedido/:id"),Pt=ae("/pedido/renglones");d();var A=s(h(),1),Rt=()=>(0,A.jsx)(I,{width:"full",sx:{mt:8,mb:4},children:(0,A.jsxs)(B,{templateColumns:"1fr",alignItems:"center",gap:4,children:[(0,A.jsx)(l,{children:(0,A.jsx)(K,{})}),(0,A.jsx)(l,{children:(0,A.jsx)(Z,{height:"120px"})}),(0,A.jsx)(l,{children:(0,A.jsx)(Z,{height:"120px"})}),(0,A.jsx)(l,{children:(0,A.jsx)(Z,{height:"120px"})}),(0,A.jsx)(l,{children:(0,A.jsx)(Z,{height:"120px"})}),(0,A.jsx)(l,{children:(0,A.jsx)(Z,{height:"120px"})}),(0,A.jsx)(l,{children:(0,A.jsx)(Z,{height:"120px"})})]})});d();d();var V=s(Q(),1);d();var Tt=s(Yt(),1),$=new Tt.default;var Ot=s(Qt(),1),Dt=s(to(),1),Ht=s(io(),1),Ft=s(St(),1),kt=s(oo(),1);d();var zt=s(Q(),1);var Ct=s(jt(),1),yt=s(eo(),1);d();var Ie=s(Q()),O;typeof window<"u"?O=window:typeof self<"u"?O=self:O=globalThis;var Ue=null,$e=null,Et=20,Me=O.clearTimeout,At=O.setTimeout,We=O.cancelAnimationFrame||O.mozCancelAnimationFrame||O.webkitCancelAnimationFrame,It=O.requestAnimationFrame||O.mozRequestAnimationFrame||O.webkitRequestAnimationFrame;We==null||It==null?(Ue=Me,$e=function(o){return At(o,Et)}):(Ue=function([o,e]){We(o),Me(e)},$e=function(o){let e=It(function(){Me(i),o()}),i=At(function(){We(e),o()},Et);return[e,i]});function lo(r){let o,e,i,p,m,f,g,x=typeof document<"u"&&document.attachEvent;if(!x){f=function(u){let P=u.__resizeTriggers__,v=P.firstElementChild,G=P.lastElementChild,N=v.firstElementChild;G.scrollLeft=G.scrollWidth,G.scrollTop=G.scrollHeight,N.style.width=v.offsetWidth+1+"px",N.style.height=v.offsetHeight+1+"px",v.scrollLeft=v.scrollWidth,v.scrollTop=v.scrollHeight},m=function(u){return u.offsetWidth!==u.__resizeLast__.width||u.offsetHeight!==u.__resizeLast__.height},g=function(u){if(u.target.className&&typeof u.target.className.indexOf=="function"&&u.target.className.indexOf("contract-trigger")<0&&u.target.className.indexOf("expand-trigger")<0)return;let P=this;f(this),this.__resizeRAF__&&Ue(this.__resizeRAF__),this.__resizeRAF__=$e(function(){m(P)&&(P.__resizeLast__.width=P.offsetWidth,P.__resizeLast__.height=P.offsetHeight,P.__resizeListeners__.forEach(function(N){N.call(P,u)}))})};let t=!1,T="";i="animationstart";let a="Webkit Moz O ms".split(" "),b="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),S="";{let u=document.createElement("fakeelement");if(u.style.animationName!==void 0&&(t=!0),t===!1){for(let P=0;P<a.length;P++)if(u.style[a[P]+"AnimationName"]!==void 0){S=a[P],T="-"+S.toLowerCase()+"-",i=b[P],t=!0;break}}}e="resizeanim",o="@"+T+"keyframes "+e+" { from { opacity: 0; } to { opacity: 0; } } ",p=T+"animation: 1ms "+e+"; "}let z=function(t){if(!t.getElementById("detectElementResize")){let T=(o||"")+".resize-triggers { "+(p||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',a=t.head||t.getElementsByTagName("head")[0],b=t.createElement("style");b.id="detectElementResize",b.type="text/css",r!=null&&b.setAttribute("nonce",r),b.styleSheet?b.styleSheet.cssText=T:b.appendChild(t.createTextNode(T)),a.appendChild(b)}};return{addResizeListener:function(t,T){if(x)t.attachEvent("onresize",T);else{if(!t.__resizeTriggers__){let a=t.ownerDocument,b=O.getComputedStyle(t);b&&b.position==="static"&&(t.style.position="relative"),z(a),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=a.createElement("div")).className="resize-triggers";let S=a.createElement("div");S.className="expand-trigger",S.appendChild(a.createElement("div"));let u=a.createElement("div");u.className="contract-trigger",t.__resizeTriggers__.appendChild(S),t.__resizeTriggers__.appendChild(u),t.appendChild(t.__resizeTriggers__),f(t),t.addEventListener("scroll",g,!0),i&&(t.__resizeTriggers__.__animationListener__=function(v){v.animationName===e&&f(t)},t.__resizeTriggers__.addEventListener(i,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(T)}},removeResizeListener:function(t,T){if(x)t.detachEvent("onresize",T);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(T),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",g,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(i,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch{}}}}}var Ae=class extends Ie.Component{constructor(...o){super(...o),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;let{disableHeight:e,disableWidth:i,onResize:p}=this.props;if(this._parentNode){let m=window.getComputedStyle(this._parentNode)||{},f=parseFloat(m.paddingLeft||"0"),g=parseFloat(m.paddingRight||"0"),x=parseFloat(m.paddingTop||"0"),z=parseFloat(m.paddingBottom||"0"),H=this._parentNode.getBoundingClientRect(),y=H.height-x-z,t=H.width-f-g,T=this._parentNode.offsetHeight-x-z,a=this._parentNode.offsetWidth-f-g;(!e&&(this.state.height!==T||this.state.scaledHeight!==y)||!i&&(this.state.width!==a||this.state.scaledWidth!==t))&&(this.setState({height:T,width:a,scaledHeight:y,scaledWidth:t}),typeof p=="function"&&p({height:T,scaledHeight:y,scaledWidth:t,width:a}))}},this._setRef=e=>{this._autoSizer=e}}componentDidMount(){let{nonce:o}=this.props,e=this._autoSizer?this._autoSizer.parentNode:null;if(e!=null&&e.ownerDocument&&e.ownerDocument.defaultView&&e instanceof e.ownerDocument.defaultView.HTMLElement){this._parentNode=e;let i=e.ownerDocument.defaultView.ResizeObserver;i!=null?(this._resizeObserver=new i(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(e)):(this._detectElementResize=lo(o),this._detectElementResize.addResizeListener(e,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){let{children:o,defaultHeight:e,defaultWidth:i,disableHeight:p=!1,disableWidth:m=!1,doNotBailOutOnEmptyChildren:f=!1,nonce:g,onResize:x,style:z={},tagName:H="div",...y}=this.props,{height:t,scaledHeight:T,scaledWidth:a,width:b}=this.state,S={overflow:"visible"},u={},P=!1;return p||(t===0&&(P=!0),S.height=0,u.height=t,u.scaledHeight=T),m||(b===0&&(P=!0),S.width=0,u.width=b,u.scaledWidth=a),f&&(P=!1),(0,Ie.createElement)(H,{ref:this._setRef,style:{...S,...z},...y},!P&&o(u))}};var c=s(h(),1),vt=r=>{let{isOpen:o,onClose:e}=r,i=(0,zt.useRef)(),{state:p,retry:m}=ee({url:st,silent:!0}),f=()=>{let{filteredData:g,handleSearchInputChange:x}=xe(i.current??[],["screen_name"]),z=30,H=({style:y,index:t,data:T})=>{let a=T?.[t];return a!=null?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(tt,{style:y,children:a.habilitado?(0,c.jsx)(je,{href:le(me,{client:a.id}),children:(0,c.jsxs)(I,{children:[(0,c.jsx)(De,{as:yt.default,color:"green.400"}),a.screen_name]})}):(0,c.jsxs)(I,{color:"gray.400",children:[(0,c.jsx)(De,{as:Ct.default,color:"red.400"}),a.screen_name]})},a.id)}):(0,c.jsx)(c.Fragment,{})};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(I,{sx:{pb:4},children:(0,c.jsx)(Se,{handleSearchInputChange:x})}),(0,c.jsx)(Ae,{children:({height:y,width:t})=>(0,c.jsx)(ct,{height:y-60,itemCount:g.length??0,itemSize:z,innerElementType:et,width:t,itemData:g,children:H})})]})};return(0,c.jsxs)(pe,{isCentered:!0,isOpen:o,onClose:e,scrollBehavior:"inside",size:{base:"full",sm:"md",md:"lg"},children:[(0,c.jsx)(ue,{}),(0,c.jsxs)(fe,{sx:{maxHeight:"auto"},children:[(0,c.jsx)(ge,{children:"Seleccione el cliente"}),(0,c.jsx)(_e,{}),(0,c.jsx)(he,{minHeight:{base:"auto",sm:"420px !important"},children:p.map({loading:g=>(0,c.jsxs)(ot,{spacing:4,children:[(0,c.jsx)(ke,{width:"full",height:"36px",borderRadius:"md"}),(0,c.jsx)(ke,{width:"full",height:"250px",borderRadius:"md"})]}),error:({error:g})=>(0,c.jsx)(be,{error:g,retry:m,cancelAndNavigateTo:Qe}),success:g=>(i.current=g.data,(0,c.jsx)(f,{}))})})]})]})};d();var ze=s(Q(),1);var k=s(h(),1),mo=(0,ze.lazy)(()=>import("/build/_shared/PrintModal.client-57WHFZEC.js")),Lt=r=>{let{pedidos:o,renglones:e,isOpen:i,onClose:p}=r;return(0,k.jsxs)(pe,{isCentered:!0,isOpen:i,onClose:p,children:[(0,k.jsx)(ue,{}),(0,k.jsxs)(fe,{children:[(0,k.jsx)(ge,{children:"Impresi\xF3n de pedidos"}),(0,k.jsx)(_e,{}),(0,k.jsx)(he,{children:(0,k.jsx)(ze.Suspense,{fallback:(0,k.jsx)(ft,{}),children:(0,k.jsx)(mo,{pedidos:o,renglones:e})})})]})]})};var R=s(h(),1),wt=({pedidos:r,stateRenglones:o,handleSearchInputChange:e})=>{let i=mt(),[p,m]=(0,V.useState)(!1),[f,g]=(0,V.useState)(!1),{isOpen:x,onOpen:z,onClose:H}=Oe(),{isOpen:y,onOpen:t,onClose:T}=Oe(),[a,b]=(0,V.useState)([]),S=(0,V.useRef)({pedidos:[],renglones:{}});(0,V.useEffect)(()=>{let F=({id:L,checked:re})=>{b(re?ve=>[...ve,L]:ve=>ve.filter(Zt=>Zt!==L))};return $.on("setUnsetSelectedPedido",F),()=>{$.removeListener("setUnsetSelectedPedido",F)}},[]);let u=()=>{if(i.authState.isCustomer()){let F=i.authState.getUserId();F!=null&&i.navigate(le(me,{client:F}));return}m(!0),z()},P=()=>{},v=()=>{H(),m(!1)},G=()=>{S.current.pedidos=r.filter(F=>a.includes(F.id)),Array.isArray(S.current.pedidos)&&S.current.pedidos.length>0&&o.isSuccess()&&(S.current.renglones=Ot.default.pick(o.data,a)),g(!0),t()},N=()=>{T(),g(!1)},ie=a.length<=0?void 0:a.length==1?`1 ${at}`:`${a.length} ${lt}`;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(I,{bg:ce("white","blue.900"),sx:{px:4,position:"sticky",zIndex:1e3,top:0},children:(0,R.jsxs)(Fe,{h:16,alignItems:"center",justifyContent:"space-between",children:[(0,R.jsxs)(He,{spacing:{base:2,sm:3},alignItems:"center",children:[i.authState.isAdmin()&&(0,R.jsx)(ne,{icon:kt.default,text:Ve,sharedProps:{size:"sm",fontWeight:"400",colorScheme:"red",isDisabled:a.length<=0},iconProps:{boxSize:{base:5,md:4}}}),(0,R.jsx)(ne,{icon:Ft.default,text:Xe,sharedProps:{size:"sm",fontWeight:"400",colorScheme:"blue",onClick:()=>G(),isDisabled:a.length<=0},iconProps:{boxSize:{base:5,md:4}}}),(i.authState.isVendor()||i.authState.isCustomer())&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(ne,{icon:Ht.default,text:qe,sharedProps:{size:"sm",fontWeight:"400",colorScheme:"green",onClick:()=>{u()}},iconProps:{boxSize:{base:5,md:4}}}),(0,R.jsx)(ne,{icon:Dt.default,text:Ke,sharedProps:{size:"sm",fontWeight:"400",colorScheme:"yellow",onClick:()=>{P()},isDisabled:a.length!=1},iconProps:{boxSize:{base:5,md:4}}})]}),ie!=null&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(we,{display:{base:"none",sm:"inherited"},height:8,borderRadius:40,size:"md",variant:"solid",colorScheme:"blue",children:(0,R.jsx)(Ge,{marginX:1,children:ie})}),(0,R.jsx)(we,{display:{base:"inherited",sm:"none"},height:8,borderRadius:40,size:"md",variant:"solid",colorScheme:"blue",children:(0,R.jsx)(Ge,{marginX:1,children:a.length})})]})]}),(0,R.jsx)(Fe,{alignItems:"center",marginLeft:4,children:(0,R.jsx)(He,{spacing:{base:2,md:4},children:(0,R.jsx)(I,{children:(0,R.jsx)(Se,{handleSearchInputChange:e})})})})]})}),p&&(0,R.jsx)(vt,{isOpen:x,onClose:v}),f&&(0,R.jsx)(Lt,{isOpen:y,onClose:N,pedidos:S.current.pedidos,renglones:S.current.renglones})]})};d();d();var X=s(Q(),1);d();d();function Ce(r,o){let e;switch(r){case 1:e="blue";break;case 2:e="purple";break;case 3:e="green";break;case 4:e="black";break;case 5:e="red";break;default:e="gray"}return o==null?e:`${e}${o}`}var Bt=s(h(),1),Gt=({estado:r})=>{let o=ht(r),e=Ce(r);return(0,Bt.jsx)(it,{fontSize:"1em",variant:"solid",colorScheme:e,lineHeight:"1.5em",children:o})};d();d();var se=s(h(),1),Nt=()=>(0,se.jsxs)(U,{status:"warning",children:[(0,se.jsx)(W,{}),(0,se.jsx)(M,{children:"El pedido no cuenta con productos."})]});d();var de=s(h(),1),Mt=()=>(0,de.jsxs)(U,{status:"error",children:[(0,de.jsx)(W,{}),(0,de.jsx)(M,{children:"Ocurri\xF3 un error al cargar los detalles del pedido."})]});d();var D=s(h(),1),Wt=()=>(0,D.jsx)(I,{width:"full",sx:{mt:8,mb:4},children:(0,D.jsxs)(B,{templateColumns:"1fr",alignItems:"center",gap:2,children:[(0,D.jsx)(l,{children:(0,D.jsx)(K,{height:"20px"})}),(0,D.jsx)(l,{children:(0,D.jsx)(K,{height:"20px"})}),(0,D.jsx)(l,{children:(0,D.jsx)(K,{height:"20px"})}),(0,D.jsx)(l,{children:(0,D.jsx)(K,{height:"20px"})})]})});d();var _=s(h(),1),Ut=({nro_pedido:r,renglones:o})=>(0,_.jsx)(Re,{sx:{p:0,m:0},children:(0,_.jsxs)(Pe,{variant:"stripedHoverOverCard",colorScheme:"gray",size:"sm",borderWidth:"1px",children:[(0,_.jsx)(rt,{children:(0,_.jsx)(q,{children:(0,_.jsx)(nt,{sx:{py:2},children:(0,_.jsxs)(B,{templateColumns:{base:"1fr 1fr 1fr",md:"4fr 1fr 1fr 1fr"},gap:6,children:[(0,_.jsx)(l,{children:(0,_.jsx)(C,{fontSize:{base:"xs",md:"sm"},children:"Art\xEDculo"})}),(0,_.jsx)(l,{sx:{display:{base:"none",md:"block"}},children:(0,_.jsx)(C,{fontSize:{base:"xs",md:"sm"},textAlign:"center",children:"Precio"})}),(0,_.jsx)(l,{children:(0,_.jsx)(C,{fontSize:{base:"xs",md:"sm"},textAlign:"center",children:"Cantidad"})}),(0,_.jsx)(l,{children:(0,_.jsx)(C,{fontSize:{base:"xs",md:"sm"},textAlign:"center",children:"Subtotal"})})]})})})}),(0,_.jsx)(Te,{children:o.map(({id_articulo:e,nombre_articulo:i,codigo_articulo:p,descripcion_adicional:m,precio:f,cantidad:g,subtotal:x},z)=>(0,_.jsx)(q,{children:(0,_.jsx)(j,{children:(0,_.jsxs)(B,{templateColumns:{base:"1fr 1fr 1fr",md:"4fr 1fr 1fr 1fr"},gap:6,children:[(0,_.jsx)(l,{children:(0,_.jsx)(te,{children:gt(i,e,m)})}),(0,_.jsx)(l,{sx:{display:{base:"none",md:"block"}},children:(0,_.jsx)(Be,{precio:f,moneda:"$"})}),(0,_.jsx)(l,{children:(0,_.jsx)(Y,{textAlign:"center",children:g})}),(0,_.jsx)(l,{children:(0,_.jsx)(Be,{precio:x,moneda:"$"})})]})})},`details-${r}-${z}`))})]})});var oe=s(h(),1),$t=({wasOpen:r,pedido:o,stateRenglones:e})=>(0,oe.jsx)(I,{sx:{mt:6},children:r&&e.map({loading:i=>(0,oe.jsx)(Wt,{}),error:i=>(0,oe.jsx)(Mt,{}),success:i=>{let{id:p,numero_pedido:m}=o,f=i.data?.[p];return Array.isArray(f)?(0,oe.jsx)(Ut,{nro_pedido:m,renglones:f}):(0,oe.jsx)(Nt,{})}})});var n=s(h(),1),Vt=({index:r,pedido:o,stateRenglones:e,isHidden:i})=>{let[p,m]=(0,X.useState)(!1),f=(0,X.useRef)(!1),g=(0,X.useMemo)(()=>(0,n.jsx)($t,{wasOpen:f.current,pedido:o,stateRenglones:e}),[f.current,e.constructor.name]),x=()=>{let L=!p;L&&(f.current=!0),m(L),$.emit("togglePedidoDetails",{id:o.id})},z=(L,re)=>{$.emit("setUnsetSelectedPedido",{id:re,checked:L})};(0,X.useEffect)(()=>{let L=({id:re})=>{o.id!==re&&m(!1)};return $.on("togglePedidoDetails",L),()=>{$.removeListener("togglePedidoDetails",L)}},[]);let{id:H,numero_pedido:y,estado:t,fecha_emision:T,fecha_entrega:a,codigo_cliente:b,codigo_vendedor:S,codigo_transporte:u,nombre_cliente:P,nombre_vendedor:v,nombre_transporte:G,total:N,descuento:ie,comentarios:F}=o;return(0,n.jsx)(q,{sx:{...i&&{display:"none"}},children:(0,n.jsxs)(j,{sx:{py:6,position:"relative",borderTopWidth:{base:"3px",md:"8px"},borderTopStyle:"solid",borderTopColor:`${Ce(t,".500 !important")}`},children:[(0,n.jsx)(I,{sx:{position:"absolute",right:5,top:5},children:(0,n.jsx)(Ye,{size:"lg",colorScheme:"green",sx:{borderColor:ce("gray.800","white")},onChange:L=>{z(L.target.checked,H)}})}),(0,n.jsxs)(B,{templateColumns:{base:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},gap:6,sx:{cursor:"pointer"},onClick:()=>{x()},children:[(0,n.jsxs)(l,{children:[(0,n.jsx)(C,{size:"sm",children:"Pedido"}),(0,n.jsx)(Y,{children:y})]}),(0,n.jsxs)(l,{children:[(0,n.jsx)(C,{size:"sm",children:"Estado"}),(0,n.jsx)(Gt,{estado:t})]}),(0,n.jsxs)(l,{children:[(0,n.jsx)(C,{size:"sm",children:"Emisi\xF3n"}),(0,n.jsx)(Y,{children:Le(T)})]}),(0,n.jsxs)(l,{children:[(0,n.jsx)(C,{size:"sm",children:"Entrega"}),(0,n.jsx)(Y,{children:Le(a)})]}),(0,n.jsxs)(l,{children:[(0,n.jsx)(C,{size:"sm",children:"Cliente"}),(0,n.jsx)(te,{children:ut(b,P)})]}),(0,n.jsxs)(l,{children:[(0,n.jsx)(C,{size:"sm",children:"Vendedor"}),(0,n.jsx)(te,{children:Ne(S,v)})]}),(0,n.jsxs)(l,{children:[(0,n.jsx)(C,{size:"sm",children:"Transporte"}),(0,n.jsx)(te,{children:Ne(u,G)})]}),(0,n.jsxs)(l,{children:[(0,n.jsxs)(C,{size:"md",sx:{textTransform:"uppercase",color:t===2&&"green.400"},children:["Total",ie!=null&&(0,n.jsxs)(n.Fragment,{children:[" ",`-${ie}%`]})]}),(0,n.jsx)(C,{size:"md",sx:{fontWeight:"bolder",color:t===2&&"green.400"},children:(0,n.jsx)(pt,{precio:N,moneda:"$"})})]}),F!=null&&F.length>0&&(0,n.jsx)(l,{colSpan:{base:2,md:4},children:(0,n.jsxs)(U,{status:"info",children:[(0,n.jsx)(W,{}),(0,n.jsx)(M,{children:F})]})})]}),(0,n.jsx)(I,{children:(0,n.jsx)(I,{sx:{display:p?"block":"none"},children:g})},`pedido-details-${r}`)]})})};var w=s(h(),1);function Xt(r){let{unfilteredPedidos:o,filteredPedidos:e,isFiltering:i,stateRenglones:p}=r;return(0,w.jsx)(Re,{sx:{p:0,m:0},children:(0,w.jsx)(Pe,{variant:"stripedOverCard",colorScheme:"gray",size:"md",sx:{borderCollapse:"separate",borderSpacing:"0 1rem"},children:(0,w.jsxs)(Te,{children:[o.map((m,f)=>(0,w.jsx)(Vt,{index:f,pedido:m,stateRenglones:p,isHidden:i&&!e.includes(m)},`pedido-${m.id}`)),!e.length&&(0,w.jsx)(q,{children:(0,w.jsx)(j,{children:(0,w.jsxs)(U,{status:"info",children:[(0,w.jsx)(W,{}),(0,w.jsx)(M,{children:i?Ze:dt})]})})})]})})})}var J=s(h(),1),qt=r=>{let{pedidos:o}=r,{filteredData:e,handleSearchInputChange:i,isFiltering:p}=xe(o,["numero_pedido","codigo_cliente","nombre_cliente"]),{state:m}=ee({url:Pt,silent:!0,transformResponse:f=>(Object.values(f).forEach(g=>{Array.isArray(g)&&g.sort((x,z)=>x.renglon-z.renglon)}),f)});return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(wt,{pedidos:o,stateRenglones:m,handleSearchInputChange:i}),(0,J.jsx)(Xt,{stateRenglones:m,unfilteredPedidos:o,filteredPedidos:e,isFiltering:p})]})};var ye=s(h(),1);function Kt(){let{state:r,retry:o}=ee({url:_t,silent:!0});return r.map({loading:e=>(0,ye.jsx)(Rt,{}),error:({error:e})=>(0,ye.jsx)(be,{error:e,retry:o,cancelAndNavigateTo:Je}),success:e=>(0,ye.jsx)(qt,{pedidos:e.data})})}export{Kt as default};
