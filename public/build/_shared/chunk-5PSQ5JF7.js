import{a as z}from"/build/_shared/chunk-UJ67EMTT.js";import{j as k,k as X,l as F,m as H,n as $,o as Y,p as q}from"/build/_shared/chunk-5UHTFQTM.js";import{a as y}from"/build/_shared/chunk-CWO7YRBZ.js";import{D as c,b as U,c as u,d as T,i as B,j as N,k as S,l as i,m as I,mc as W,n as C,o,p as E,r as M,s as m,t as L,v as j,w as G}from"/build/_shared/chunk-DP2TJOZR.js";import{F as w}from"/build/_shared/chunk-3PZF3L6F.js";import{e as O,g as n,h as a}from"/build/_shared/chunk-P3O6KQPX.js";a();var f=O(w(),1),Ue=()=>(0,f.jsxs)(W,{spacing:4,children:[(0,f.jsx)(y,{}),(0,f.jsx)(y,{})]});a();a();a();a();var J=O(T(),1);var b=class extends i{throwInvalidAddressError(e){this.throwError(e,"Invalid email address")}validate(e){if(typeof e=="string"){let t=e.trim().toLowerCase();if(J.default.isEmail(t,{domain_specific_validation:!0}))return t}this.throwError(e)}};a();var K=O(T(),1);var s=class extends i{constructor(e){n.isBuffer(e)&&(e=e.toString("hex")),super(e)}validate(e){let t;if(n.isBuffer(e)&&(t=e.toString("hex")),typeof e=="string"&&(t=e.trim().toLowerCase()),typeof t=="string"&&K.default.isMD5(t))return t;this.throwError(e)}toBuffer(){return n.from(this.value,"hex")}static random(){let e=Array(16);for(let t=0;t<e.length;t++)e[t]=M(0,255);return new s(n.from(e))}};var x=class{constructor(e){this.id=e}parentToUnsafe(){return{id:this.id.valueOf()}}};var D=class extends x{};a();a();function Q(r){try{return S(c,r)}catch{throw new u(`Invalid user role value: ${r}`)}}function Z(r){try{return N(c,r)}catch{throw new u(`Invalid user role string: ${U(r,!0)}`)}}function ee(r){switch(r){case 0:return 0;case 1:return 1;case 2:return 2}throw new u(`Invalid user role: ${U(r,!0)}`)}function re(r){switch(r){case 0:return 0;case 1:return 1;case 2:return 2}throw new u(`Invalid user role number: ${U(r,!0)}`)}var v=class extends i{validate(e){try{if(typeof e=="string")return Z(e);if(B(c,e))return e}catch{}this.throwError(e)}toString(){return Q(this.value)}isAdmin(){return this.value.valueOf()==2}isVendor(){return this.value.valueOf()==1}isCustomer(){return this.value.valueOf()==0}};var p=class extends D{constructor(t){super(new I(t.id));let{username:_,tango_id:d,habilitado_en_tango:h,screen_name:g,email:l,password_hash:A,role:te,habilitado_en_dxt:ae,puede_crear_pedido:ne,puede_editar_pedido:oe,puede_anular_pedido:ie,borrar_pedido_al_anular:se,perfil_facturacion_id:de,aprobar_pedido_al_crear:le,ver_pedidos_cumplidos:ue,dia_de_entrega:me,ver_sin_precio:ce,mostrar_mensaje_de_advertencia:fe,timestamp_modificacion:pe,vendedor_id:V,id_lista_alternativa:P,bonificacion_lista_alternativa:R,universal_id:_e}=t;if(this.username=new z(_),this.screenName=new E(g),typeof l=="string"&&(this.email=new E(l.trim()!==""?new b(l).valueOf():"")),this.passwordHash=new s(A),this.role=new v(re(te)),this.habilitadoEnDXT=new o(ae),this.puedeCrearPedido=new o(ne),this.puedeEditarPedido=new o(oe),this.puedeAnularPedido=new o(ie),this.borrarPedidoAlAnular=new o(se),this.perfilFacturacionId=new m(de),this.aprobarPedidoAlCrear=new o(le),this.verPedidosCumplidos=new o(ue),this.diaDeEntrega=new I(me),this.verSinPrecio=new o(ce),this.mostrarMensajeDeAdvertencia=new o(fe),this.timestampModificacion=new I(pe),!this.role.isAdmin()&&d==null)throw new G(new j(16e3,{extra:"tango_id missing in UserEntity"}));this.tangoId=d!=null?new m(d):void 0,this.habilitadoEnTango=h!=null?new o(h):void 0,this.vendedorId=V!=null?new m(V):void 0,this.idListaAlternativa=P!=null?new m(P):void 0,this.bonificacionListaAlternativa=R!=null?new C(R):void 0,this.universalId=new L(_e.replaceAll("-",""))}toUnsafe(){return{...this.parentToUnsafe(),username:this.username.valueOf(),tango_id:this.tangoId?.valueOf(),habilitado_en_tango:this.habilitadoEnTango?.valueOf(),screen_name:this.screenName.valueOf(),email:this.email?.valueOf()??null,password_hash:this.passwordHash.valueOf(),role:ee(this.role.valueOf()),habilitado_en_dxt:this.habilitadoEnDXT.valueOf(),puede_crear_pedido:this.puedeCrearPedido.valueOf(),puede_editar_pedido:this.puedeEditarPedido.valueOf(),puede_anular_pedido:this.puedeAnularPedido.valueOf(),borrar_pedido_al_anular:this.borrarPedidoAlAnular.valueOf(),perfil_facturacion_id:this.perfilFacturacionId.valueOf(),aprobar_pedido_al_crear:this.aprobarPedidoAlCrear.valueOf(),ver_pedidos_cumplidos:this.verPedidosCumplidos.valueOf(),dia_de_entrega:this.diaDeEntrega.valueOf(),ver_sin_precio:this.verSinPrecio.valueOf(),mostrar_mensaje_de_advertencia:this.mostrarMensajeDeAdvertencia.valueOf(),timestamp_modificacion:this.timestampModificacion.valueOf(),id_lista_alternativa:this.idListaAlternativa?.valueOf(),bonificacion_lista_alternativa:this.bonificacionListaAlternativa?.valueOf(),universal_id:this.universalId.valueOf()}}tangoUserExists(){return this.habilitadoEnTango!=null}habilitado(){return this.habilitadoEnDXT.valueOf()&&this.habilitadoEnTango!=null&&this.habilitadoEnTango.valueOf()}isAdmin(){return this.role.isAdmin()}isCustomer(){return this.role.isCustomer()}isVendor(){return this.role.isVendor()}hasAdminAccess(){return this.role.isAdmin()}};function Ze(r){switch(r){case 1:return X;case 2:return F;case 3:return H;case 4:return $;case 5:return Y;case 100:return q;default:return k}}function er(r,e){let{estado:t}=r;if(!(e!=null&&(t==2||t==1)))return t;for(let d of e){let{a_descontar:h,a_facturar:g,pendiente_descontar:l,pendiente_facturar:A}=d;if(h!=l||g!=A)return 100}return t}function rr(r,e){return e==1}function tr(r,e){if(e==1)return!0;let t=r instanceof p?r.isAdmin():r.role==2,_=r instanceof p?r.aprobarPedidoAlCrear.valueOf():r.aprobar_pedido_al_crear;return!!(e==2&&_||(e==100||e==5)&&t)}export{Ue as a,Ze as b,er as c,rr as d,tr as e};
