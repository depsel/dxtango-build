import{a as G,b as Z}from"/build/_shared/chunk-AQODTW4H.js";import{$,F as H,H as V,Ib as R,Sa as X,T as P,U as B,Va as M,W as z,Ya as g,bb as T,db as q,fa as j,fb as w,gb as F,hb as W,j as U,p as D,q as _,s as f,t as N,va as A,x as k}from"/build/_shared/chunk-AN2JWTYU.js";import{b,c as d}from"/build/_shared/chunk-OHSBC2MA.js";import{a as y,b as h}from"/build/_shared/chunk-J7TISYNY.js";import{c as C,e as l,h as i}from"/build/_shared/chunk-AXWLPIOK.js";var Y=C((Ue,Q)=>{"use strict";i();function le(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var I=le(y()),me=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},pe=function(t,r){var e={};for(var o in t)r.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},K=function(r){var e=r.color,o=e===void 0?"currentColor":e,a=r.size,c=a===void 0?24:a,u=r.children,m=pe(r,["color","size","children"]),s="mdi-icon "+(m.className||"");return I.createElement("svg",me({},m,{className:s,width:c,height:c,fill:o,viewBox:"0 0 24 24"}),I.createElement("path",{d:"M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12M4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z"}))},fe=I.memo?I.memo(K):K;Q.exports=fe});var oe=C((Ne,te)=>{"use strict";i();function de(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var L=de(y()),he=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ge=function(t,r){var e={};for(var o in t)r.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ee=function(r){var e=r.color,o=e===void 0?"currentColor":e,a=r.size,c=a===void 0?24:a,u=r.children,m=ge(r,["color","size","children"]),s="mdi-icon "+(m.className||"");return L.createElement("svg",he({},m,{className:s,width:c,height:c,fill:o,viewBox:"0 0 24 24"}),L.createElement("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"}))},Re=L.memo?L.memo(ee):ee;te.exports=Re});i();var J=l(y(),1);i();var v=class extends N{constructor(e,o){super();this.currentUserInfo=e;this.errorCallback=o}async run(e,o,a,c){if(!(e instanceof f))throw new U(899e3,"Must be logged in");let u=D();if(u==null||e.authToken!==u){o(new _);return}(await k(e.authToken,a,!0)).map({error:s=>{let O=s.error;B(O.status)&&o(new _)},success:s=>{let O=e.userInfo,ue=e.authToken,x=s.data.user,S=s.data.auth_token;(ue!==S||O.timestamp_modificacion!==x.timestamp_modificacion)&&o(new f(S,x))}})}};var E=l(h(),1),Se=t=>{let{children:r}=t,{state:e,dispatch:o}=R(),a=d(),c=b();if((0,J.useEffect)(()=>{e instanceof f?(async()=>{await o(new v(e.userInfo))})().catch(u=>{}):e.isDisconnectedAndNotRedirecting()&&z(a)},[c,e.constructor.name]),e.isLoggedIn())return(0,E.jsx)(E.Fragment,{children:r})};i();var ce=l(Y(),1),se=l(oe(),1);i();i();var re="Cliente",ne="Vendedor",ie="Administrador";function ae(t){switch(t){case 0:return re;case 1:return ne;default:return ie}}var n=l(h(),1),Ze=()=>{let{state:t,dispatch:r}=R(),e=d(),o=t.userOrNull(),a=o?.role!=null?ae(o?.role):"",c=o?.screen_name.trim()??"",u=o?.role===2?c:`${a} ${c}`;return(0,n.jsx)(g,{bg:$("gray.100","gray.900"),sx:{px:4},children:(0,n.jsxs)(T,{h:16,alignItems:"center",justifyContent:"space-between",children:[(0,n.jsxs)(M,{spacing:4,alignItems:"center",children:[(0,n.jsxs)(q,{isLazy:!0,id:"menu",children:[(0,n.jsx)(W,{as:A,"aria-label":"Options",icon:(0,n.jsx)(se.default,{}),variant:"outline"}),(0,n.jsxs)(F,{rootProps:{zIndex:2e3},children:[(0,n.jsx)(w,{onClick:()=>{e(H)},children:"Pedidos"}),(0,n.jsx)(w,{onClick:()=>{e(V)},children:"Configuraciones"})]})]}),(0,n.jsx)(g,{children:(0,n.jsx)(Z,{width:"80px",alt:""})})]}),(0,n.jsx)(T,{alignItems:"center",children:(0,n.jsxs)(M,{spacing:4,children:[(0,n.jsx)(g,{display:{base:"none",md:"block"},children:(0,n.jsx)(X,{children:u})}),(0,n.jsx)(A,{"aria-label":"Desconectarse",onClick:async()=>{await r(new P)},isRound:!0,icon:(0,n.jsx)(j,{as:ce.default})}),(0,n.jsx)(G,{})]})})]})})};export{Se as a,Ze as b};
