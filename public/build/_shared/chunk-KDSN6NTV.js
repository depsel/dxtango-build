import{a as Q,b as Y}from"/build/_shared/chunk-4GAVUOOY.js";import{b as W,c as Z,i as J,j as K}from"/build/_shared/chunk-FITHNK55.js";import{$ as V,Da as T,N as H,P,Qb as R,_a as X,aa as B,bb as S,ca as z,eb as g,ha as $,j as U,jb as _,lb as q,na as j,nb as M,ob as F,p as b,pb as G,q as A,s as f,t as D,x as k}from"/build/_shared/chunk-DDQFO3X3.js";import{b as N,c as d}from"/build/_shared/chunk-OHSBC2MA.js";import{a as y,b as h}from"/build/_shared/chunk-J7TISYNY.js";import{c as C,e as l,h as a}from"/build/_shared/chunk-AXWLPIOK.js";var re=C((He,oe)=>{"use strict";a();function de(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var E=de(y()),he=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ge=function(t,r){var e={};for(var o in t)r.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},te=function(r){var e=r.color,o=e===void 0?"currentColor":e,i=r.size,c=i===void 0?24:i,u=r.children,m=ge(r,["color","size","children"]),s="mdi-icon "+(m.className||"");return E.createElement("svg",he({},m,{className:s,width:c,height:c,fill:o,viewBox:"0 0 24 24"}),E.createElement("path",{d:"M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12M4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z"}))},Re=E.memo?E.memo(te):te;oe.exports=Re});var ie=C((Ve,ae)=>{"use strict";a();function ve(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var O=ve(y()),Ie=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ee=function(t,r){var e={};for(var o in t)r.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ne=function(r){var e=r.color,o=e===void 0?"currentColor":e,i=r.size,c=i===void 0?24:i,u=r.children,m=Ee(r,["color","size","children"]),s="mdi-icon "+(m.className||"");return O.createElement("svg",Ie({},m,{className:s,width:c,height:c,fill:o,viewBox:"0 0 24 24"}),O.createElement("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"}))},Oe=O.memo?O.memo(ne):ne;ae.exports=Oe});a();var ee=l(y(),1);a();var v=class extends D{constructor(e,o){super();this.currentUserInfo=e;this.errorCallback=o}async run(e,o,i,c){if(!(e instanceof f))throw new U(899e3,"Must be logged in");let u=b();if(u==null||e.authToken!==u){o(new A);return}(await k(e.authToken,i,!0)).map({error:s=>{let L=s.error;B(L.status)&&o(new A)},success:s=>{let L=e.userInfo,fe=e.authToken,w=s.data.user,x=s.data.auth_token;(fe!==x||L.timestamp_modificacion!==w.timestamp_modificacion)&&o(new f(x,w))}})}};var I=l(h(),1),be=t=>{let{children:r}=t,{state:e,dispatch:o}=R(),i=d(),c=N();if((0,ee.useEffect)(()=>{e instanceof f?(async()=>{await o(new v(e.userInfo))})().catch(u=>{}):e.isDisconnectedAndNotRedirecting()&&z(i)},[c,e.constructor.name]),e.isLoggedIn())return(0,I.jsx)(I.Fragment,{children:r})};a();var me=l(re(),1),pe=l(ie(),1);a();a();var ce="Cliente",se="Vendedor",ue="Administrador";function le(t){switch(t){case 0:return ce;case 1:return se;default:return ue}}var n=l(h(),1),et=()=>{let{state:t,dispatch:r}=R(),e=d(),o=t.userOrNull(),i=o?.role!=null?le(o?.role):"",c=o?.screen_name.trim()??"",u=o?.role===2?c:`${i} ${c}`;return(0,n.jsx)(g,{bg:$("gray.100","gray.900"),sx:{px:4},children:(0,n.jsxs)(_,{h:16,alignItems:"center",justifyContent:"space-between",children:[(0,n.jsxs)(S,{spacing:4,alignItems:"center",children:[(0,n.jsxs)(q,{isLazy:!0,id:"menu",children:[(0,n.jsx)(G,{as:T,"aria-label":W,icon:(0,n.jsx)(pe.default,{}),variant:"outline"}),(0,n.jsxs)(F,{rootProps:{zIndex:2e3},children:[(0,n.jsx)(M,{onClick:()=>{e(H)},children:J}),(0,n.jsx)(M,{onClick:()=>{e(P)},children:K})]})]}),(0,n.jsx)(g,{children:(0,n.jsx)(Y,{width:"80px",alt:""})})]}),(0,n.jsx)(_,{alignItems:"center",children:(0,n.jsxs)(S,{spacing:4,children:[(0,n.jsx)(g,{display:{base:"none",md:"block"},children:(0,n.jsx)(X,{children:u})}),(0,n.jsx)(T,{"aria-label":Z,onClick:async()=>{await r(new V)},isRound:!0,icon:(0,n.jsx)(j,{as:me.default})}),(0,n.jsx)(Q,{})]})})]})})};export{be as a,et as b};
