var nr=Object.defineProperty;var rr=(t,n,e)=>n in t?nr(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var g=(t,n,e)=>(rr(t,typeof n!="symbol"?n+"":n,e),e);import{j as i,r as x,g as Fe,a as wt,n as Jt}from"./emotion-element-43c6fea0.browser.esm-V7CwUVk-.js";import{u as en}from"./useDXTApiFetch-cUHsby58.js";import{H as ar,I as or,J as sr,K as ir,e as dt,L as cr,T as lr,r as ze,M as ur,N as tn,O as dr,Q as fr,R as hr,S as mr,U as pr}from"./pedidos-BF2fCqUh.js";import{g as We,f as oe,a as pe,b as se,L as ve,O as X,bN as Le,I as gr,aq as yr,am as nn,bO as St,bP as qe,h as rn,o as an,K as on,J as sn,bQ as br,ao as wr,ab as xr,d as Pe,bR as vr,bS as Dr,bT as Pr,bU as Or,bV as Tr,bW as _r,bX as kr,B as he,S as Mr,ar as Cr,bY as Er,_ as De,aX as jr,bZ as ge,aB as Re,X as $e,aC as Ge,b_ as Nr,bK as Ar,l as Ir}from"./auth_context-BBDV2-qW.js";import{B as me,J as Rr,K as Sr,M as Fr,Q as Wr,R as Lr,X as Hr,Y as Br,Z as Yr,_ as qr,$ as $r,a0 as Vr,a1 as Ve,a2 as zr}from"./app-BMvraJRd.js";import{A as cn}from"./ApiErrors-P5QuqGMt.js";import{C as Qr}from"./CommonErrors-BtbwGIG0.js";import{R as je,a as xt,b as Gr}from"./app_resources-CxShxcx8.js";import{S as Xr,u as ln,a as Ur}from"./SearchField-BB5KABJn.js";import{g as Ce,c as Ft,h as Wt,b as Kr,e as ne,i as Zr,a as st,u as Jr,F as ea,j as Te,d as ta,o as na,k as ra}from"./index.esm-SP9Jm6Nz.js";import{F as aa}from"./FormErrors-5HYi3DVI.js";import{F as ft}from"./chunk-KRPLQIP4-NJec_PE4.js";import{H as un}from"./chunk-3ASUQ6PA-CvzJqsz3.js";import{b as ye}from"./useTangoList-Bq-SEz1p.js";import{C as ht}from"./CommonCard-CrzQbbIu.js";import{G as Qe,a as Q}from"./chunk-ZPFGWTBB-BQOfC-td.js";import{V as oa}from"./chunk-NTCQBYKE-BO7YPHqM.js";import{H as Oe}from"./chunk-7OLJDQMT-3EhHOSPR.js";import{D as sa}from"./chunk-W7WUSNWJ-BEqd18B9.js";import{g as ia,h as ca,i as la,j as ua,k as da,l as fa,m as ha,n as ma,o as it}from"./chunk-HB6KBUMZ-jk1Ar7Nh.js";import{a as pa}from"./chunk-6CVSDS6C-EjyqZFPp.js";import{F as ga,a as ya}from"./chunk-56K2BSAJ-ByH33m4W.js";import{C as Lt}from"./ControlledInput-Bw-P79we.js";import{C as be}from"./ControlledSelect-Bgaw0xLO.js";import{C as ba}from"./ControlledTextarea-CyvEM0pX.js";import{A as wa}from"./index-DUrOVWgq.js";import{u as ct,A as xa}from"./chunk-QURMB2UJ-8Wtwm6sR.js";import{A as va}from"./chunk-3KCBMPN5-70uOg14b.js";import{B as Da}from"./chunk-Z6RXEUPO-DSTG9QiY.js";var[Pa,nt]=We({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[Oa,vt]=We({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[Ta,zc,_a,ka]=ia(),dn=oe(function(n,e){const{getButtonProps:r}=vt(),a=r(n,e),s={display:"flex",alignItems:"center",width:"100%",outline:0,...nt().button};return i.jsx(pe.button,{...a,className:se("chakra-accordion__button",n.className),__css:s})});dn.displayName="AccordionButton";function Ma(t){const{value:n,defaultValue:e,onChange:r,shouldUpdate:a=(b,m)=>b!==m}=t,o=ct(r),s=ct(a),[c,u]=x.useState(e),l=n!==void 0,d=l?n:c,f=ct(b=>{const p=typeof b=="function"?b(d):b;s(d,p)&&(l||u(p),o(p))},[l,o,d,s]);return[d,f]}function Ca(t){const{onChange:n,defaultIndex:e,index:r,allowMultiple:a,allowToggle:o,...s}=t;Na(t),Aa(t);const c=_a(),[u,l]=x.useState(-1);x.useEffect(()=>()=>{l(-1)},[]);const[d,f]=Ma({value:r,defaultValue(){return a?e??[]:e??-1},onChange:n});return{index:d,setIndex:f,htmlProps:s,getAccordionItemProps:m=>{let p=!1;return m!==null&&(p=Array.isArray(d)?d.includes(m):d===m),{isOpen:p,onChange:h=>{if(m!==null)if(a&&Array.isArray(d)){const D=h?d.concat(m):d.filter(P=>P!==m);f(D)}else h?f(m):o&&f(-1)}}},focusedIndex:u,setFocusedIndex:l,descendants:c}}var[Ea,Dt]=We({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function ja(t){const{isDisabled:n,isFocusable:e,id:r,...a}=t,{getAccordionItemProps:o,setFocusedIndex:s}=Dt(),c=x.useRef(null),u=x.useId(),l=r??u,d=`accordion-button-${l}`,f=`accordion-panel-${l}`;Ia(t);const{register:b,index:m,descendants:p}=ka({disabled:n&&!e}),{isOpen:y,onChange:h}=o(m===-1?null:m);Ra({isOpen:y,isDisabled:n});const D=()=>{h==null||h(!0)},P=()=>{h==null||h(!1)},w=x.useCallback(()=>{h==null||h(!y),s(m)},[m,s,y,h]),v=x.useCallback(L=>{const C={ArrowDown:()=>{const O=p.nextEnabled(m);O==null||O.node.focus()},ArrowUp:()=>{const O=p.prevEnabled(m);O==null||O.node.focus()},Home:()=>{const O=p.firstEnabled();O==null||O.node.focus()},End:()=>{const O=p.lastEnabled();O==null||O.node.focus()}}[L.key];C&&(L.preventDefault(),C(L))},[p,m]),k=x.useCallback(()=>{s(m)},[s,m]),j=x.useCallback(function(N={},C=null){return{...N,type:"button",ref:ve(b,c,C),id:d,disabled:!!n,"aria-expanded":!!y,"aria-controls":f,onClick:X(N.onClick,w),onFocus:X(N.onFocus,k),onKeyDown:X(N.onKeyDown,v)}},[d,n,y,w,k,v,f,b]),S=x.useCallback(function(N={},C=null){return{...N,ref:C,role:"region",id:f,"aria-labelledby":d,hidden:!y}},[d,y,f]);return{isOpen:y,isDisabled:n,isFocusable:e,onOpen:D,onClose:P,getButtonProps:j,getPanelProps:S,htmlProps:a}}function Na(t){const n=t.index||t.defaultIndex,e=n!=null&&!Array.isArray(n)&&t.allowMultiple;Le({condition:!!e,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof n},`})}function Aa(t){Le({condition:!!(t.allowMultiple&&t.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function Ia(t){Le({condition:!!(t.isFocusable&&!t.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function Ra(t){Le({condition:t.isOpen&&!!t.isDisabled,message:"Cannot open a disabled accordion item"})}function fn(t){const{isOpen:n,isDisabled:e}=vt(),{reduceMotion:r}=Dt(),a=se("chakra-accordion__icon",t.className),o=nt(),s={opacity:e?.4:1,transform:n?"rotate(-180deg)":void 0,transition:r?void 0:"transform 0.2s",transformOrigin:"center",...o.icon};return i.jsx(gr,{viewBox:"0 0 24 24","aria-hidden":!0,className:a,__css:s,...t,children:i.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}fn.displayName="AccordionIcon";var hn=oe(function(n,e){const{children:r,className:a}=n,{htmlProps:o,...s}=ja(n),u={...nt().container,overflowAnchor:"none"},l=x.useMemo(()=>s,[s]);return i.jsx(Oa,{value:l,children:i.jsx(pe.div,{ref:e,...o,className:se("chakra-accordion__item",a),__css:u,children:typeof r=="function"?r({isExpanded:!!s.isOpen,isDisabled:!!s.isDisabled}):r})})});hn.displayName="AccordionItem";var Sa=t=>t!=null&&parseInt(t.toString(),10)>0,Ht={exit:{height:{duration:.2,ease:qe.ease},opacity:{duration:.3,ease:qe.ease}},enter:{height:{duration:.3,ease:qe.ease},opacity:{duration:.4,ease:qe.ease}}},Fa={exit:({animateOpacity:t,startingHeight:n,transition:e,transitionEnd:r,delay:a})=>{var o;return{...t&&{opacity:Sa(n)?1:0},height:n,transitionEnd:r==null?void 0:r.exit,transition:(o=e==null?void 0:e.exit)!=null?o:St.exit(Ht.exit,a)}},enter:({animateOpacity:t,endingHeight:n,transition:e,transitionEnd:r,delay:a})=>{var o;return{...t&&{opacity:1},height:n,transitionEnd:r==null?void 0:r.enter,transition:(o=e==null?void 0:e.enter)!=null?o:St.enter(Ht.enter,a)}}},Pt=x.forwardRef((t,n)=>{const{in:e,unmountOnExit:r,animateOpacity:a=!0,startingHeight:o=0,endingHeight:s="auto",style:c,className:u,transition:l,transitionEnd:d,...f}=t,[b,m]=x.useState(!1);x.useEffect(()=>{const P=setTimeout(()=>{m(!0)});return()=>clearTimeout(P)},[]),Le({condition:Number(o)>0&&!!r,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const p=parseFloat(o.toString())>0,y={startingHeight:o,endingHeight:s,animateOpacity:a,transition:b?l:{enter:{duration:0}},transitionEnd:{enter:d==null?void 0:d.enter,exit:r?d==null?void 0:d.exit:{...d==null?void 0:d.exit,display:p?"block":"none"}}},h=r?e:!0,D=e||r?"enter":"exit";return i.jsx(yr,{initial:!1,custom:y,children:h&&i.jsx(nn.div,{ref:n,...f,className:se("chakra-collapse",u),style:{overflow:"hidden",display:"block",...c},custom:y,variants:Fa,initial:r?"exit":!1,animate:D,exit:"exit"})})});Pt.displayName="Collapse";var mn=oe(function(n,e){const{className:r,motionProps:a,...o}=n,{reduceMotion:s}=Dt(),{getPanelProps:c,isOpen:u}=vt(),l=c(o,e),d=se("chakra-accordion__panel",r),f=nt();s||delete l.hidden;const b=i.jsx(pe.div,{...l,__css:f.panel,className:d});return s?b:i.jsx(Pt,{in:u,...a,children:b})});mn.displayName="AccordionPanel";var pn=oe(function({children:n,reduceMotion:e,...r},a){const o=rn("Accordion",r),s=an(r),{htmlProps:c,descendants:u,...l}=Ca(s),d=x.useMemo(()=>({...l,reduceMotion:!!e}),[l,e]);return i.jsx(Ta,{value:u,children:i.jsx(Ea,{value:d,children:i.jsx(Pa,{value:o,children:i.jsx(pe.div,{ref:a,...c,className:se("chakra-accordion",r.className),__css:o.root,children:n})})})})});pn.displayName="Accordion";function Wa(t){return"current"in t}var gn=()=>typeof window<"u";function La(){var t;const n=navigator.userAgentData;return(t=n==null?void 0:n.platform)!=null?t:navigator.platform}var Ha=t=>gn()&&t.test(navigator.vendor),Ba=t=>gn()&&t.test(La()),Ya=()=>Ba(/mac|iphone|ipad|ipod/i),qa=()=>Ya()&&Ha(/apple/i);function $a(t){const{ref:n,elements:e,enabled:r}=t,a=()=>{var o,s;return(s=(o=n.current)==null?void 0:o.ownerDocument)!=null?s:document};ca(a,"pointerdown",o=>{if(!qa()||!r)return;const s=o.target,u=(e??[n]).some(l=>{const d=Wa(l)?l.current:l;return(d==null?void 0:d.contains(s))||d===s});a().activeElement!==s&&u&&(o.preventDefault(),s.focus())})}var yn={exports:{}},Va="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",za=Va,Qa=za;function bn(){}function wn(){}wn.resetWarningCache=bn;var Ga=function(){function t(r,a,o,s,c,u){if(u!==Qa){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function n(){return t}var e={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,elementType:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:wn,resetWarningCache:bn};return e.PropTypes=e,e};yn.exports=Ga();var Xa=yn.exports;const G=Fe(Xa);var xn=oe(function(n,e){const{columns:r,spacingX:a,spacingY:o,spacing:s,minChildWidth:c,...u}=n,l=on(),d=c?Ka(c,l):Za(r);return i.jsx(Qe,{ref:e,gap:s,columnGap:a,rowGap:o,templateColumns:d,...u})});xn.displayName="SimpleGrid";function Ua(t){return typeof t=="number"?`${t}px`:t}function Ka(t,n){return sn(t,e=>{const r=br("sizes",e,Ua(e))(n);return e===null?null:`repeat(auto-fit, minmax(${r}, 1fr))`})}function Za(t){return sn(t,n=>n===null?null:`repeat(${n}, minmax(0, 1fr))`)}var[Ja,He]=We({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[eo,vn]=We({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `});function mt(t){const n=x.Children.only(t.children),{getTriggerProps:e}=He();return x.cloneElement(n,e(n.props,n.ref))}mt.displayName="PopoverTrigger";var we={click:"click",hover:"hover"};function to(t={}){const{closeOnBlur:n=!0,closeOnEsc:e=!0,initialFocusRef:r,id:a,returnFocusOnClose:o=!0,autoFocus:s=!0,arrowSize:c,arrowShadowColor:u,trigger:l=we.click,openDelay:d=200,closeDelay:f=200,isLazy:b,lazyBehavior:m="unmount",computePositionOnMount:p,...y}=t,{isOpen:h,onClose:D,onOpen:P,onToggle:w}=la(t),v=x.useRef(null),k=x.useRef(null),j=x.useRef(null),S=x.useRef(!1),L=x.useRef(!1);h&&(L.current=!0);const[N,C]=x.useState(!1),[O,H]=x.useState(!1),U=x.useId(),q=a??U,[T,Y,$,z]=["popover-trigger","popover-content","popover-header","popover-body"].map(E=>`${E}-${q}`),{referenceRef:ie,getArrowProps:Be,getPopperProps:ce,getArrowInnerProps:Z,forceUpdate:Nt}=ua({...y,enabled:h||!!p}),At=da({isOpen:h,ref:j});$a({enabled:h,ref:k}),fa(j,{focusRef:k,visible:h,shouldFocus:o&&l===we.click}),ha(j,{focusRef:r,visible:h,shouldFocus:s&&l===we.click});const It=ma({wasSelected:L.current,enabled:b,mode:m,isSelected:At.present}),Xn=x.useCallback((E={},K=null)=>{const V={...E,style:{...E.style,transformOrigin:it.transformOrigin.varRef,[it.arrowSize.var]:c?`${c}px`:void 0,[it.arrowShadowColor.var]:u},ref:ve(j,K),children:It?E.children:null,id:Y,tabIndex:-1,role:"dialog",onKeyDown:X(E.onKeyDown,te=>{e&&te.key==="Escape"&&D()}),onBlur:X(E.onBlur,te=>{const Ye=Bt(te),ot=lt(j.current,Ye),tr=lt(k.current,Ye);h&&n&&(!ot&&!tr)&&D()}),"aria-labelledby":N?$:void 0,"aria-describedby":O?z:void 0};return l===we.hover&&(V.role="tooltip",V.onMouseEnter=X(E.onMouseEnter,()=>{S.current=!0}),V.onMouseLeave=X(E.onMouseLeave,te=>{te.nativeEvent.relatedTarget!==null&&(S.current=!1,setTimeout(()=>D(),f))})),V},[It,Y,N,$,O,z,l,e,D,h,n,f,u,c]),Un=x.useCallback((E={},K=null)=>ce({...E,style:{visibility:h?"visible":"hidden",...E.style}},K),[h,ce]),Kn=x.useCallback((E,K=null)=>({...E,ref:ve(K,v,ie)}),[v,ie]),le=x.useRef(),at=x.useRef(),Rt=x.useCallback(E=>{v.current==null&&ie(E)},[ie]),Zn=x.useCallback((E={},K=null)=>{const V={...E,ref:ve(k,K,Rt),id:T,"aria-haspopup":"dialog","aria-expanded":h,"aria-controls":Y};return l===we.click&&(V.onClick=X(E.onClick,w)),l===we.hover&&(V.onFocus=X(E.onFocus,()=>{le.current===void 0&&P()}),V.onBlur=X(E.onBlur,te=>{const Ye=Bt(te),ot=!lt(j.current,Ye);h&&n&&ot&&D()}),V.onKeyDown=X(E.onKeyDown,te=>{te.key==="Escape"&&D()}),V.onMouseEnter=X(E.onMouseEnter,()=>{S.current=!0,le.current=window.setTimeout(()=>P(),d)}),V.onMouseLeave=X(E.onMouseLeave,()=>{S.current=!1,le.current&&(clearTimeout(le.current),le.current=void 0),at.current=window.setTimeout(()=>{S.current===!1&&D()},f)})),V},[T,h,Y,l,Rt,w,P,n,D,d,f]);x.useEffect(()=>()=>{le.current&&clearTimeout(le.current),at.current&&clearTimeout(at.current)},[]);const Jn=x.useCallback((E={},K=null)=>({...E,id:$,ref:ve(K,V=>{C(!!V)})}),[$]),er=x.useCallback((E={},K=null)=>({...E,id:z,ref:ve(K,V=>{H(!!V)})}),[z]);return{forceUpdate:Nt,isOpen:h,onAnimationComplete:At.onComplete,onClose:D,getAnchorProps:Kn,getArrowProps:Be,getArrowInnerProps:Z,getPopoverPositionerProps:Un,getPopoverProps:Xn,getTriggerProps:Zn,getHeaderProps:Jn,getBodyProps:er}}function lt(t,n){return t===n||(t==null?void 0:t.contains(n))}function Bt(t){var n;const e=t.currentTarget.ownerDocument.activeElement;return(n=t.relatedTarget)!=null?n:e}function Dn(t){const n=rn("Popover",t),{children:e,...r}=an(t),a=on(),o=to({...r,direction:a.direction});return i.jsx(Ja,{value:o,children:i.jsx(eo,{value:n,children:wr(e,{isOpen:o.isOpen,onClose:o.onClose,forceUpdate:o.forceUpdate})})})}Dn.displayName="Popover";function Pn(t){const n=x.Children.only(t.children),{getAnchorProps:e}=He();return x.cloneElement(n,e(n.props,n.ref))}Pn.displayName="PopoverAnchor";var On=oe(function(n,e){const{getBodyProps:r}=He(),a=vn();return i.jsx(pe.div,{...r(n,e),className:se("chakra-popover__body",n.className),__css:a.body})});On.displayName="PopoverBody";function no(t){if(t)return{enter:{...t.enter,visibility:"visible"},exit:{...t.exit,transitionEnd:{visibility:"hidden"}}}}var ro={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},ao=pe(nn.section),Tn=oe(function(n,e){const{variants:r=ro,...a}=n,{isOpen:o}=He();return i.jsx(ao,{ref:e,variants:no(r),initial:!1,animate:o?"enter":"exit",...a})});Tn.displayName="PopoverTransition";var _n=oe(function(n,e){const{rootProps:r,motionProps:a,...o}=n,{getPopoverProps:s,getPopoverPositionerProps:c,onAnimationComplete:u}=He(),l=vn(),d={position:"relative",display:"flex",flexDirection:"column",...l.content};return i.jsx(pe.div,{...c(r),__css:l.popper,className:"chakra-popover__popper",children:i.jsx(Tn,{...a,...s(o,e),onAnimationComplete:xr(u,o.onAnimationComplete),className:se("chakra-popover__content",n.className),__css:d})})});_n.displayName="PopoverContent";function kn(t,n){return en({...n?ar:or,pathParams:{id_cliente:t??""},silent:!0})}function Mn(t,n){return en({...n?sr:ir,pathParams:{id_pedido:t},silent:!0})}const oo=t=>kn(t,!0),so=t=>Mn(t,!0),io=t=>kn(t,!1),co=t=>Mn(t,!1),Cn=()=>i.jsx(i.Fragment,{children:"Loading Skeletons here"});function B(t){const n=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&n==="[object Date]"?new t.constructor(+t):typeof t=="number"||n==="[object Number]"||typeof t=="string"||n==="[object String]"?new Date(t):new Date(NaN)}function I(t,n){return t instanceof Date?new t.constructor(n):new Date(n)}function En(t,n){const e=B(t);return isNaN(n)?I(t,NaN):(n&&e.setDate(e.getDate()+n),e)}const jn=6048e5,lo=864e5,uo=6e4,fo=36e5,ho=1e3;let mo={};function Ee(){return mo}function ae(t,n){var c,u,l,d;const e=Ee(),r=(n==null?void 0:n.weekStartsOn)??((u=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??e.weekStartsOn??((d=(l=e.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??0,a=B(t),o=a.getDay(),s=(o<r?7:0)+o-r;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function _e(t){return ae(t,{weekStartsOn:1})}function Nn(t){const n=B(t),e=n.getFullYear(),r=I(t,0);r.setFullYear(e+1,0,4),r.setHours(0,0,0,0);const a=_e(r),o=I(t,0);o.setFullYear(e,0,4),o.setHours(0,0,0,0);const s=_e(o);return n.getTime()>=a.getTime()?e+1:n.getTime()>=s.getTime()?e:e-1}function pt(t){const n=B(t);return n.setHours(0,0,0,0),n}function Xe(t){const n=B(t),e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),+t-+e}function po(t,n){const e=pt(t),r=pt(n),a=+e-Xe(e),o=+r-Xe(r);return Math.round((a-o)/lo)}function go(t){const n=Nn(t),e=I(t,0);return e.setFullYear(n,0,4),e.setHours(0,0,0,0),_e(e)}function An(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function yo(t){if(!An(t)&&typeof t!="number")return!1;const n=B(t);return!isNaN(Number(n))}function bo(t){const n=B(t),e=I(t,0);return e.setFullYear(n.getFullYear(),0,1),e.setHours(0,0,0,0),e}const wo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xo=(t,n,e)=>{let r;const a=wo[t];return typeof a=="string"?r=a:n===1?r=a.one:r=a.other.replace("{{count}}",n.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r};function ut(t){return(n={})=>{const e=n.width?String(n.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const vo={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Do={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Po={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Oo={date:ut({formats:vo,defaultWidth:"full"}),time:ut({formats:Do,defaultWidth:"full"}),dateTime:ut({formats:Po,defaultWidth:"full"})},To={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_o=(t,n,e,r)=>To[t];function Ne(t){return(n,e)=>{const r=e!=null&&e.context?String(e.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,c=e!=null&&e.width?String(e.width):s;a=t.formattingValues[c]||t.formattingValues[s]}else{const s=t.defaultWidth,c=e!=null&&e.width?String(e.width):t.defaultWidth;a=t.values[c]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(n):n;return a[o]}}const ko={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mo={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Co={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Eo={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},No={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ao=(t,n)=>{const e=Number(t),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Io={ordinalNumber:Ao,era:Ne({values:ko,defaultWidth:"wide"}),quarter:Ne({values:Mo,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ne({values:Co,defaultWidth:"wide"}),day:Ne({values:Eo,defaultWidth:"wide"}),dayPeriod:Ne({values:jo,defaultWidth:"wide",formattingValues:No,defaultFormattingWidth:"wide"})};function Ae(t){return(n,e={})=>{const r=e.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=n.match(a);if(!o)return null;const s=o[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?So(c,f=>f.test(s)):Ro(c,f=>f.test(s));let l;l=t.valueCallback?t.valueCallback(u):u,l=e.valueCallback?e.valueCallback(l):l;const d=n.slice(s.length);return{value:l,rest:d}}}function Ro(t,n){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&n(t[e]))return e}function So(t,n){for(let e=0;e<t.length;e++)if(n(t[e]))return e}function Fo(t){return(n,e={})=>{const r=n.match(t.matchPattern);if(!r)return null;const a=r[0],o=n.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=e.valueCallback?e.valueCallback(s):s;const c=n.slice(a.length);return{value:s,rest:c}}}const Wo=/^(\d+)(th|st|nd|rd)?/i,Lo=/\d+/i,Ho={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Bo={any:[/^b/i,/^(a|c)/i]},Yo={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qo={any:[/1/i,/2/i,/3/i,/4/i]},$o={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Vo={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zo={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qo={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Go={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xo={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Uo={ordinalNumber:Fo({matchPattern:Wo,parsePattern:Lo,valueCallback:t=>parseInt(t,10)}),era:Ae({matchPatterns:Ho,defaultMatchWidth:"wide",parsePatterns:Bo,defaultParseWidth:"any"}),quarter:Ae({matchPatterns:Yo,defaultMatchWidth:"wide",parsePatterns:qo,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ae({matchPatterns:$o,defaultMatchWidth:"wide",parsePatterns:Vo,defaultParseWidth:"any"}),day:Ae({matchPatterns:zo,defaultMatchWidth:"wide",parsePatterns:Qo,defaultParseWidth:"any"}),dayPeriod:Ae({matchPatterns:Go,defaultMatchWidth:"any",parsePatterns:Xo,defaultParseWidth:"any"})},In={code:"en-US",formatDistance:xo,formatLong:Oo,formatRelative:_o,localize:Io,match:Uo,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ko(t){const n=B(t);return po(n,bo(n))+1}function Rn(t){const n=B(t),e=+_e(n)-+go(n);return Math.round(e/jn)+1}function Ot(t,n){var d,f,b,m;const e=B(t),r=e.getFullYear(),a=Ee(),o=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(b=a.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,s=I(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const c=ae(s,n),u=I(t,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const l=ae(u,n);return e.getTime()>=c.getTime()?r+1:e.getTime()>=l.getTime()?r:r-1}function Zo(t,n){var c,u,l,d;const e=Ee(),r=(n==null?void 0:n.firstWeekContainsDate)??((u=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??e.firstWeekContainsDate??((d=(l=e.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??1,a=Ot(t,n),o=I(t,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),ae(o,n)}function Sn(t,n){const e=B(t),r=+ae(e,n)-+Zo(e,n);return Math.round(r/jn)+1}function M(t,n){const e=t<0?"-":"",r=Math.abs(t).toString().padStart(n,"0");return e+r}const re={y(t,n){const e=t.getFullYear(),r=e>0?e:1-e;return M(n==="yy"?r%100:r,n.length)},M(t,n){const e=t.getMonth();return n==="M"?String(e+1):M(e+1,2)},d(t,n){return M(t.getDate(),n.length)},a(t,n){const e=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(t,n){return M(t.getHours()%12||12,n.length)},H(t,n){return M(t.getHours(),n.length)},m(t,n){return M(t.getMinutes(),n.length)},s(t,n){return M(t.getSeconds(),n.length)},S(t,n){const e=n.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,e-3));return M(a,n.length)}},xe={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yt={G:function(t,n,e){const r=t.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return e.era(r,{width:"abbreviated"});case"GGGGG":return e.era(r,{width:"narrow"});case"GGGG":default:return e.era(r,{width:"wide"})}},y:function(t,n,e){if(n==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return e.ordinalNumber(a,{unit:"year"})}return re.y(t,n)},Y:function(t,n,e,r){const a=Ot(t,r),o=a>0?a:1-a;if(n==="YY"){const s=o%100;return M(s,2)}return n==="Yo"?e.ordinalNumber(o,{unit:"year"}):M(o,n.length)},R:function(t,n){const e=Nn(t);return M(e,n.length)},u:function(t,n){const e=t.getFullYear();return M(e,n.length)},Q:function(t,n,e){const r=Math.ceil((t.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return M(r,2);case"Qo":return e.ordinalNumber(r,{unit:"quarter"});case"QQQ":return e.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,n,e){const r=Math.ceil((t.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return M(r,2);case"qo":return e.ordinalNumber(r,{unit:"quarter"});case"qqq":return e.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,n,e){const r=t.getMonth();switch(n){case"M":case"MM":return re.M(t,n);case"Mo":return e.ordinalNumber(r+1,{unit:"month"});case"MMM":return e.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(r,{width:"wide",context:"formatting"})}},L:function(t,n,e){const r=t.getMonth();switch(n){case"L":return String(r+1);case"LL":return M(r+1,2);case"Lo":return e.ordinalNumber(r+1,{unit:"month"});case"LLL":return e.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(r,{width:"wide",context:"standalone"})}},w:function(t,n,e,r){const a=Sn(t,r);return n==="wo"?e.ordinalNumber(a,{unit:"week"}):M(a,n.length)},I:function(t,n,e){const r=Rn(t);return n==="Io"?e.ordinalNumber(r,{unit:"week"}):M(r,n.length)},d:function(t,n,e){return n==="do"?e.ordinalNumber(t.getDate(),{unit:"date"}):re.d(t,n)},D:function(t,n,e){const r=Ko(t);return n==="Do"?e.ordinalNumber(r,{unit:"dayOfYear"}):M(r,n.length)},E:function(t,n,e){const r=t.getDay();switch(n){case"E":case"EE":case"EEE":return e.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(r,{width:"short",context:"formatting"});case"EEEE":default:return e.day(r,{width:"wide",context:"formatting"})}},e:function(t,n,e,r){const a=t.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return M(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(a,{width:"short",context:"formatting"});case"eeee":default:return e.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,e,r){const a=t.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return M(o,n.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(a,{width:"narrow",context:"standalone"});case"cccccc":return e.day(a,{width:"short",context:"standalone"});case"cccc":default:return e.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,e){const r=t.getDay(),a=r===0?7:r;switch(n){case"i":return String(a);case"ii":return M(a,n.length);case"io":return e.ordinalNumber(a,{unit:"day"});case"iii":return e.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(r,{width:"short",context:"formatting"});case"iiii":default:return e.day(r,{width:"wide",context:"formatting"})}},a:function(t,n,e){const a=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,e){const r=t.getHours();let a;switch(r===12?a=xe.noon:r===0?a=xe.midnight:a=r/12>=1?"pm":"am",n){case"b":case"bb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,e){const r=t.getHours();let a;switch(r>=17?a=xe.evening:r>=12?a=xe.afternoon:r>=4?a=xe.morning:a=xe.night,n){case"B":case"BB":case"BBB":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,e){if(n==="ho"){let r=t.getHours()%12;return r===0&&(r=12),e.ordinalNumber(r,{unit:"hour"})}return re.h(t,n)},H:function(t,n,e){return n==="Ho"?e.ordinalNumber(t.getHours(),{unit:"hour"}):re.H(t,n)},K:function(t,n,e){const r=t.getHours()%12;return n==="Ko"?e.ordinalNumber(r,{unit:"hour"}):M(r,n.length)},k:function(t,n,e){let r=t.getHours();return r===0&&(r=24),n==="ko"?e.ordinalNumber(r,{unit:"hour"}):M(r,n.length)},m:function(t,n,e){return n==="mo"?e.ordinalNumber(t.getMinutes(),{unit:"minute"}):re.m(t,n)},s:function(t,n,e){return n==="so"?e.ordinalNumber(t.getSeconds(),{unit:"second"}):re.s(t,n)},S:function(t,n){return re.S(t,n)},X:function(t,n,e){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return $t(r);case"XXXX":case"XX":return ue(r);case"XXXXX":case"XXX":default:return ue(r,":")}},x:function(t,n,e){const r=t.getTimezoneOffset();switch(n){case"x":return $t(r);case"xxxx":case"xx":return ue(r);case"xxxxx":case"xxx":default:return ue(r,":")}},O:function(t,n,e){const r=t.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+qt(r,":");case"OOOO":default:return"GMT"+ue(r,":")}},z:function(t,n,e){const r=t.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+qt(r,":");case"zzzz":default:return"GMT"+ue(r,":")}},t:function(t,n,e){const r=Math.trunc(t.getTime()/1e3);return M(r,n.length)},T:function(t,n,e){const r=t.getTime();return M(r,n.length)}};function qt(t,n=""){const e=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),o=r%60;return o===0?e+String(a):e+String(a)+n+M(o,2)}function $t(t,n){return t%60===0?(t>0?"-":"+")+M(Math.abs(t)/60,2):ue(t,n)}function ue(t,n=""){const e=t>0?"-":"+",r=Math.abs(t),a=M(Math.trunc(r/60),2),o=M(r%60,2);return e+a+n+o}const Vt=(t,n)=>{switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Fn=(t,n)=>{switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Jo=(t,n)=>{const e=t.match(/(P+)(p+)?/)||[],r=e[1],a=e[2];if(!a)return Vt(t,n);let o;switch(r){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",Vt(r,n)).replace("{{time}}",Fn(a,n))},gt={p:Fn,P:Jo},es=/^D+$/,ts=/^Y+$/,ns=["D","DD","YY","YYYY"];function Wn(t){return es.test(t)}function Ln(t){return ts.test(t)}function yt(t,n,e){const r=rs(t,n,e);if(console.warn(r),ns.includes(t))throw new RangeError(r)}function rs(t,n,e){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${n}\`) for formatting ${r} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const as=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,os=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ss=/^'([^]*?)'?$/,is=/''/g,cs=/[a-zA-Z]/;function de(t,n,e){var d,f,b,m;const r=Ee(),a=r.locale??In,o=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=r.weekStartsOn??((m=(b=r.locale)==null?void 0:b.options)==null?void 0:m.weekStartsOn)??0,c=B(t);if(!yo(c))throw new RangeError("Invalid time value");let u=n.match(os).map(p=>{const y=p[0];if(y==="p"||y==="P"){const h=gt[y];return h(p,a.formatLong)}return p}).join("").match(as).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const y=p[0];if(y==="'")return{isToken:!1,value:ls(p)};if(Yt[y])return{isToken:!0,value:p};if(y.match(cs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:p}});a.localize.preprocessor&&(u=a.localize.preprocessor(c,u));const l={firstWeekContainsDate:o,weekStartsOn:s,locale:a};return u.map(p=>{if(!p.isToken)return p.value;const y=p.value;(Ln(y)||Wn(y))&&yt(y,n,String(t));const h=Yt[y[0]];return h(c,y,a.localize,l)}).join("")}function ls(t){const n=t.match(ss);return n?n[1].replace(is,"'"):t}function us(){return Object.assign({},Ee())}function ds(t){let e=B(t).getDay();return e===0&&(e=7),e}function fs(t,n){const e=n instanceof Date?I(n,0):new n(0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}const hs=10;class Hn{constructor(){g(this,"subPriority",0)}validate(n,e){return!0}}class ms extends Hn{constructor(n,e,r,a,o){super(),this.value=n,this.validateValue=e,this.setValue=r,this.priority=a,o&&(this.subPriority=o)}validate(n,e){return this.validateValue(n,this.value,e)}set(n,e,r){return this.setValue(n,e,this.value,r)}}class ps extends Hn{constructor(){super(...arguments);g(this,"priority",hs);g(this,"subPriority",-1)}set(e,r){return r.timestampIsSet?e:I(e,fs(e,Date))}}class _{run(n,e,r,a){const o=this.parse(n,e,r,a);return o?{setter:new ms(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(n,e,r){return!0}}class gs extends _{constructor(){super(...arguments);g(this,"priority",140);g(this,"incompatibleTokens",["R","u","t","T"])}parse(e,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"});case"GGGGG":return a.era(e,{width:"narrow"});case"GGGG":default:return a.era(e,{width:"wide"})||a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"})}}set(e,r,a){return r.era=a,e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}const F={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},J={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function W(t,n){return t&&{value:n(t.value),rest:t.rest}}function A(t,n){const e=n.match(t);return e?{value:parseInt(e[0],10),rest:n.slice(e[0].length)}:null}function ee(t,n){const e=n.match(t);if(!e)return null;if(e[0]==="Z")return{value:0,rest:n.slice(1)};const r=e[1]==="+"?1:-1,a=e[2]?parseInt(e[2],10):0,o=e[3]?parseInt(e[3],10):0,s=e[5]?parseInt(e[5],10):0;return{value:r*(a*fo+o*uo+s*ho),rest:n.slice(e[0].length)}}function Bn(t){return A(F.anyDigitsSigned,t)}function R(t,n){switch(t){case 1:return A(F.singleDigit,n);case 2:return A(F.twoDigits,n);case 3:return A(F.threeDigits,n);case 4:return A(F.fourDigits,n);default:return A(new RegExp("^\\d{1,"+t+"}"),n)}}function Ue(t,n){switch(t){case 1:return A(F.singleDigitSigned,n);case 2:return A(F.twoDigitsSigned,n);case 3:return A(F.threeDigitsSigned,n);case 4:return A(F.fourDigitsSigned,n);default:return A(new RegExp("^-?\\d{1,"+t+"}"),n)}}function Tt(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Yn(t,n){const e=n>0,r=e?n:1-n;let a;if(r<=50)a=t||100;else{const o=r+50,s=Math.trunc(o/100)*100,c=t>=o%100;a=t+s-(c?100:0)}return e?a:1-a}function qn(t){return t%400===0||t%4===0&&t%100!==0}class ys extends _{constructor(){super(...arguments);g(this,"priority",130);g(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,r,a){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return W(R(4,e),o);case"yo":return W(a.ordinalNumber(e,{unit:"year"}),o);default:return W(R(r.length,e),o)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,a){const o=e.getFullYear();if(a.isTwoDigitYear){const c=Yn(a.year,o);return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}const s=!("era"in r)||r.era===1?a.year:1-a.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class bs extends _{constructor(){super(...arguments);g(this,"priority",130);g(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,r,a){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return W(R(4,e),o);case"Yo":return W(a.ordinalNumber(e,{unit:"year"}),o);default:return W(R(r.length,e),o)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,a,o){const s=Ot(e,o);if(a.isTwoDigitYear){const u=Yn(a.year,s);return e.setFullYear(u,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),ae(e,o)}const c=!("era"in r)||r.era===1?a.year:1-a.year;return e.setFullYear(c,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),ae(e,o)}}class ws extends _{constructor(){super(...arguments);g(this,"priority",130);g(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,r){return Ue(r==="R"?4:r.length,e)}set(e,r,a){const o=I(e,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),_e(o)}}class xs extends _{constructor(){super(...arguments);g(this,"priority",130);g(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,r){return Ue(r==="u"?4:r.length,e)}set(e,r,a){return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}class vs extends _{constructor(){super(...arguments);g(this,"priority",120);g(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,r,a){switch(r){case"Q":case"QQ":return R(r.length,e);case"Qo":return a.ordinalNumber(e,{unit:"quarter"});case"QQQ":return a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(e,{width:"wide",context:"formatting"})||a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=1&&r<=4}set(e,r,a){return e.setMonth((a-1)*3,1),e.setHours(0,0,0,0),e}}class Ds extends _{constructor(){super(...arguments);g(this,"priority",120);g(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,r,a){switch(r){case"q":case"qq":return R(r.length,e);case"qo":return a.ordinalNumber(e,{unit:"quarter"});case"qqq":return a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(e,{width:"wide",context:"standalone"})||a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=1&&r<=4}set(e,r,a){return e.setMonth((a-1)*3,1),e.setHours(0,0,0,0),e}}class Ps extends _{constructor(){super(...arguments);g(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);g(this,"priority",110)}parse(e,r,a){const o=s=>s-1;switch(r){case"M":return W(A(F.month,e),o);case"MM":return W(R(2,e),o);case"Mo":return W(a.ordinalNumber(e,{unit:"month"}),o);case"MMM":return a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(e,{width:"wide",context:"formatting"})||a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=11}set(e,r,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}}class Os extends _{constructor(){super(...arguments);g(this,"priority",110);g(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,r,a){const o=s=>s-1;switch(r){case"L":return W(A(F.month,e),o);case"LL":return W(R(2,e),o);case"Lo":return W(a.ordinalNumber(e,{unit:"month"}),o);case"LLL":return a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(e,{width:"wide",context:"standalone"})||a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=11}set(e,r,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}}function Ts(t,n,e){const r=B(t),a=Sn(r,e)-n;return r.setDate(r.getDate()-a*7),r}class _s extends _{constructor(){super(...arguments);g(this,"priority",100);g(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,r,a){switch(r){case"w":return A(F.week,e);case"wo":return a.ordinalNumber(e,{unit:"week"});default:return R(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,a,o){return ae(Ts(e,a,o),o)}}function ks(t,n){const e=B(t),r=Rn(e)-n;return e.setDate(e.getDate()-r*7),e}class Ms extends _{constructor(){super(...arguments);g(this,"priority",100);g(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,r,a){switch(r){case"I":return A(F.week,e);case"Io":return a.ordinalNumber(e,{unit:"week"});default:return R(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,a){return _e(ks(e,a))}}const Cs=[31,28,31,30,31,30,31,31,30,31,30,31],Es=[31,29,31,30,31,30,31,31,30,31,30,31];class js extends _{constructor(){super(...arguments);g(this,"priority",90);g(this,"subPriority",1);g(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,r,a){switch(r){case"d":return A(F.date,e);case"do":return a.ordinalNumber(e,{unit:"date"});default:return R(r.length,e)}}validate(e,r){const a=e.getFullYear(),o=qn(a),s=e.getMonth();return o?r>=1&&r<=Es[s]:r>=1&&r<=Cs[s]}set(e,r,a){return e.setDate(a),e.setHours(0,0,0,0),e}}class Ns extends _{constructor(){super(...arguments);g(this,"priority",90);g(this,"subpriority",1);g(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,r,a){switch(r){case"D":case"DD":return A(F.dayOfYear,e);case"Do":return a.ordinalNumber(e,{unit:"date"});default:return R(r.length,e)}}validate(e,r){const a=e.getFullYear();return qn(a)?r>=1&&r<=366:r>=1&&r<=365}set(e,r,a){return e.setMonth(0,a),e.setHours(0,0,0,0),e}}function _t(t,n,e){var f,b,m,p;const r=Ee(),a=(e==null?void 0:e.weekStartsOn)??((b=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,o=B(t),s=o.getDay(),u=(n%7+7)%7,l=7-a,d=n<0||n>6?n-(s+l)%7:(u+l)%7-(s+l)%7;return En(o,d)}class As extends _{constructor(){super(...arguments);g(this,"priority",90);g(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,a,o){return e=_t(e,a,o),e.setHours(0,0,0,0),e}}class Is extends _{constructor(){super(...arguments);g(this,"priority",90);g(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,r,a,o){const s=c=>{const u=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return W(R(r.length,e),s);case"eo":return W(a.ordinalNumber(e,{unit:"day"}),s);case"eee":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeeee":return a.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,a,o){return e=_t(e,a,o),e.setHours(0,0,0,0),e}}class Rs extends _{constructor(){super(...arguments);g(this,"priority",90);g(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,r,a,o){const s=c=>{const u=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return W(R(r.length,e),s);case"co":return W(a.ordinalNumber(e,{unit:"day"}),s);case"ccc":return a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"ccccc":return a.day(e,{width:"narrow",context:"standalone"});case"cccccc":return a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(e,{width:"wide",context:"standalone"})||a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=6}set(e,r,a,o){return e=_t(e,a,o),e.setHours(0,0,0,0),e}}function Ss(t,n){const e=B(t),r=ds(e),a=n-r;return En(e,a)}class Fs extends _{constructor(){super(...arguments);g(this,"priority",90);g(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,r,a){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return R(r.length,e);case"io":return a.ordinalNumber(e,{unit:"day"});case"iii":return W(a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),o);case"iiiii":return W(a.day(e,{width:"narrow",context:"formatting"}),o);case"iiiiii":return W(a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),o);case"iiii":default:return W(a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),o)}}validate(e,r){return r>=1&&r<=7}set(e,r,a){return e=Ss(e,a),e.setHours(0,0,0,0),e}}class Ws extends _{constructor(){super(...arguments);g(this,"priority",80);g(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,a){return e.setHours(Tt(a),0,0,0),e}}class Ls extends _{constructor(){super(...arguments);g(this,"priority",80);g(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,a){return e.setHours(Tt(a),0,0,0),e}}class Hs extends _{constructor(){super(...arguments);g(this,"priority",80);g(this,"incompatibleTokens",["a","b","t","T"])}parse(e,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,a){return e.setHours(Tt(a),0,0,0),e}}class Bs extends _{constructor(){super(...arguments);g(this,"priority",70);g(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,r,a){switch(r){case"h":return A(F.hour12h,e);case"ho":return a.ordinalNumber(e,{unit:"hour"});default:return R(r.length,e)}}validate(e,r){return r>=1&&r<=12}set(e,r,a){const o=e.getHours()>=12;return o&&a<12?e.setHours(a+12,0,0,0):!o&&a===12?e.setHours(0,0,0,0):e.setHours(a,0,0,0),e}}class Ys extends _{constructor(){super(...arguments);g(this,"priority",70);g(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,r,a){switch(r){case"H":return A(F.hour23h,e);case"Ho":return a.ordinalNumber(e,{unit:"hour"});default:return R(r.length,e)}}validate(e,r){return r>=0&&r<=23}set(e,r,a){return e.setHours(a,0,0,0),e}}class qs extends _{constructor(){super(...arguments);g(this,"priority",70);g(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,r,a){switch(r){case"K":return A(F.hour11h,e);case"Ko":return a.ordinalNumber(e,{unit:"hour"});default:return R(r.length,e)}}validate(e,r){return r>=0&&r<=11}set(e,r,a){return e.getHours()>=12&&a<12?e.setHours(a+12,0,0,0):e.setHours(a,0,0,0),e}}class $s extends _{constructor(){super(...arguments);g(this,"priority",70);g(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,r,a){switch(r){case"k":return A(F.hour24h,e);case"ko":return a.ordinalNumber(e,{unit:"hour"});default:return R(r.length,e)}}validate(e,r){return r>=1&&r<=24}set(e,r,a){const o=a<=24?a%24:a;return e.setHours(o,0,0,0),e}}class Vs extends _{constructor(){super(...arguments);g(this,"priority",60);g(this,"incompatibleTokens",["t","T"])}parse(e,r,a){switch(r){case"m":return A(F.minute,e);case"mo":return a.ordinalNumber(e,{unit:"minute"});default:return R(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,a){return e.setMinutes(a,0,0),e}}class zs extends _{constructor(){super(...arguments);g(this,"priority",50);g(this,"incompatibleTokens",["t","T"])}parse(e,r,a){switch(r){case"s":return A(F.second,e);case"so":return a.ordinalNumber(e,{unit:"second"});default:return R(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,a){return e.setSeconds(a,0),e}}class Qs extends _{constructor(){super(...arguments);g(this,"priority",30);g(this,"incompatibleTokens",["t","T"])}parse(e,r){const a=o=>Math.trunc(o*Math.pow(10,-r.length+3));return W(R(r.length,e),a)}set(e,r,a){return e.setMilliseconds(a),e}}class Gs extends _{constructor(){super(...arguments);g(this,"priority",10);g(this,"incompatibleTokens",["t","T","x"])}parse(e,r){switch(r){case"X":return ee(J.basicOptionalMinutes,e);case"XX":return ee(J.basic,e);case"XXXX":return ee(J.basicOptionalSeconds,e);case"XXXXX":return ee(J.extendedOptionalSeconds,e);case"XXX":default:return ee(J.extended,e)}}set(e,r,a){return r.timestampIsSet?e:I(e,e.getTime()-Xe(e)-a)}}class Xs extends _{constructor(){super(...arguments);g(this,"priority",10);g(this,"incompatibleTokens",["t","T","X"])}parse(e,r){switch(r){case"x":return ee(J.basicOptionalMinutes,e);case"xx":return ee(J.basic,e);case"xxxx":return ee(J.basicOptionalSeconds,e);case"xxxxx":return ee(J.extendedOptionalSeconds,e);case"xxx":default:return ee(J.extended,e)}}set(e,r,a){return r.timestampIsSet?e:I(e,e.getTime()-Xe(e)-a)}}class Us extends _{constructor(){super(...arguments);g(this,"priority",40);g(this,"incompatibleTokens","*")}parse(e){return Bn(e)}set(e,r,a){return[I(e,a*1e3),{timestampIsSet:!0}]}}class Ks extends _{constructor(){super(...arguments);g(this,"priority",20);g(this,"incompatibleTokens","*")}parse(e){return Bn(e)}set(e,r,a){return[I(e,a),{timestampIsSet:!0}]}}const Zs={G:new gs,y:new ys,Y:new bs,R:new ws,u:new xs,Q:new vs,q:new Ds,M:new Ps,L:new Os,w:new _s,I:new Ms,d:new js,D:new Ns,E:new As,e:new Is,c:new Rs,i:new Fs,a:new Ws,b:new Ls,B:new Hs,h:new Bs,H:new Ys,K:new qs,k:new $s,m:new Vs,s:new zs,S:new Qs,X:new Gs,x:new Xs,t:new Us,T:new Ks},Js=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ei=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ti=/^'([^]*?)'?$/,ni=/''/g,ri=/\S/,ai=/[a-zA-Z]/;function $n(t,n,e,r){var y,h,D,P;const a=us(),o=a.locale??In,s=a.firstWeekContainsDate??((h=(y=a.locale)==null?void 0:y.options)==null?void 0:h.firstWeekContainsDate)??1,c=a.weekStartsOn??((P=(D=a.locale)==null?void 0:D.options)==null?void 0:P.weekStartsOn)??0;if(n==="")return t===""?B(e):I(e,NaN);const u={firstWeekContainsDate:s,weekStartsOn:c,locale:o},l=[new ps],d=n.match(ei).map(w=>{const v=w[0];if(v in gt){const k=gt[v];return k(w,o.formatLong)}return w}).join("").match(Js),f=[];for(let w of d){Ln(w)&&yt(w,n,t),Wn(w)&&yt(w,n,t);const v=w[0],k=Zs[v];if(k){const{incompatibleTokens:j}=k;if(Array.isArray(j)){const L=f.find(N=>j.includes(N.token)||N.token===v);if(L)throw new RangeError(`The format string mustn't contain \`${L.fullToken}\` and \`${w}\` at the same time`)}else if(k.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);f.push({token:v,fullToken:w});const S=k.run(t,w,o.match,u);if(!S)return I(e,NaN);l.push(S.setter),t=S.rest}else{if(v.match(ai))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");if(w==="''"?w="'":v==="'"&&(w=oi(w)),t.indexOf(w)===0)t=t.slice(w.length);else return I(e,NaN)}}if(t.length>0&&ri.test(t))return I(e,NaN);const b=l.map(w=>w.priority).sort((w,v)=>v-w).filter((w,v,k)=>k.indexOf(w)===v).map(w=>l.filter(v=>v.priority===w).sort((v,k)=>k.subPriority-v.subPriority)).map(w=>w[0]);let m=B(e);if(isNaN(m.getTime()))return I(e,NaN);const p={};for(const w of b){if(!w.validate(m,u))return I(e,NaN);const v=w.set(m,p,u);Array.isArray(v)?(m=v[0],Object.assign(p,v[1])):m=v}return I(e,m)}function oi(t){return t.match(ti)[1].replace(ni,"'")}function si(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Ke=si(x),ii=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ci=function(t,n){var e={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},zt=function(n){var e=n.color,r=e===void 0?"currentColor":e,a=n.size,o=a===void 0?24:a;n.children;var s=ci(n,["color","size","children"]),c="mdi-icon "+(s.className||"");return Ke.createElement("svg",ii({},s,{className:c,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Ke.createElement("path",{d:"M21,19V17H8V19H21M21,13V11H8V13H21M8,7H21V5H8V7M4,5V7H6V5H4M3,5A1,1 0 0,1 4,4H6A1,1 0 0,1 7,5V7A1,1 0 0,1 6,8H4A1,1 0 0,1 3,7V5M4,11V13H6V11H4M3,11A1,1 0 0,1 4,10H6A1,1 0 0,1 7,11V13A1,1 0 0,1 6,14H4A1,1 0 0,1 3,13V11M4,17V19H6V17H4M3,17A1,1 0 0,1 4,16H6A1,1 0 0,1 7,17V19A1,1 0 0,1 6,20H4A1,1 0 0,1 3,19V17Z"}))},li=Ke.memo?Ke.memo(zt):zt,ui=li;const di=Fe(ui);function fi(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Ze=fi(x),hi=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},mi=function(t,n){var e={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Qt=function(n){var e=n.color,r=e===void 0?"currentColor":e,a=n.size,o=a===void 0?24:a;n.children;var s=mi(n,["color","size","children"]),c="mdi-icon "+(s.className||"");return Ze.createElement("svg",hi({},s,{className:c,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Ze.createElement("path",{d:"M14 10H3V12H14V10M14 6H3V8H14V6M3 16H10V14H3V16M21.5 11.5L23 13L16 20L11.5 15.5L13 14L16 17L21.5 11.5Z"}))},pi=Ze.memo?Ze.memo(Qt):Qt,gi=pi;const Gt=Fe(gi);function yi(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Je=yi(x),bi=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},wi=function(t,n){var e={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Xt=function(n){var e=n.color,r=e===void 0?"currentColor":e,a=n.size,o=a===void 0?24:a;n.children;var s=wi(n,["color","size","children"]),c="mdi-icon "+(s.className||"");return Je.createElement("svg",bi({},s,{className:c,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),Je.createElement("path",{d:"M3 6V8H14V6H3M3 10V12H14V10H3M20 10.1C19.9 10.1 19.7 10.2 19.6 10.3L18.6 11.3L20.7 13.4L21.7 12.4C21.9 12.2 21.9 11.8 21.7 11.6L20.4 10.3C20.3 10.2 20.2 10.1 20 10.1M18.1 11.9L12 17.9V20H14.1L20.2 13.9L18.1 11.9M3 14V16H10V14H3Z"}))},xi=Je.memo?Je.memo(Xt):Xt,vi=xi;const Di=Fe(vi);function Pi(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var et=Pi(x),Oi=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Ti=function(t,n){var e={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ut=function(n){var e=n.color,r=e===void 0?"currentColor":e,a=n.size,o=a===void 0?24:a;n.children;var s=Ti(n,["color","size","children"]),c="mdi-icon "+(s.className||"");return et.createElement("svg",Oi({},s,{className:c,width:o,height:o,fill:r,viewBox:"0 0 24 24"}),et.createElement("path",{d:"M2,21L23,12L2,3V10L17,12L2,14V21Z"}))},_i=et.memo?et.memo(Ut):Ut,ki=_i;const Mi=Fe(ki),Ci=t=>{wt();const{handleSubmit:n}=Ce(),{isDraft:e,isEditing:r,isDisabled:a,handlePedidoAction:o,handleDraftAction:s,setIsDraft:c,...u}=t;return i.jsx(i.Fragment,{children:i.jsx(me,{bg:Pe("white","blue.900"),sx:{px:4,position:"sticky",zIndex:1e3,top:0},children:i.jsxs(ft,{h:16,alignItems:"center",justifyContent:"space-between",children:[i.jsxs(un,{spacing:{base:2,sm:3},alignItems:"center",children:[e?i.jsxs(i.Fragment,{children:[i.jsx(je,{icon:Di,text:r?Or:Tr,sharedProps:{size:"sm",fontWeight:"400",colorScheme:"orange",isDisabled:a,onClick:()=>{n(async l=>{s(l)})()}},iconProps:{boxSize:{base:5,md:4}}}),!r&&i.jsx(je,{icon:Gt,text:_r,sharedProps:{size:"sm",fontWeight:"400",colorScheme:"green",isDisabled:a,onClick:()=>{c(!1)}},iconProps:{boxSize:{base:5,md:4}}})]}):i.jsxs(i.Fragment,{children:[i.jsx(je,{icon:Mi,text:r?vr:Dr,sharedProps:{size:"sm",fontWeight:"400",colorScheme:"orange",isDisabled:a,onClick:()=>{n(l=>{o(l)})()}},iconProps:{boxSize:{base:5,md:4}}}),!r&&i.jsx(je,{icon:Gt,text:Pr,sharedProps:{size:"sm",fontWeight:"400",colorScheme:"green",isDisabled:a,onClick:()=>{c(!0)}},iconProps:{boxSize:{base:5,md:4}}})]}),i.jsx(je,{icon:di,text:kr,sharedProps:{size:"sm",fontWeight:"400",colorScheme:"blue",isDisabled:a},iconProps:{boxSize:{base:5,md:4}}})]}),i.jsx(ft,{alignItems:"center",sx:{ms:{base:2,sm:3}},children:i.jsx(Xr,{...u})})]})})})},Vn=120,bt=120;function Kt(t,n){return An(n)?n:$n(n,"yyyy-MM-dd",new Date)}const Ei=t=>{const n=Ft({fecha_alta:Wt().transform(Kt).typeError("Ingrese una fecha de alta válida").required("Ingrese una fecha de alta válida"),fecha_entrega:Wt().transform(Kt).min(Kr("fecha_alta"),"La fecha de entrega no puede ser anterior a la fecha de alta").typeError("Ingrese una fecha de entrega válida").required("Ingrese una fecha de alta válida"),id_condicion:ne().required("Seleccione la condición de venta"),id_asiento:ne().required("Seleccione el tipo de asiento"),id_transporte:ne().required("Seleccione el transporte"),id_talonario:ne().required("Seleccione el talonario"),id_deposito:ne().required("Seleccione el depósito"),id_direccion:ne().required("Seleccione una dirección"),bonificacion:ne().required("Ingrese bonificación").typeError("Ingrese una bonificación válida").min(0,"La bonificación debe encontrarse entre 0 y 100%").max(100,"La bonificación debe encontrarse entre 0 y 100%"),quantities:Zr().of(ne()).test("at-least-one-quantity","Ingrese al menos una cantidad",function(r){return!r||r.length===0?!1:r.some(a=>a!=null&&a>0)}).required("Ingrese al menos una cantidad"),comentarios:st().default("").max(Vn,"Los comentarios no pueden superar los ${max} caracteres"),descripcion:st().default("").max(bt,"La descripción no puede superar los ${max} caracteres")}).required(),e=Ft({descripcion:st().required("Ingrese una descripción").max(bt,"La descripción no puede superar los ${max} caracteres")});return t?{yupValidationSchema:n.concat(e)}:{yupValidationSchema:n}},ji=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ni=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function Se(){return Se=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Se.apply(this,arguments)}function kt(t,n){if(t==null)return{};var e={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(n.indexOf(a)>=0)&&(e[a]=t[a]);return e}function Ai(t){if(t===null||t===!0||t===!1)return NaN;var n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function ke(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&n==="[object Date]"?new Date(t.getTime()):typeof t=="number"||n==="[object Number]"?new Date(t):((typeof t=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function rt(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=ke(t),r=Ai(n);return e.setDate(e.getDate()+r),e}function Me(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=ke(t),r=ke(n);return e.getTime()<r.getTime()}function fe(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=ke(t);return n.setHours(0,0,0,0),n}function Ii(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=fe(t),r=fe(n);return e.getTime()===r.getTime()}function Ri(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Ii(t,Date.now())}function zn(t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var e=ke(t),r=ke(n),a=e.getFullYear()-r.getFullYear(),o=e.getMonth()-r.getMonth();return a*12+o}function Mt(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return n.some(function(c){return c&&c.apply(void 0,[r].concat(o)),r.defaultPrevented})}}function Ct(t,n){throw new Error('The property "'+n+'" is required in "'+t+'"')}function Si(t){var n=t.calendars,e=t.offset,r=t.minDate;if(e>1&&r){var a=n[0].firstDayOfMonth,o=zn(a,r);o<e&&(e=o)}return e}function Fi(t){var n=t.calendars,e=t.offset,r=t.maxDate;if(e>1&&r){var a=n[n.length-1].lastDayOfMonth,o=zn(r,a);o<e&&(e=o)}return e}function Wi(t){var n=t.calendars,e=t.minDate;if(!e)return!1;var r=n[0].firstDayOfMonth,a=rt(r,-1);return!!Me(a,e)}function Li(t){var n=t.calendars,e=t.maxDate;if(!e)return!1;var r=n[n.length-1].lastDayOfMonth,a=rt(r,1);return!!Me(e,a)}function Hi(t){for(var n=t.date,e=t.selected,r=t.monthsToDisplay,a=t.offset,o=t.minDate,s=t.maxDate,c=t.firstDayOfWeek,u=t.showOutsideDays,l=[],d=Bi(n,o,s),f=0;f<r;f++){var b=Yi({month:d.getMonth()+f+a,year:d.getFullYear(),selectedDates:e,minDate:o,maxDate:s,firstDayOfWeek:c,showOutsideDays:u});l.push(b)}return l}function Bi(t,n,e){var r=fe(t);if(n){var a=fe(n);Me(r,a)&&(r=a)}if(e){var o=fe(e);Me(o,r)&&(r=o)}return r}function Yi(t){var n=t.month,e=t.year,r=t.selectedDates,a=t.minDate,o=t.maxDate,s=t.firstDayOfWeek,c=t.showOutsideDays,u=Vi(n,e),l=u.daysInMonth;n=u.month,e=u.year;for(var d=[],f=1;f<=l;f++){var b=new Date(e,n,f),m={date:b,selected:Et(r,b),selectable:jt(a,o,b),today:Ri(b),prevMonth:!1,nextMonth:!1};d.push(m)}var p=new Date(e,n,1),y=new Date(e,n,l),h=qi({firstDayOfMonth:p,minDate:a,maxDate:o,selectedDates:r,firstDayOfWeek:s,showOutsideDays:c}),D=$i({lastDayOfMonth:y,minDate:a,maxDate:o,selectedDates:r,firstDayOfWeek:s,showOutsideDays:c});d.unshift.apply(d,h),d.push.apply(d,D);var P=zi(d);return{firstDayOfMonth:p,lastDayOfMonth:y,month:n,year:e,weeks:P}}function qi(t){var n=t.firstDayOfMonth,e=t.minDate,r=t.maxDate,a=t.selectedDates,o=t.firstDayOfWeek,s=t.showOutsideDays,c=[],u=(n.getDay()+7-o)%7;if(s)for(var l=rt(n,-1),d=l.getDate(),f=l.getMonth(),b=l.getFullYear(),m=0;m<u;){var p=new Date(b,f,d-m),y={date:p,selected:Et(a,p),selectable:jt(e,r,p),today:!1,prevMonth:!0,nextMonth:!1};c.unshift(y),m++}else for(;u>0;)c.unshift(""),u--;return c}function $i(t){var n=t.lastDayOfMonth,e=t.minDate,r=t.maxDate,a=t.selectedDates,o=t.firstDayOfWeek,s=t.showOutsideDays,c=[],u=(n.getDay()+7-o)%7;if(s)for(var l=rt(n,1),d=l.getMonth(),f=l.getFullYear(),b=0;b<6-u;){var m=new Date(f,d,1+b),p={date:m,selected:Et(a,m),selectable:jt(e,r,m),today:!1,prevMonth:!1,nextMonth:!0};c.push(p),b++}else for(;u<6;)c.push(""),u++;return c}function Vi(t,n){var e=new Date(n,t,1);t=e.getMonth(),n=e.getFullYear();var r=32-new Date(n,t,32).getDate();return{daysInMonth:r,month:t,year:n}}function zi(t){for(var n=Math.ceil(t.length/7),e=[],r=0;r<n;r++){e[r]=[];for(var a=0;a<7;a++)e[r].push(t[r*7+a])}return e}function Et(t,n){return t=Array.isArray(t)?t:[t],t.some(function(e){return e instanceof Date&&fe(e).getTime()===fe(n).getTime()})}function jt(t,n,e){return!(t&&Me(e,t)||n&&Me(n,e))}function Qn(t){return t!==void 0}function Qi(t,n){return Qn(t)?t:n}function Gi(t,n){var e=n===void 0?{}:n,r=e.onClick,a=e.dateObj,o=a===void 0?Ct("getDateProps","dateObj"):a,s=kt(e,["onClick","dateObj"]);return Se({onClick:Mt(r,function(c){t(o,c)}),disabled:!o.selectable,"aria-label":o.date.toDateString(),"aria-pressed":o.selected,role:"button"},s)}function Xi(t,n){var e=t.minDate,r=t.offsetMonth,a=t.handleOffsetChanged,o=n===void 0?{}:n,s=o.onClick,c=o.offset,u=c===void 0?1:c,l=o.calendars,d=l===void 0?Ct("getBackProps","calendars"):l,f=kt(o,["onClick","offset","calendars"]);return Se({onClick:Mt(s,function(){a(r-Si({calendars:d,offset:u,minDate:e}))}),disabled:Wi({calendars:d,offset:u,minDate:e}),"aria-label":"Go back "+u+" month"+(u===1?"":"s")},f)}function Ui(t,n){var e=t.maxDate,r=t.offsetMonth,a=t.handleOffsetChanged,o=n===void 0?{}:n,s=o.onClick,c=o.offset,u=c===void 0?1:c,l=o.calendars,d=l===void 0?Ct("getForwardProps","calendars"):l,f=kt(o,["onClick","offset","calendars"]);return Se({onClick:Mt(s,function(){a(r+Fi({calendars:d,offset:u,maxDate:e}))}),disabled:Li({calendars:d,offset:u,maxDate:e}),"aria-label":"Go forward "+u+" month"+(u===1?"":"s")},f)}function Ki(t){var n=t.date,e=n===void 0?new Date:n,r=t.maxDate,a=t.minDate,o=t.monthsToDisplay,s=o===void 0?1:o,c=t.firstDayOfWeek,u=c===void 0?0:c,l=t.showOutsideDays,d=l===void 0?!1:l,f=t.offset,b=t.onDateSelected,m=t.onOffsetChanged,p=m===void 0?function(){}:m,y=t.selected,h=x.useState(0),D=h[0],P=h[1],w=Qi(f,D);function v(j){Qn(f)||P(j),p(j)}var k=Hi({date:e,selected:y,monthsToDisplay:s,minDate:a,maxDate:r,offset:w,firstDayOfWeek:u,showOutsideDays:d});return{calendars:k,getDateProps:Gi.bind(null,b),getBackProps:Xi.bind(null,{minDate:a,offsetMonth:w,handleOffsetChanged:v}),getForwardProps:Ui.bind(null,{maxDate:r,offsetMonth:w,handleOffsetChanged:v})}}G.func,G.func,G.instanceOf(Date),G.instanceOf(Date),G.instanceOf(Date),G.number,G.number,G.bool,G.number,G.func.isRequired,G.func,G.oneOfType([G.arrayOf(Date),G.instanceOf(Date)]);class Zi{constructor(n){this.config=n}getEvents(){return{onKeyDown:n=>{switch(n.key){case"ArrowDown":this.config.down&&this.config.down();break;case"ArrowLeft":this.config.left&&this.config.left();break;case"ArrowRight":this.config.right&&this.config.right();break;case"ArrowUp":this.config.up&&this.config.up();break}}}}}const tt={variant:"ghost",size:"sm"},Ji=t=>{var a;const{calendars:n,getBackProps:e}=t,r=(a=t.propsConfigs)==null?void 0:a.dateNavBtnProps;return i.jsxs(x.Fragment,{children:[i.jsx(he,{...e({calendars:n,offset:12}),...tt,...r,children:"<<"}),i.jsx(he,{...e({calendars:n}),...tt,...r,children:"<"})]})},ec=t=>{var a;const{calendars:n,getForwardProps:e}=t,r=(a=t.propsConfigs)==null?void 0:a.dateNavBtnProps;return i.jsxs(x.Fragment,{children:[i.jsx(he,{...e({calendars:n}),...tt,...r,children:">"}),i.jsx(he,{...e({calendars:n,offset:12}),...tt,...r,children:">>"})]})},Ie=.125,tc=({dateObj:t,propsConfigs:n,isInRange:e,disabledDates:r,renderProps:a,onMouseEnter:o})=>{const{date:s,selected:c,selectable:u,today:l}=t,{getDateProps:d}=a,{defaultBtnProps:f,isInRangeBtnProps:b,selectedBtnProps:m,todayBtnProps:p}=(n==null?void 0:n.dayOfMonthBtnProps)||{},y=!u||!!(r!=null&&r.has(s.getTime())),h=x.useMemo(()=>{var D;return{defaultBtnProps:{size:"sm",variant:"ghost",...f,_after:{content:"''",position:"absolute",top:`-${Ie}rem`,left:`-${Ie}rem`,bottom:`-${Ie}rem`,right:`-${Ie}rem`,borderWidth:`${Ie}rem`,borderColor:"transparent",...f==null?void 0:f._after},_hover:{bg:"purple.400",...f==null?void 0:f._hover,_disabled:{bg:"gray.100",...(D=f==null?void 0:f._hover)==null?void 0:D._disabled}}},isInRangeBtnProps:{background:"purple.200",...b},selectedBtnProps:{background:"purple.200",...m},todayBtnProps:{borderColor:"blue.400",...p}}},[f,b,m,p]);return i.jsx(he,{...d({dateObj:t,disabled:y,onMouseEnter:o}),isDisabled:y,...h.defaultBtnProps,...e===!0&&!y&&h.isInRangeBtnProps,...c&&!y&&h.selectedBtnProps,...l&&h.todayBtnProps,children:s.getDate()})},nc=({dayzedHookProps:t,configs:n,propsConfigs:e,disabledDates:r,onMouseEnterHighlight:a,isInRange:o})=>{var m;const s=Ki(t),{calendars:c,getBackProps:u,getForwardProps:l}=s,d=x.useMemo(()=>{const p=n.firstDayOfWeek,y=n.dayNames;return p&&p>0?n.dayNames.slice(p,y.length).concat(y.slice(0,p)):y},[n.firstDayOfWeek,n.dayNames]),f=x.useCallback(p=>{const y=document.activeElement;let h=document.querySelectorAll("button");h.forEach((D,P)=>{const w=P+p;D===y&&(w<=h.length-1&&w>=0?h[w].focus():h[0].focus())})},[]),b=new Zi({left:()=>{f(-1)},right:()=>{f(1)},up:()=>{f(-7)},down:()=>{f(7)}});return c.length<=0?null:i.jsx(Mr,{className:"datepicker-calendar",direction:["column","column","row"],...(m=e==null?void 0:e.calendarPanelProps)==null?void 0:m.wrapperProps,...b.getEvents(),children:c.map((p,y)=>{var h,D,P,w;return i.jsxs(oa,{height:"100%",borderWidth:"1px",padding:"0.5rem 0.75rem",...(h=e==null?void 0:e.calendarPanelProps)==null?void 0:h.contentProps,children:[i.jsxs(un,{...(D=e==null?void 0:e.calendarPanelProps)==null?void 0:D.headerProps,children:[i.jsx(Ji,{calendars:c,getBackProps:u,propsConfigs:e}),i.jsxs(Oe,{size:"sm",minWidth:"5rem",textAlign:"center",...e==null?void 0:e.dateHeadingProps,children:[n.monthNames[p.month]," ",p.year]}),i.jsx(ec,{calendars:c,getForwardProps:l,propsConfigs:e})]}),i.jsx(sa,{...(P=e==null?void 0:e.calendarPanelProps)==null?void 0:P.dividerProps}),i.jsxs(xn,{columns:7,spacing:1,textAlign:"center",...(w=e==null?void 0:e.calendarPanelProps)==null?void 0:w.bodyProps,children:[d.map((v,k)=>i.jsx(me,{fontSize:"sm",fontWeight:"semibold",...e==null?void 0:e.weekdayLabelProps,children:v},k)),p.weeks.map((v,k)=>v.map((j,S)=>{const L=`${p.month}-${p.year}-${k}-${S}`;if(j=="")return i.jsx(me,{},L);const{date:N}=j;return i.jsx(tc,{dateObj:j,propsConfigs:e,renderProps:s,isInRange:o&&o(N),disabledDates:r,onMouseEnter:()=>{a&&a(N)}},L)}))]})]},y)})})},rc=()=>i.jsx("svg",{viewBox:"0 0 14 14",width:"14px",height:"14px",focusable:"false",children:i.jsx("path",{fill:"currentColor",d:"M10.8889,5.5 L3.11111,5.5 L3.11111,7.05556 L10.8889,7.05556 L10.8889,5.5 Z M12.4444,1.05556 L11.6667,1.05556 L11.6667,0 L10.1111,0 L10.1111,1.05556 L3.88889,1.05556 L3.88889,0 L2.33333,0 L2.33333,1.05556 L1.55556,1.05556 C0.692222,1.05556 0.00777777,1.75556 0.00777777,2.61111 L0,12.5 C0,13.3556 0.692222,14 1.55556,14 L12.4444,14 C13.3,14 14,13.3556 14,12.5 L14,2.61111 C14,1.75556 13.3,1.05556 12.4444,1.05556 Z M12.4444,12.5 L1.55556,12.5 L1.55556,3.94444 L12.4444,3.94444 L12.4444,12.5 Z M8.55556,8.61111 L3.11111,8.61111 L3.11111,10.1667 L8.55556,10.1667 L8.55556,8.61111 Z"})}),ac={dateFormat:"yyyy-MM-dd",monthNames:ji,dayNames:Ni,firstDayOfWeek:0,monthsToDisplay:1},oc={defaultIsOpen:!1,closeOnSelect:!0,triggerVariant:"default"},sc=t=>{var ie,Be;const n={...oc,...t},{date:e,name:r,disabled:a,onDateChange:o,isReadOnly:s,id:c,minDate:u,maxDate:l,configs:d,usePortal:f,portalRef:b,disabledDates:m,defaultIsOpen:p,triggerVariant:y,propsConfigs:h,closeOnSelect:D,children:P}=n,[w,v]=x.useState(e),[k,j]=x.useState(0),S=x.useRef(),{onOpen:L,onClose:N,isOpen:C}=ln({defaultIsOpen:p}),O=n.triggerVariant==="input"&&n.triggerIcon!==void 0?n.triggerIcon:i.jsx(rc,{}),H={...ac,...d},[U,q]=x.useState(e?de(e,H.dateFormat):""),T=()=>{N(),v(e),j(0)},Y=({selectable:ce,date:Z})=>{if(ce&&Z instanceof Date&&!isNaN(Z.getTime())){o(Z),D&&N();return}},$=ce=>{q(ce.target.value),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{const Z=$n(ce.target.value,H.dateFormat,new Date);if(!(Z instanceof Date&&!isNaN(Z.getTime()))){o("");return}(m==null?void 0:m.has(pt(Z).getTime()))!==!0&&o(Z)},500)},z=f===!0?Cr:Jt.Fragment;return x.useEffect(()=>{e&&q(de(e,H.dateFormat))},[e,H.dateFormat]),i.jsxs(Dn,{id:c,placement:"bottom-start",variant:"responsive",isOpen:C,onOpen:L,onClose:T,isLazy:!0,children:[!P&&y==="default"?i.jsx(mt,{children:i.jsx(he,{type:"button",variant:"outline",lineHeight:1,paddingX:"1rem",disabled:a,fontSize:"sm",...h==null?void 0:h.triggerBtnProps,children:e?de(e,H.dateFormat):""})}):null,!P&&y==="input"?i.jsxs(i.Fragment,{children:[i.jsx(Pn,{children:i.jsx(pa,{id:c,autoComplete:"off",disabled:a,isDisabled:a,name:r,value:U,onChange:$,width:"full",...h==null?void 0:h.inputProps})}),i.jsx(mt,{children:i.jsx(he,{position:"absolute",variant:"ghost",right:"0",size:"sm",marginRight:"5px",zIndex:1,type:"button",isDisabled:a===!0||s,padding:"8px",...h==null?void 0:h.triggerIconBtnProps,children:O})})]}):null,P?P(e):null,i.jsx(z,{...f===!0?{containerRef:b}:{},children:i.jsx(_n,{width:"100%",...(ie=h==null?void 0:h.popoverCompProps)==null?void 0:ie.popoverContentProps,children:i.jsx(On,{...(Be=h==null?void 0:h.popoverCompProps)==null?void 0:Be.popoverBodyProps,children:i.jsx(Er,{children:i.jsx(nc,{dayzedHookProps:{showOutsideDays:!0,monthsToDisplay:H.monthsToDisplay,onDateSelected:Y,selected:e,date:w,minDate:u,maxDate:l,offset:k,onOffsetChanged:j,firstDayOfWeek:H.firstDayOfWeek},configs:H,propsConfigs:h,disabledDates:m})})})})})]})},Zt=t=>{const{fieldProps:n,formControlProps:e,formControlInnerProps:r,control:a}=t,o=Pe("gray.50","gray.800"),{field:{ref:s,onChange:c,value:u},fieldState:{invalid:l},formState:{errors:d}}=Jr({name:n.name,control:a}),{label:f,helperText:b}=r||{};return i.jsxs(ga,{...e,isInvalid:l,children:[f!=null&&i.jsx(ea,{htmlFor:`popover-trigger-${n.id}`,children:f}),i.jsx(ft,{gap:"1rem",alignItems:"center",children:i.jsx(sc,{...n,closeOnSelect:!0,onDateChange:c,date:u,triggerVariant:"input",propsConfigs:{triggerBtnProps:{sx:{fontWeight:"normal"}},popoverCompProps:{popoverContentProps:{backgroundColor:o,rootProps:{sx:{zIndex:9999}}}},dayOfMonthBtnProps:{defaultBtnProps:{_hover:{backgroundColor:"green.200"}},selectedBtnProps:{backgroundColor:"green.400",color:"white"}}},configs:{dateFormat:Rr,dayNames:Sr,monthNames:Fr}})}),b!=null&&i.jsx(ya,{children:b})]})},ic=({prices:t})=>{const e=xt().authState.isCustomer(),{control:r}=Ce(),a=Te({control:r,name:"quantities"}),o=Te({control:r,name:"bonificacion"}),s=cr(a,t,o);return i.jsxs(i.Fragment,{children:[i.jsxs(Oe,{textTransform:"uppercase",size:"xs",children:["Total (Sin IVA)",!e&&o>0&&` - Bonif. ${o}%`]}),i.jsx(lr,{precio:s??0,moneda:"$",textProps:{fontSize:"2xl",color:"green.400",fontWeight:"bolder",sx:{mt:1}}})]})},cc=t=>{const{isDraft:n,cabecera:e,disableForm:r,prices:a}=t,s=xt().authState.isCustomer(),{isOpen:c,onToggle:u}=ln({defaultIsOpen:!0}),{control:l,reset:d,watch:f,formState:{isSubmitted:b,isSubmitting:m}}=Ce(),p=f("fecha_alta");x.useEffect(()=>{const T=()=>{c&&u()};return dt.on("togglePedidoCategory",T),()=>{dt.removeListener("togglePedidoCategory",T)}},[]);const y={label:"name",value:"id",selected:"selected"},h=ye({data:e.transportes,fieldsMap:y}),D=ye({data:e.condiciones,fieldsMap:y}),P=ye({data:e.asientos,fieldsMap:y}),w=ye({data:e.talonarios,fieldsMap:y}),v=ye({data:e.depositos,fieldsMap:y}),k=ye({data:e.direcciones,fieldsMap:{label:["name","calle_numero"],value:"id",selected:"habitual"}}),j=!s||s&&e.fecha_alta_editable,S=!s||s&&e.fecha_entrega_editable,L=!s||s&&e.condicion_editable,N=!s||s&&e.asiento_editable,C=!s||s&&e.transporte_editable,O=!s||s&&e.talonario_editable,H=!s||s&&e.deposito_editable,U=!s||s&&e.direccion_editable,q=!s||s&&e.bonificacion_editable;return i.jsx(i.Fragment,{children:i.jsxs(me,{children:[n&&i.jsx(ht,{cardProps:{variant:"filled"},cardBodyProps:{p:0},children:i.jsxs(Qe,{templateColumns:"1fr",alignItems:"center",gap:4,sx:{p:4},children:[i.jsx(Q,{children:i.jsx(Oe,{size:"sm",textTransform:"uppercase",children:"Descripción del borrador"})}),i.jsx(Q,{children:i.jsx(Lt,{fieldProps:{name:"descripcion",id:"descripcion",maxLength:bt},formControlProps:{isDisabled:r},control:l})})]})}),i.jsxs(ht,{cardProps:{variant:"filled"},cardBodyProps:{p:0},children:[i.jsxs(Qe,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,onClick:u,cursor:"pointer",sx:{p:4},children:[i.jsxs(Q,{children:[i.jsx(Oe,{size:"xs",children:"Cliente:"}),i.jsx(Oe,{size:"md",textTransform:"uppercase",sx:{mt:1},children:e.nombre_cliente})]}),i.jsx(Q,{textAlign:{md:"end"},children:i.jsx(ic,{prices:a})})]}),i.jsx(Pt,{in:c,style:{overflow:"inherit"},children:i.jsxs(Qe,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,sx:{p:4,pt:0},children:[!n&&j&&i.jsx(Q,{children:i.jsx(Zt,{fieldProps:{name:"fecha_alta",id:"fecha_alta",minDate:new Date(new Date().setHours(0,0,0,0)),isReadOnly:!e.fecha_alta_editable},formControlProps:{isDisabled:r,isReadOnly:!e.fecha_alta_editable},formControlInnerProps:{label:"Alta"},control:l})}),!n&&S&&i.jsx(Q,{children:i.jsx(Zt,{fieldProps:{name:"fecha_entrega",id:"fecha_entrega",minDate:new Date(p.setHours(0,0,0,0)),isReadOnly:!e.fecha_entrega_editable},formControlProps:{isDisabled:r,isReadOnly:!e.fecha_entrega_editable},formControlInnerProps:{label:"Entrega"},control:l})}),L&&i.jsx(Q,{children:i.jsx(be,{fieldProps:{name:"id_condicion",id:"id_condicion",placeholder:"Seleccione una condición",options:D,noOptionsMessage(T){return"No hay condiciones disponibles"},selectedOptionStyle:"check",isSearchable:e.condicion_editable},formControlProps:{isDisabled:r},formControlInnerProps:{label:"Condición de venta"},control:l})}),N&&i.jsx(Q,{children:i.jsx(be,{fieldProps:{name:"id_asiento",id:"id_asiento",placeholder:"Seleccione un tipo de asiento",options:P,noOptionsMessage(T){return"No hay tipos disponibles"},selectedOptionStyle:"check",isSearchable:e.asiento_editable},formControlProps:{isDisabled:r},formControlInnerProps:{label:"Tipo de asiento"},control:l})}),C&&i.jsx(Q,{children:i.jsx(be,{fieldProps:{name:"id_transporte",id:"id_transporte",placeholder:"Seleccione un transporte",options:h,noOptionsMessage(T){return"No hay transportes disponibles"},selectedOptionStyle:"check",isSearchable:e.transporte_editable},formControlProps:{isDisabled:r},formControlInnerProps:{label:"Transporte"},control:l})}),O&&i.jsx(Q,{children:i.jsx(be,{fieldProps:{name:"id_talonario",id:"id_talonario",placeholder:"Seleccione un talonario",options:w,noOptionsMessage(T){return"No hay talonarios disponibles"},selectedOptionStyle:"check",isSearchable:e.talonario_editable},formControlProps:{isDisabled:r},formControlInnerProps:{label:"Talonario"},control:l})}),H&&i.jsx(Q,{children:i.jsx(be,{fieldProps:{name:"id_deposito",id:"id_deposito",placeholder:"Seleccione un depósito",options:v,noOptionsMessage(T){return"No hay depósitos disponibles"},selectedOptionStyle:"check",isSearchable:e.deposito_editable},formControlProps:{isDisabled:r},formControlInnerProps:{label:"Depósito"},control:l})}),U&&i.jsx(Q,{children:i.jsx(be,{fieldProps:{name:"id_direccion",id:"id_direccion",placeholder:"Seleccione una dirección",options:k,noOptionsMessage(T){return"No hay direcciones disponibles"},selectedOptionStyle:"check",isSearchable:e.direccion_editable},formControlProps:{isDisabled:r},formControlInnerProps:{label:"Dirección"},control:l})}),q&&i.jsx(Q,{children:i.jsx(Lt,{fieldProps:{name:"bonificacion",id:"bonificacion",type:"number",inputMode:"decimal",min:0,max:100,htmlSize:5,maxLength:5,width:"auto",textAlign:"right",onKeyDown:T=>{/^(,|-|\+)$/.test(T.key)&&T.preventDefault()},onFocus:T=>{T.target.select()},onChange:T=>{if(T.target.value==="")return;const Y=parseFloat(T.target.value);Y||(T.target.value="0"),Y<0&&(T.target.value="0"),Y>100&&(T.target.value="100")},isReadOnly:!e.bonificacion_editable},formControlProps:{isDisabled:r},formControlInnerProps:{label:"Bonificación (%)"},control:l})}),i.jsx(Q,{colSpan:{md:2},children:i.jsx(ba,{fieldProps:{name:"comentarios",id:"comentarios",maxLength:Vn,rows:3},formControlProps:{isDisabled:r},formControlInnerProps:{label:"Comentario"},control:l})})]})})]})]})})},lc=t=>{const{product:n,bonificacionGlobal:e}=t,{id:r,codigo:a,nombre:o,precio:s,bonificacion:c}=n,u=Pe("var(--chakra-colors-yellow-100)","var(--chakra-colors-green-900)"),l=Pe("var(--chakra-colors-blackAlpha-800)","var(--chakra-colors-whiteAlpha-300)"),d=Pe("var(--chakra-colors-white)","var(--chakra-colors-gray-800)"),{control:f,register:b,formState:{isSubmitted:m,isSubmitting:p}}=Ce(),y=tn(s,c??e),D=Te({control:f,name:`quantities.${r}`})*y,P=v=>{v.preventDefault()},w={type:"number",min:0,inputMode:"tel",size:5,onKeyDown:v=>{/^(\.|,|-|\+)$/.test(v.key)&&v.preventDefault()},onChange:v=>parseInt(v.target.value),onFocus:v=>{v.target.addEventListener("mousewheel",P),v.target.select()},onBlur:v=>{v.target.addEventListener("mousewheel",P)},onClick:v=>{v.currentTarget.select()},className:"quantity",style:{borderColor:l,backgroundColor:d},disabled:!1,autoComplete:"off"};return i.jsxs("div",{className:"grid",style:{...D&&{backgroundColor:u}},children:[i.jsxs("div",{className:"word-break-all",children:[a," - ",o]}),i.jsx("div",{className:"text-right hidden-on-base",children:s!=null&&(c==null?i.jsx(ze,{precio:s,moneda:"$"}):i.jsx(ur,{}))}),i.jsx("div",{className:"text-right",children:s!=null&&i.jsx(ze,{precio:y,moneda:"$"})}),i.jsx("div",{className:"text-center",children:i.jsx("input",{...w,...b(`quantities.${r}`)})}),i.jsx("div",{className:"text-right",children:D!=null&&i.jsx(ze,{precio:D,moneda:"$"})})]})};function uc({articulos:t}){const{control:n}=Ce(),e=Te({control:n,name:"bonificacion"}),r=Pe("var(--chakra-colors-gray-200)","var(--chakra-colors-black)");return i.jsxs(mn,{sx:{p:4,pt:0},children:[i.jsxs("div",{className:"grid heading",style:{backgroundColor:`${r}`},children:[i.jsx("div",{className:"hidden-on-base",children:i.jsx("strong",{children:"Artículo"})}),i.jsx("div",{className:"text-right hidden-on-base",children:i.jsx("strong",{children:"Lista"})}),i.jsx("div",{className:"text-right",children:i.jsx("strong",{children:"Bonificado"})}),i.jsx("div",{className:"text-center",children:i.jsx("strong",{children:"Cantidad"})}),i.jsx("div",{className:"text-right",children:i.jsx("strong",{children:"Subtotal"})})]}),i.jsx("div",{children:t.map((a,o)=>i.jsx(lc,{product:a,bonificacionGlobal:e},`product-row-${a.id}`))})]})}const dc=t=>{const{control:n}=Ce(),{categoryName:e,articulos:r}=t,a=Te({control:n,name:"bonificacion"});let o;return r==null||r.forEach(({id:s,precio:c,bonificacion:u})=>{const l=Te({control:n,name:`quantities.${s}`});if(l>0){const d=tn(c,u??a);o=(o??0)+l*d}}),i.jsxs(dn,{sx:{p:4,_hover:{bg:"none"}},children:[i.jsx(fn,{sx:{me:2}}),i.jsx(me,{as:"span",flex:"1",textAlign:"left",children:i.jsx(Oe,{size:["sm","md"],sx:{textTransform:"uppercase"},children:e})}),o!=null&&i.jsx(me,{children:i.jsx(Da,{variant:"subtle",colorScheme:"yellow",fontSize:"0.9em",children:i.jsx(ze,{precio:o,moneda:"$"})})})]})},fc=t=>{const{disableForm:n,unfilteredProducts:e,filteredProducts:r,isFiltering:a}=t,[o,s]=x.useState(null),c=De.keys(r).length,u=De.keys(De.pickBy(r,l=>Array.isArray(l)&&l.length>0));return x.useEffect(()=>{s(a?De.range(c):null)},[a]),x.useEffect(()=>{o!=null&&dt.emit("togglePedidoCategory")},[o]),u.length?i.jsx(pn,{allowToggle:!0,reduceMotion:!0,...c===1?{defaultIndex:[0]}:{},...o!=null&&{index:o},onChange:s,children:De.map(r,(l,d)=>{const f=d===wa?dr:d;return l.length?i.jsx(hn,{sx:{border:"none"},children:({isExpanded:b})=>i.jsxs(ht,{cardProps:{borderWidth:"1px"},cardBodyProps:{p:0},children:[i.jsx(dc,{categoryName:f,articulos:e[d]}),b&&i.jsx(uc,{articulos:l})]})},`accordion-${d}`):i.jsx(Jt.Fragment,{},`accordion-${d}`)})}):i.jsxs(va,{status:"info",children:[i.jsx(xa,{}),jr]})},Gn=t=>{const{draft:n,pedidoState:e}=t,r=t.isEditing===!0,[a,o]=x.useState(n),s=xt(),c=Gr(),{yupValidationSchema:u}=Ei(a),l=[],d={};De.forOwn(e.articulos,C=>{C.forEach(O=>{d[O.id]={amount:O.precio,discount:O.bonificacion},l[O.id]=O.cantidad??0})});const f=ta({defaultValues:{fecha_alta:e.cabecera.fecha_alta!=null?new Date(e.cabecera.fecha_alta):void 0,fecha_entrega:e.cabecera.fecha_entrega!=null?new Date(e.cabecera.fecha_entrega):void 0,bonificacion:e.cabecera.bonificacion,id_transporte:ge(e.cabecera.transportes)??void 0,id_condicion:ge(e.cabecera.condiciones)??void 0,id_deposito:ge(e.cabecera.depositos)??void 0,id_talonario:ge(e.cabecera.talonarios)??void 0,id_asiento:ge(e.cabecera.asientos)??void 0,id_direccion:ge(e.cabecera.direcciones,"habitual")??void 0,quantities:l,descripcion:e.cabecera.descripcion,comentarios:e.cabecera.comentarios},resolver:na(u)}),{handleSubmit:b,setError:m,formState:{errors:p,isSubmitting:y,isSubmitSuccessful:h}}=f,D=h||y,P=C=>{const O=[];return C.forEach((H,U)=>{H!=null&&H>0&&O.push({id:U,quantity:H})}),O},w=async C=>{const O=P(C.quantities),{quantities:H,descripcion:U,...q}=C,T={...q,fecha_alta:de(q.fecha_alta,Ve),fecha_entrega:de(q.fecha_entrega,Ve),id_cliente:e.cabecera.id_cliente,renglones:O};(await fr(T,s)).map({success:$=>{c({title:Wr,description:Lr.replace("{{numero_pedido}}",$.data.numero_pedido),status:"success"}),s.navigate(Re)},error:$=>{c({title:$e,status:"error"}),m("root",{message:$.info.error_description})}})},v=async C=>{if(e.cabecera.id_pedido==null)throw Error("Invalid pedidoState.cabecera.id_pedido");const O=P(C.quantities),{quantities:H,descripcion:U,...q}=C,T={...q,fecha_alta:de(q.fecha_alta,Ve),fecha_entrega:de(q.fecha_entrega,Ve),id_pedido:e.cabecera.id_pedido,renglones:O};(await hr(T.id_pedido,T,s)).map({success:$=>{c({title:Hr,description:Br.replace("{{numero_pedido}}",$.data.numero_pedido),status:"success"}),s.navigate(Re)},error:$=>{c({title:$e,status:"error"}),m("root",{message:$.info.error_description})}})},k=async C=>{const O=P(C.quantities),{quantities:H,fecha_alta:U,fecha_entrega:q,...T}=C,Y={...T,id_cliente:e.cabecera.id_cliente,renglones:O};(await mr(Y,s)).map({success:z=>{c({title:Yr,description:qr.replace("{{numero_pedido}}",z.data.numero_pedido),status:"success"}),s.navigate(Ge)},error:z=>{c({title:$e,status:"error"}),m("root",{message:z.info.error_description})}})},j=async C=>{if(e.cabecera.id_pedido==null)throw Error("Invalid pedidoState.cabecera.id_pedido");const O=P(C.quantities),{quantities:H,fecha_alta:U,fecha_entrega:q,...T}=C,Y={...T,id_pedido:e.cabecera.id_pedido,renglones:O};(await pr(Y.id_pedido,Y,s)).map({success:z=>{c({title:$r,description:Vr.replace("{{numero_pedido}}",z.data.numero_pedido),status:"success"}),s.navigate(Ge)},error:z=>{c({title:$e,status:"error"}),m("root",{message:z.info.error_description})}})},{filteredData:S,handleSearchInputChange:L,isFiltering:N}=Ur(e.articulos,["codigo","nombre"]);return i.jsx(i.Fragment,{children:i.jsx(ra,{...f,children:i.jsxs("form",{noValidate:!0,children:[i.jsx(Ci,{isDraft:a,isEditing:r??!1,isDisabled:D,setIsDraft:o,handleSearchInputChange:L,handlePedidoAction:r?v:w,handleDraftAction:r?j:k}),i.jsxs(me,{sx:{my:4},children:[i.jsx(aa,{errors:p}),i.jsx(cc,{isDraft:a,cabecera:e.cabecera,disableForm:D,prices:d}),i.jsx(fc,{disableForm:D,unfilteredProducts:e.articulos,filteredProducts:S,isFiltering:N})]})]})})})},Qc=t=>{const{client:n,draft:e}=t;wt();const r=n!=null?Number.parseInt(n):null;return i.jsx(hc,{client:r,draft:e})},hc=t=>{const{client:n,draft:e}=t,{state:r,retry:a}=e?oo(n):io(n);return r.map({loading:o=>i.jsx(Cn,{}),error:({error:o})=>i.jsx(cn,{error:o,retry:a,cancelAndNavigateTo:e?Ge:Re}),success:o=>i.jsx(Gn,{pedidoState:o.data,draft:e})})},Gc=t=>{const{id_pedido:n,draft:e}=t,r=wt(),a=n!=null?Number.parseInt(n):null;return Nr(a)&&a>0?i.jsx(mc,{id_pedido:a,draft:e}):i.jsx(Qr,{error:Ar(Ir.INVALID_PARAMETER),buttonProps:{label:zr,colorScheme:"green",onClick:()=>{r(Re)}}})},mc=t=>{const{id_pedido:n,draft:e}=t,{state:r,retry:a}=e?so(n):co(n);return r.map({loading:o=>i.jsx(Cn,{}),error:({error:o})=>i.jsx(cn,{error:o,retry:a,cancelAndNavigateTo:e?Ge:Re}),success:o=>i.jsx(Gn,{pedidoState:o.data,draft:e,isEditing:!0})})};export{Gc as O,Qc as a};
