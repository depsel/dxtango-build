import{r as p,j as e,g as Be}from"./emotion-element-43c6fea0.browser.esm-CqNy1Myq.js";import{J as ze,aS as He,K as Ke,at as ye,p as We,f as ke,c as se,d as Xe,L as y,N as U,M as pe,m as Ye,o as Je,aj as Qe,bb as Ze,O as te,I as Ee,k as ea,bc as aa,bd as oa,j as ia,$ as ra,U as sa,_ as na}from"./auth_context-D_Ll0_5_.js";import{A as ta}from"./ApiErrors-DYa22bq7.js";import{F as d}from"./FormSkeletons-aHE8cQ3L.js";import{G as Pe,a as s}from"./chunk-ZPFGWTBB-QYQNJcG8.js";import{H as D}from"./chunk-3ASUQ6PA-D--F2Rh3.js";import{B as Ae,S as Se}from"./chunk-PULVB27S-DN5G48t9.js";import{D as q,a as me,F as fe,b as _e}from"./useDXTApiFetch-CRKnsto2.js";import{u as Re,d as la,o as da,f as Z,a as ee,e as F,c as ae}from"./index.esm-DyDUH5B4.js";import{i as ca}from"./AccountCancelIcon-rrxYNRXS.js";import{u as ua}from"./app_resources-CMr1JJak.js";import{u as he,C as xe}from"./ControlledSelect-DS21tZPo.js";import{F as pa,G as ma}from"./app-BNjwh-R8.js";import{C as be}from"./CommonCard-CX-Bpv2R.js";import{C as ie}from"./ControlledInput-DM_7QRyE.js";import{u as fa,F as ve,a as _a}from"./chunk-56K2BSAJ-DBk3Visf.js";import{t as ha}from"./chunk-7D6N5TE5-Bhc1xrdf.js";import{S as xa}from"./chunk-VTV6N5LE-DE4_BECV.js";import{F as Te}from"./chunk-H46NUPBZ-DDVxQdKp.js";import{F as ba}from"./FormErrors-BLIp7NlZ.js";import{P as ja,d as ga,V as Ca}from"./vo_dxt_password-ZJi4jU-H.js";import{I as je}from"./InlineError-BnU4dFYy.js";import{S as Pa}from"./SettingsFormButtons-o2bbU7aj.js";import{u as Sa}from"./chunk-6RSEZNRH-Buq0qYbG.js";import{H as re}from"./chunk-7OLJDQMT-BT6Zjs5s.js";import{y as Ne}from"./utils-DihYaFf6.js";import{V as va}from"./vo_user_name-BVvoRkhQ.js";class De extends ze{validate(a){let i=a;typeof i!="string"&&this.throwError(a);try{if(He.isUUID(i,4))return i}catch{}this.throwError(a)}static random(){return new De(Da())}}function Da(){let o=new Date().getTime(),a=0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){let r=Math.random()*16;return o>0?(r=(o+r)%16|0,o=Math.floor(o/16)):(r=(a+r)%16|0,a=Math.floor(a/16)),(i==="x"?r:r&3|8).toString(16)})}function Ia(o){return o&&ye(o)&&ye(o.target)}function ya(o={}){const{onChange:a,value:i,defaultValue:r,name:t,isDisabled:l,isFocusable:m,isNative:h,...b}=o,[j,C]=p.useState(r||""),_=typeof i<"u",f=_?i:j,P=p.useRef(null),S=p.useCallback(()=>{const c=P.current;if(!c)return;let n="input:not(:disabled):checked";const I=c.querySelector(n);if(I){I.focus();return}n="input:not(:disabled)";const v=c.querySelector(n);v?.focus()},[]),g=`radio-${p.useId()}`,M=t||g,w=p.useCallback(c=>{const n=Ia(c)?c.target.value:c;_||C(n),a?.(String(n))},[a,_]),V=p.useCallback((c={},n=null)=>({...c,ref:Ke(n,P),role:"radiogroup"}),[]),R=p.useCallback((c={},n=null)=>({...c,ref:n,name:M,[h?"checked":"isChecked"]:f!=null?c.value===f:void 0,onChange(v){w(v)},"data-radiogroup":!0}),[h,M,w,f]);return{getRootProps:V,getRadioProps:R,name:M,ref:P,focus:S,setValue:C,value:f,onChange:w,isDisabled:l,isFocusable:m,htmlProps:b}}var[Ea,Ue]=We({name:"RadioGroupContext",strict:!1}),Fe=ke((o,a)=>{const{colorScheme:i,size:r,variant:t,children:l,className:m,isDisabled:h,isFocusable:b,...j}=o,{value:C,onChange:_,getRootProps:f,name:P,htmlProps:S}=ya(j),E=p.useMemo(()=>({name:P,size:r,onChange:_,colorScheme:i,value:C,variant:t,isDisabled:h,isFocusable:b}),[P,r,_,i,C,t,h,b]);return e.jsx(Ea,{value:E,children:e.jsx(se.div,{...f(S,a),className:Xe("chakra-radio-group",m),children:l})})});Fe.displayName="RadioGroup";var wa={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function ka(o={}){const{defaultChecked:a,isChecked:i,isFocusable:r,isDisabled:t,isReadOnly:l,isRequired:m,onChange:h,isInvalid:b,name:j,value:C,id:_,"data-radiogroup":f,"aria-describedby":P,...S}=o,E=`radio-${p.useId()}`,g=fa(),w=!!Ue()||!!f;let R=!!g&&!w?g.id:E;R=_??R;const c=t??g?.isDisabled,n=l??g?.isReadOnly,I=m??g?.isRequired,v=b??g?.isInvalid,[L,W]=p.useState(!1),[G,K]=p.useState(!1),[T,$]=p.useState(!1),[B,k]=p.useState(!1),[x,ce]=p.useState(!!a),X=typeof i<"u",A=X?i:x;p.useEffect(()=>ha(W),[]);const N=p.useCallback(u=>{if(n||c){u.preventDefault();return}X||ce(u.target.checked),h?.(u)},[X,c,n,h]),Y=p.useCallback(u=>{u.key===" "&&k(!0)},[k]),z=p.useCallback(u=>{u.key===" "&&k(!1)},[k]),oe=p.useCallback((u={},H=null)=>({...u,ref:H,"data-active":y(B),"data-hover":y(T),"data-disabled":y(c),"data-invalid":y(v),"data-checked":y(A),"data-focus":y(G),"data-focus-visible":y(G&&L),"data-readonly":y(n),"aria-hidden":!0,onMouseDown:U(u.onMouseDown,()=>k(!0)),onMouseUp:U(u.onMouseUp,()=>k(!1)),onMouseEnter:U(u.onMouseEnter,()=>$(!0)),onMouseLeave:U(u.onMouseLeave,()=>$(!1))}),[B,T,c,v,A,G,n,L]),{onFocus:J,onBlur:ue}=g??{},Q=p.useCallback((u={},H=null)=>{const Ie=c&&!r;return{...u,id:R,ref:H,type:"radio",name:j,value:C,onChange:U(u.onChange,N),onBlur:U(ue,u.onBlur,()=>K(!1)),onFocus:U(J,u.onFocus,()=>K(!0)),onKeyDown:U(u.onKeyDown,Y),onKeyUp:U(u.onKeyUp,z),checked:A,disabled:Ie,readOnly:n,required:I,"aria-invalid":pe(v),"aria-disabled":pe(Ie),"aria-required":pe(I),"data-readonly":y(n),"aria-describedby":P,style:wa}},[c,r,R,j,C,N,ue,J,Y,z,A,n,I,v,P]);return{state:{isInvalid:v,isFocused:G,isChecked:A,isActive:B,isHovered:T,isDisabled:c,isReadOnly:n,isRequired:I},getCheckboxProps:oe,getRadioProps:oe,getInputProps:Q,getLabelProps:(u={},H=null)=>({...u,ref:H,onMouseDown:U(u.onMouseDown,Aa),"data-disabled":y(c),"data-checked":y(A),"data-invalid":y(v)}),getRootProps:(u,H=null)=>({...u,ref:H,"data-disabled":y(c),"data-checked":y(A),"data-invalid":y(v)}),htmlProps:S}}function Aa(o){o.preventDefault(),o.stopPropagation()}function Ra(o,a){const i={},r={};for(const[t,l]of Object.entries(o))a.includes(t)?i[t]=l:r[t]=l;return[i,r]}var Le=ke((o,a)=>{var i;const r=Ue(),{onChange:t,value:l}=o,m=Ye("Radio",{...r,...o}),h=Je(o),{spacing:b="0.5rem",children:j,isDisabled:C=r?.isDisabled,isFocusable:_=r?.isFocusable,inputProps:f,...P}=h;let S=o.isChecked;r?.value!=null&&l!=null&&(S=r.value===l);let E=t;r?.onChange&&l!=null&&(E=Qe(r.onChange,t));const g=(i=o?.name)!=null?i:r?.name,{getInputProps:M,getCheckboxProps:w,getLabelProps:V,getRootProps:R,htmlProps:c}=ka({...P,isChecked:S,isFocusable:_,isDisabled:C,onChange:E,name:g}),[n,I]=Ra(c,Ze),v=w(I),L=M(f,a),W=V(),G=Object.assign({},n,R()),K={display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative",...m.container},T={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,...m.control},$={userSelect:"none",marginStart:b,...m.label};return e.jsxs(se.label,{className:"chakra-radio",...G,__css:K,children:[e.jsx("input",{className:"chakra-radio__input",...L}),e.jsx(se.span,{className:"chakra-radio__control",...v,__css:T}),j&&e.jsx(se.span,{className:"chakra-radio__label",...W,__css:$,children:j})]})});Le.displayName="Radio";const Ta=()=>e.jsx(Ae,{width:"full",sx:{mt:8,mb:4},children:e.jsxs(Pe,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[e.jsx(s,{colSpan:{md:2},children:e.jsx(d,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(d,{})}),e.jsx(s,{children:e.jsx(d,{})}),e.jsx(s,{children:e.jsx(d,{})}),e.jsx(s,{children:e.jsx(d,{})}),e.jsx(s,{children:e.jsx(d,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(q,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(d,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(d,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(q,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(d,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(d,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(q,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(d,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsxs(Se,{spacing:4,direction:{base:"column"},children:[e.jsx(D,{spacing:4,children:e.jsx(d,{})}),e.jsx(D,{spacing:4,children:e.jsx(d,{})}),e.jsx(D,{spacing:4,children:e.jsx(d,{})}),e.jsx(D,{spacing:4,children:e.jsx(d,{})}),e.jsx(D,{spacing:4,children:e.jsx(d,{})}),e.jsx(D,{spacing:4,children:e.jsx(d,{})}),e.jsx(D,{spacing:4,children:e.jsx(d,{})}),e.jsx(D,{spacing:4,children:e.jsx(d,{})})]})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(q,{})}),e.jsx(s,{children:e.jsx(d,{})}),e.jsx(s,{}),e.jsx(s,{children:e.jsx(d,{})}),e.jsx(s,{children:e.jsx(d,{})}),e.jsx(s,{children:e.jsx(d,{})}),e.jsx(s,{children:e.jsx(d,{})}),e.jsx(s,{children:e.jsx(d,{})}),e.jsx(s,{children:e.jsx(d,{})}),e.jsx(s,{children:e.jsx(d,{})}),e.jsx(s,{children:e.jsx(d,{})}),e.jsx(s,{children:e.jsx(d,{})})]})});function Na(o){return o&&typeof o=="object"&&"default"in o?o.default:o}var ne=Na(p),Ua=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(o[r]=i[r])}return o},Fa=function(o,a){var i={};for(var r in o)a.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r]);return i},we=function(a){var i=a.color,r=i===void 0?"currentColor":i,t=a.size,l=t===void 0?24:t;a.children;var m=Fa(a,["color","size","children"]),h="mdi-icon "+(m.className||"");return ne.createElement("svg",Ua({},m,{className:h,width:l,height:l,fill:r,viewBox:"0 0 24 24"}),ne.createElement("path",{d:"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z"}))},La=ne.memo?ne.memo(we):we,Oa=La;const Ma=Be(Oa),Va=te("/tango/lista","GET"),Ga=te("/tango/perfil","GET"),qa=te("/tango/cliente","GET"),$a=te("/tango/vendedor","GET"),Ba=o=>{const{fieldProps:a,formControlProps:i,formControlInnerProps:r,stackProps:t,radioProps:l,control:m}=o,{name:h}=a,{helperText:b}=r||{},{field:{ref:j,onChange:C,value:_},fieldState:{invalid:f},formState:{errors:P}}=Re({name:a.name,control:m});return e.jsxs(ve,{...i,isInvalid:f,children:[e.jsx(Fe,{...a,onChange:C,value:_.toString(),ref:j,children:e.jsx(Se,{direction:"row",spacing:4,...t,children:a.options.map((S,E)=>e.jsx(Le,{value:S.value.toString(),...l,children:S.label},`${h}-option-${E}`))})}),b!=null&&e.jsx(_a,{children:b})]})},O=o=>{const{fieldProps:a,formControlProps:i,formControlInnerProps:r,control:t,watch:l}=o,{label:m}=r||{},{field:{ref:h,onChange:b,onBlur:j,value:C},fieldState:{invalid:_},formState:{errors:f}}=Re({name:a.name,control:t});return e.jsxs(ve,{display:"flex",alignItems:"center",...i,isInvalid:_,children:[e.jsx(xa,{...a,...l,isChecked:C,onChange:P=>b(P.target.checked),onBlur:j,ref:h}),m!=null&&e.jsx(Te,{htmlFor:a.id,sx:{mb:0,ms:4},color:a.isDisabled===!0?"gray.500":void 0,cursor:"pointer",children:m})]})};function za(o){const[a,i]=p.useState(null);return{yupValidationSchema:o(a,i),passwordStatus:a}}const ge=0,Ce=365,Ha=30,Oe=o=>{const{stateData:a,typeSettings:i,returnUrl:r,title:t,schemaMaker:l,schemaDataToApiInput:m,saveUserCall:h}=o;p.useRef(De.random().valueOf());const b=ua(),j=Sa(),{yupValidationSchema:C,passwordStatus:_}=za(l),{state:f,result:P}=he({endpoint:Ga,fieldsMap:{label:"name",value:"id"}}),{state:S,result:E}=he({endpoint:i.userType==="cliente"?qa:$a,fieldsMap:{label:"screen_name",value:"id",isEnabled:"habilitado"},disabledIcon:e.jsx(Ee,{as:ca,color:"red.400",ml:2,boxSize:5})}),{state:g,result:M}=he({endpoint:Va,fieldsMap:{label:"nombre",value:"id",isEnabled:"habilitada"},disabledIcon:e.jsx(Ee,{as:Ma,color:"red.400",ml:2,boxSize:5})}),w=a!==null;let V;w?V={username:a.username,email:a.email??"",tango_id:a.tango_id,id_lista_adicional:a.id_lista_adicional===null?0:a.id_lista_adicional,bonificacion_lista_adicional:a.bonificacion_lista_adicional===null?0:a.bonificacion_lista_adicional,bonificacion_lista_adicional_switch:a.bonificacion_lista_adicional!=null,perfil_facturacion_id:a.perfil_facturacion_id,habilitado_en_dxt:a.habilitado_en_dxt,puede_crear_pedido:a.puede_crear_pedido,puede_editar_pedido:a.puede_editar_pedido,puede_anular_pedido:a.puede_anular_pedido,borrar_pedido_al_anular:a.borrar_pedido_al_anular,aprobar_pedido_al_crear:a.aprobar_pedido_al_crear,ver_pedidos_cumplidos:a.ver_pedidos_cumplidos,ver_sin_precio:a.ver_sin_precio,mostrar_mensaje_de_advertencia:a.mostrar_mensaje_de_advertencia,dia_de_entrega:a.dia_de_entrega}:V={username:"",password:"",email:"",tango_id:0,perfil_facturacion_id:0,id_lista_adicional:0,bonificacion_lista_adicional:0,bonificacion_lista_adicional_switch:!1,habilitado_en_dxt:!0,puede_crear_pedido:!0,puede_editar_pedido:!0,ver_pedidos_cumplidos:!0,ver_sin_precio:!1,mostrar_mensaje_de_advertencia:!1,puede_anular_pedido:!1,borrar_pedido_al_anular:!1,aprobar_pedido_al_crear:!1,dia_de_entrega:Ha};const R=!1,{handleSubmit:c,control:n,resetField:I,setError:v,watch:L,formState:{errors:W,isSubmitting:G,isSubmitSuccessful:K}}=la({defaultValues:V,resolver:da(C)}),T=L("puede_anular_pedido"),$=L("perfil_facturacion_id"),B=L("bonificacion_lista_adicional_switch"),k=L("id_lista_adicional");p.useEffect(()=>{T===!1&&I("borrar_pedido_al_anular",{defaultValue:!1})},[T]),p.useEffect(()=>{if(B===!1&&f.isSuccess()){const N=f.data.find(Y=>Y.id===$)?.bonificacion??0;I("bonificacion_lista_adicional",{defaultValue:N})}k===0&&(I("bonificacion_lista_adicional",{defaultValue:0}),I("bonificacion_lista_adicional_switch",{defaultValue:!1}))},[f.isSuccess(),k,B,$]);const x=K||G,ce=async N=>{const{bonificacion_lista_adicional_switch:Y,...z}=N,oe={...N,email:z.email===""?void 0:z.email,password:z.password===""?void 0:z.password},J=m(oe);if(J==null){j({title:oa(ia.INVALID_PARAMETER),status:"error"});return}(await h(J,b)).map({success:Q=>{j({title:w?pa:ma,status:"success"}),b.navigate(r)},error:Q=>{j({title:Q.errorInfoOrNull()?.error_description??ra,status:"error"}),v("root",{message:Q.info.error_description})}})},X=x||k===0||B===!1,A=x||k===0;return e.jsx("form",{noValidate:!0,onSubmit:c(ce),children:e.jsxs(Ae,{children:[e.jsx(ba,{errors:W}),e.jsx(be,{children:e.jsxs(Pe,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[e.jsx(s,{colSpan:{md:2},children:e.jsx(re,{size:"sm",textTransform:"uppercase",children:t})}),e.jsxs(s,{colSpan:{md:2},children:[e.jsx(xe,{fieldProps:{name:"tango_id",placeholder:i.tangoRelatedFields?.placeholder,options:E,noOptionsMessage(N){return i.tangoRelatedFields?.empty},isSearchable:!0,selectedOptionStyle:"check",isLoading:S instanceof me,virtualized:!0},formControlProps:{isDisabled:x||!(S instanceof fe)},formControlInnerProps:{label:i.tangoRelatedFields?.label},control:n}),S instanceof _e&&e.jsx(je,{error:S.errorOrNull().error})]}),e.jsx(s,{children:e.jsx(ie,{fieldProps:{name:"username",id:"username",type:"text"},formControlProps:{isDisabled:x},formControlInnerProps:{label:"Nombre de Usuario"},control:n})}),e.jsx(s,{children:e.jsx(ja,{fieldProps:{name:"password",id:"password"},formControlInnerProps:{label:"Contraseña"},passwordStatus:_,disableForm:x,control:n})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(ie,{fieldProps:{name:"email",id:"email",type:"text",inputMode:"email"},formControlProps:{isDisabled:x},formControlInnerProps:{label:"Correo electrónico"},control:n})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(q,{})}),e.jsxs(s,{colSpan:{md:2},children:[e.jsx(xe,{fieldProps:{name:"perfil_facturacion_id",placeholder:"Seleccione un perfil",options:P,noOptionsMessage(N){return"No hay perfiles disponibles"},isLoading:f instanceof me,selectedOptionStyle:"check"},formControlProps:{isDisabled:x||!(f instanceof fe)},control:n,formControlInnerProps:{label:"Perfil de facturación"}}),f instanceof _e&&e.jsx(je,{error:f.errorOrNull().error})]}),e.jsxs(s,{children:[e.jsx(xe,{fieldProps:{name:"id_lista_adicional",options:[{label:"NINGUNA",value:0},...M],noOptionsMessage(N){return"No hay listas adicionals"},isLoading:g instanceof me,selectedOptionStyle:"check"},formControlProps:{isDisabled:x||!(g instanceof fe)},formControlInnerProps:{label:"Lista de precios adicional"},control:n}),f instanceof _e&&e.jsx(je,{error:f.errorOrNull().error})]}),!A&&e.jsxs(s,{children:[e.jsx(ve,{isDisabled:A,children:e.jsx(Te,{children:"Bonificación lista adicional (%)"})}),e.jsxs(D,{children:[e.jsx(ie,{formControlProps:{width:"auto",isDisabled:X},fieldProps:{name:"bonificacion_lista_adicional",id:"bonificacion_lista_adicional",type:"text",inputMode:"tel",textAlign:"end",htmlSize:5,maxLength:5,minWidth:120},control:n}),e.jsx(O,{fieldProps:{name:"bonificacion_lista_adicional_switch",id:"bonificacion_lista_adicional_switch"},formControlProps:{width:"auto",isDisabled:A},control:n})]})]}),R,e.jsx(s,{colSpan:{md:2},children:e.jsx(q,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(re,{size:"sm",textTransform:"uppercase",children:"Estado"})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(Ba,{fieldProps:{name:"habilitado_en_dxt",options:[{value:!0,label:"Establecido en Tango"},{value:!1,label:"Deshabilitado"}]},formControlProps:{isDisabled:x},radioProps:{size:{base:"sm",sm:"md"}},control:n})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(q,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(re,{size:"sm",textTransform:"uppercase",children:"Comunicación"})}),e.jsx(s,{children:e.jsx(O,{fieldProps:{name:"mostrar_mensaje_de_advertencia",id:"mostrar_mensaje_de_advertencia"},formControlProps:{width:"auto",isDisabled:x},formControlInnerProps:{label:"Mostrar mensaje de advertencia"},control:n})})]})}),e.jsx(be,{children:e.jsxs(Pe,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[e.jsx(s,{colSpan:{md:2},children:e.jsx(re,{size:"sm",textTransform:"uppercase",children:"Pedidos"})}),e.jsx(s,{colSpan:{md:2},children:e.jsxs(Se,{spacing:4,direction:{base:"column"},children:[e.jsx(D,{spacing:4,children:e.jsx(O,{fieldProps:{name:"puede_crear_pedido",id:"puede_crear_pedido"},formControlProps:{width:"auto",isDisabled:x},formControlInnerProps:{label:"Puede crear pedidos"},control:n})}),e.jsx(D,{spacing:4,children:e.jsx(O,{fieldProps:{name:"puede_editar_pedido",id:"puede_editar_pedido"},formControlProps:{width:"auto",isDisabled:x},formControlInnerProps:{label:"Puede editar pedidos"},control:n})}),e.jsx(D,{spacing:4,children:e.jsx(O,{fieldProps:{name:"puede_anular_pedido",id:"puede_anular_pedido"},formControlProps:{width:"auto",isDisabled:x},formControlInnerProps:{label:"Puede anular pedidos"},control:n})}),e.jsx(D,{spacing:4,children:e.jsx(O,{fieldProps:{name:"borrar_pedido_al_anular",id:"borrar_pedido_al_anular"},formControlProps:{width:"auto",isDisabled:x},formControlInnerProps:{label:"Borrar pedido al anular"},control:n,watch:{isDisabled:T===!1,...T===!1&&{isChecked:!1}}})}),e.jsx(D,{spacing:4,children:e.jsx(O,{fieldProps:{name:"aprobar_pedido_al_crear",id:"aprobar_pedido_al_crear"},formControlProps:{width:"auto",isDisabled:x},formControlInnerProps:{label:"Los pedidos se aprueban al crearlos"},control:n})}),e.jsx(D,{spacing:4,children:e.jsx(O,{fieldProps:{name:"ver_pedidos_cumplidos",id:"ver_pedidos_cumplidos"},formControlProps:{width:"auto",isDisabled:x},formControlInnerProps:{label:"Puede ver los pedidos cumplidos"},control:n})}),e.jsx(D,{spacing:4,children:e.jsx(O,{fieldProps:{name:"ver_sin_precio",id:"ver_sin_precio"},formControlProps:{width:"auto",isDisabled:x},formControlInnerProps:{label:"Puede ver artículos sin precio"},control:n})})]})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(q,{})}),e.jsx(s,{children:e.jsx(ie,{fieldProps:{name:"dia_de_entrega",id:"dia_de_entrega",type:"number",inputMode:"tel"},formControlProps:{isDisabled:x},formControlInnerProps:{label:"Tiempo de entrega (en días)"},control:n})}),e.jsx(s,{})]})}),e.jsx(be,{children:e.jsx(Pa,{buttonActionText:w?ea:aa,isLoading:x,hideCancelButton:!0})})]})})};function Io(o){const{typeSettings:a,id:i,returnUrl:r,title:t,schemaMaker:l,schemaDataToApiInput:m,useGetOneHook:h,saveUserCall:b}=o,{state:j,retry:C}=h(i);return j.map({loading:_=>e.jsx(Ta,{}),error:({error:_})=>e.jsx(ta,{error:_,retry:C,cancelAndNavigateTo:sa}),success:_=>e.jsx(Oe,{stateData:_.data,typeSettings:a,returnUrl:r,title:t,schemaMaker:l,schemaDataToApiInput:m,saveUserCall:b})})}function yo(o){const{typeSettings:a,returnUrl:i,title:r,schemaMaker:t,schemaDataToApiInput:l,saveUserCall:m}=o;return e.jsx(Oe,{stateData:null,typeSettings:a,returnUrl:i,title:r,schemaMaker:t,schemaDataToApiInput:l,saveUserCall:m})}const Ka="admin",Me={tango_id:Z().integer().min(1,"Seleccione un cliente de Tango").required("Seleccione un cliente de Tango").typeError("Seleccione un cliente de Tango"),username:ee().required("Ingrese un nombre de usuario").test("username","Ingrese un nombre de usuario válido",o=>Ne(va,o)?o.toLowerCase()!=Ka:!1),email:ee().email("Ingrese un correo electrónico válido"),perfil_facturacion_id:Z().integer().min(1,"Seleccione un perfil de facturación").required("Seleccione un perfil de facturación").typeError("Seleccione un perfil de facturación"),id_lista_adicional:Z().integer(),bonificacion_lista_adicional:Z().when(["id_lista_adicional"],{is:o=>o>0,then:o=>o.required("Ingrese una bonificación válida").typeError("Ingrese una bonificación válida").min(0,"La bonificación debe encontrarse entre 0 y 100%").max(100,"La bonificación debe encontrarse entre 0 y 100%"),otherwise:o=>o}),bonificacion_lista_adicional_switch:F(),dia_de_entrega:Z().integer(`El tiempo de entrega de pedidos debe ser un un número entero entre ${ge} y ${Ce}`).min(ge,`El tiempo de entrega de pedidos debe ser mayor o igual a ${ge} días`).max(Ce,`El tiempo de entrega de pedidos no puede superar los ${Ce} días`).required("Ingrese el número de días para entrega de pedidos").typeError("Ingrese el número de días para entrega de pedidos"),habilitado_en_dxt:F().required(),puede_crear_pedido:F().required(),puede_editar_pedido:F().required(),ver_pedidos_cumplidos:F().required(),ver_sin_precio:F().required(),mostrar_mensaje_de_advertencia:F().required(),puede_anular_pedido:F().required(),borrar_pedido_al_anular:F().required(),aprobar_pedido_al_crear:F().required()},Wa={...Me,password:ee()};ae(Wa);function le(o,a,i){return{...Me,password:o.test("password","Formato de contraseña no válido",r=>{if(r!=""&&r!=null){let t=ga(r);return na.isEqual(a,t)||i(t),Ne(Ca,r)}return!0})}}const Ve={},Ge={},qe=ee(),$e=ee().required("Ingrese una contraseña");function Eo(o,a){const i=le($e,o,a);return ae({...i,...Ge}).required()}function wo(o,a){const i=le(qe,o,a);return ae({...i,...Ve,...Ge}).required()}function ko(o,a){const i=le($e,o,a);return ae(i).required()}function Ao(o,a){const i=le(qe,o,a);return ae({...i,...Ve}).required()}function de(o){const{id_lista_adicional:a,bonificacion_lista_adicional_switch:i,bonificacion_lista_adicional:r,...t}=o,l=a!=null&&a>0;return{...t,id_lista_adicional:l?a:void 0,bonificacion_lista_adicional:l&&i===!0?r:void 0}}function Ro(o){const{password:a,...i}=de(o);return a==null?null:{...i,password:a}}function To(o){const{...a}=de(o);return{...a}}function No(o){const{password:a,...i}=de(o);return a==null?null:{...i,password:a}}function Uo(o){const{...a}=de(o);return{...a}}export{Io as D,yo as a,Eo as b,No as c,ko as d,Ro as e,Ao as f,To as g,wo as m,Uo as t};
