import{g as j,r as d,j as o,u as Z,a as K}from"./emotion-element-5486c51c.browser.esm-CMT9BBIk.js";import{I as g,B as X,b3 as Y,b4 as q,b5 as J,b6 as Q,a1 as tt,aI as et,U as $}from"./auth_context-1lRrAoj9.js";import{s as rt}from"./settings-BnAXf6XY.js";import{t as nt,u as ot,v as at,w as st,I as it,B as ct}from"./app-DHK1Xtws.js";import{C as lt}from"./CommonErrors-BvuvNaw-.js";import{C as mt,S as ut}from"./SettingsFormHeading-pg9uw8W1.js";import{A as dt}from"./ApiErrors-C_2ywM9Q.js";import{F as _,a as ft}from"./FormSkeletons-CmQHT3qT.js";import{B as z}from"./chunk-PULVB27S-DtbcLAA3.js";import{G as y,a as u}from"./chunk-ZPFGWTBB-lx3V9y0x.js";import{i as ht}from"./AccountCancelIcon-DHAhsmYE.js";import{u as pt,T as H,A as gt,C as vt}from"./ConfirmationDialog-B2A0coDp.js";import{u as xt}from"./app_resources-7xCa0BDG.js";import{u as jt,S as bt}from"./SearchField-DB61HOgy.js";import{C as It}from"./CommonCard-ZsFI_XX0.js";import{V as Ct}from"./chunk-NTCQBYKE-BT9zAAaQ.js";import{H as D}from"./chunk-3ASUQ6PA-0kQqFn_h.js";import{I as C}from"./chunk-6QYXN73V-D4AeCydz.js";import{T as Pt,a as St}from"./chunk-MGVPL3OH-D0J1QxuJ.js";import{T as At,b as R,a as Et,c as B}from"./chunk-T2WCTPDH-BYgpKtUX.js";import{u as Tt}from"./chunk-6RSEZNRH-02MJPxwp.js";import{A as Ot}from"./chunk-3KCBMPN5--NnBMJog.js";import{A as _t,b as Rt}from"./chunk-QURMB2UJ-DnrdiWvU.js";import{F as $t}from"./chunk-KRPLQIP4-X72JD14b.js";import"./useDXTApiFetch-DkCgIYCg.js";import"./CloseIcon-B6Be6esX.js";import"./chunk-2OOHT3W5-rFMCTWJa.js";import"./ResponsiveIconButton-BxPaX8A-.js";import"./chunk-VMD3UMGK-C_4Hu6X3.js";import"./chunk-BL2ZZSHG-VTIM7Pff.js";import"./chunk-7OLJDQMT-BCYTowu1.js";import"./components-vobwlAKX.js";import"./chunk-2ZHRCML3-siIePHBt.js";import"./chunk-6CVSDS6C-DQNwoFo1.js";import"./chunk-56K2BSAJ-BQuanzzh.js";import"./chunk-YQO7BFFX-C0kTL7iy.js";import"./chunk-MFVQSVQB-nS3zYPqC.js";import"./chunk-3Y4YXCR2-CtodgM6Z.js";import"./index-BtnUei1e.js";function zt(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var P=zt(d),yt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dt=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},M=function(e){var r=e.color,n=r===void 0?"currentColor":r,a=e.size,s=a===void 0?24:a;e.children;var i=Dt(e,["color","size","children"]),l="mdi-icon "+(i.className||"");return P.createElement("svg",yt({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),P.createElement("path",{d:"M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z"}))},wt=P.memo?P.memo(M):M,Nt=wt;const Lt=j(Nt),Ht=()=>o.jsx(z,{width:"full",sx:{mt:8,mb:4},children:o.jsxs(y,{templateColumns:"1fr",gap:{base:2,md:4},children:[o.jsx(u,{children:o.jsx(_,{})}),o.jsx(u,{children:o.jsx(_,{})}),o.jsx(u,{children:o.jsx(ft,{height:"400px"})}),o.jsx(u,{children:o.jsx(_,{})})]})});function Bt(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var S=Bt(d),Mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vt=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},V=function(e){var r=e.color,n=r===void 0?"currentColor":r,a=e.size,s=a===void 0?24:a;e.children;var i=Vt(e,["color","size","children"]),l="mdi-icon "+(i.className||"");return S.createElement("svg",Mt({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),S.createElement("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}))},Ft=S.memo?S.memo(V):V,Ut=Ft;const kt=j(Ut);function Gt(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var A=Gt(d),Wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zt=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},F=function(e){var r=e.color,n=r===void 0?"currentColor":r,a=e.size,s=a===void 0?24:a;e.children;var i=Zt(e,["color","size","children"]),l="mdi-icon "+(i.className||"");return A.createElement("svg",Wt({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),A.createElement("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}))},Kt=A.memo?A.memo(F):F,Xt=Kt;const Yt=j(Xt),w="{left}",N="{right}",I=(t,e)=>{let r=e-t+1;return Array.from({length:r},(n,a)=>a+t)},qt=({totalCount:t,pageSize:e,siblingCount:r=1,currentPage:n})=>d.useMemo(()=>{const s=Math.ceil(t/e);if(r+5>=s)return I(1,s);const l=Math.max(n-r,1),p=Math.min(n+r,s),f=l>2,m=p<s-2,v=1,x=s;if(!f&&m){let h=3+2*r;return[...I(1,h),w,s]}if(f&&!m){let h=3+2*r,b=I(s-h+1,s);return[v,N,...b]}if(f&&m){let h=I(l,p);return[v,w,...h,N,x]}},[t,e,r,n]);function Jt(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var E=Jt(d),Qt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},te=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},U=function(e){var r=e.color,n=r===void 0?"currentColor":r,a=e.size,s=a===void 0?24:a;e.children;var i=te(e,["color","size","children"]),l="mdi-icon "+(i.className||"");return E.createElement("svg",Qt({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),E.createElement("path",{d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}))},ee=E.memo?E.memo(U):U,re=ee;const ne=j(re);function oe(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var T=oe(d),ae=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},se=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},k=function(e){var r=e.color,n=r===void 0?"currentColor":r,a=e.size,s=a===void 0?24:a;e.children;var i=se(e,["color","size","children"]),l="mdi-icon "+(i.className||"");return T.createElement("svg",ae({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),T.createElement("path",{d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}))},ie=T.memo?T.memo(k):k,ce=ie;const le=j(ce),me=t=>{const{onPageChange:e,totalCount:r,siblingCount:n=1,currentPage:a,pageSize:s}=t,i=qt({currentPage:a,totalCount:r,siblingCount:n,pageSize:s});if(!i||a===0||i.length<2)return null;const l=()=>{e(a+1)},p=()=>{e(a-1)};let f=i[i.length-1];return o.jsxs(Ct,{children:[o.jsx(D,{spacing:1,wrap:"wrap",justifyContent:"center",children:i.map(m=>m===w||m===N?o.jsx(g,{as:le,boxSize:3},`page-${m}`):o.jsx(X,{colorScheme:m===a?"blue":"gray",size:{base:"sm",md:"md"},onClick:()=>e(m),children:m},`button-${m}`))}),o.jsxs(D,{children:[o.jsx(C,{"aria-label":Y,size:{base:"sm",md:"md"},onClick:p,isDisabled:a===1,children:o.jsx(g,{as:mt})}),o.jsx(C,{"aria-label":q,size:{base:"sm",md:"md"},onClick:l,isDisabled:a===f,children:o.jsx(g,{as:ne})})]})]})},ue=t=>{const{stateData:e,retry:r,typeSettings:n}=t,a=xt(),s=Tt(),i=pt(),{filteredData:l,handleSearchInputChange:p,isFiltering:f}=jt(e,["screen_name","username"]),[m,v]=d.useState(1),x=10,h=d.useMemo(()=>{const c=(m-1)*x,O=c+x;return l.slice(c,O)},[m,l]);d.useEffect(()=>{v(1)},[f]);const b=async function(c,O){await i({title:ot,message:at})==vt.accept&&(await n.api.delete(c,{username:O},a)).map({success:L=>{s({title:st,status:"success"}),e.splice(e.findIndex(W=>W.id===c),1),p()},error:L=>{s({title:L.errorInfoOrNull()?.error_description??tt,status:"error"})}})},G=c=>()=>{a.navigate(et(n.editButtonNavigateTo,{id:c}))};return o.jsxs(It,{children:[o.jsx(z,{sx:{pb:4},children:o.jsx(bt,{handleSearchInputChange:p})}),o.jsx(z,{children:o.jsxs(At,{variant:"grayOverCard",size:"md",children:[o.jsx(Pt,{children:o.jsx(R,{children:o.jsx(St,{sx:{p:{base:2,md:4}},children:o.jsxs(y,{templateColumns:{base:"3fr 1fr 2fr",md:"3fr 3fr 1fr 2fr"},gap:{base:2,md:4},children:[o.jsx(u,{children:"Nombre completo"}),o.jsx(u,{sx:{display:{base:"none",md:"block"}},children:"Nombre de usuario"}),o.jsx(u,{textAlign:"center",children:"Estado"}),o.jsx(u,{})]})})})}),o.jsx(Et,{children:h.length>0?h.map(c=>o.jsx(R,{children:o.jsx(B,{sx:{p:{base:2,md:4}},children:o.jsxs(y,{templateColumns:{base:"3fr 1fr 2fr",md:"3fr 3fr 1fr 2fr"},gap:{base:2,md:4},alignItems:"center",children:[o.jsx(u,{children:o.jsx(H,{breakType:"normal",children:c.screen_name})}),o.jsx(u,{sx:{display:{base:"none",md:"block"}},children:o.jsx(H,{breakType:"normal",children:c.username})}),o.jsx(u,{textAlign:"center",children:o.jsx(g,{as:c.habilitado_en_dxt&&c.usuario_tango_existe&&c.habilitado_en_tango===!0?gt:ht,boxSize:6,color:J(c)})}),o.jsx(u,{children:o.jsxs(D,{justifyContent:"center",children:[o.jsx(C,{"aria-label":"Eliminar",size:"sm",colorScheme:"red",onClick:async()=>{await b(c.id,c.username)},children:o.jsx(g,{as:Yt,boxSize:4})}),o.jsx(C,{"aria-label":"Editar",size:"sm",colorScheme:"blue",onClick:G(c.id),children:o.jsx(g,{as:kt,boxSize:4})})]})})]})})},`row_${c.id}`)):o.jsx(R,{children:o.jsx(B,{children:o.jsxs(Ot,{status:"info",children:[o.jsx(_t,{}),o.jsx(Rt,{children:f?Q:nt})]})})})})]})}),o.jsx($t,{sx:{pt:4,justifyContent:"center"},children:o.jsx(me,{currentPage:m,totalCount:l.length,pageSize:x,onPageChange:c=>v(c)})})]})},de=t=>{const{typeSettings:e}=t,{state:r,retry:n}=e.api.getAll();return r.map({loading:a=>o.jsx(Ht,{}),error:({error:a})=>o.jsx(dt,{error:a,retry:n,cancelAndNavigateTo:$}),success:a=>o.jsx(ue,{stateData:a.data,retry:n,typeSettings:e})})};function tr(){const t=Z(),{type:e}=K(),r=rt[e];return e!=null&&r!=null?o.jsxs(o.Fragment,{children:[o.jsx(ut,{title:r.titles.common,returnButton:{buttonProps:{onClick:()=>{t($)}}},actionButton:{label:r.titles.create,icon:Lt,buttonProps:{onClick:()=>{r.actionButtonNavigateTo!=null&&t(r.actionButtonNavigateTo)}}}}),o.jsx(de,{typeSettings:r})]}):o.jsx(lt,{error:it,buttonProps:{label:ct,colorScheme:"gray",onClick:()=>{t($)}}})}export{tr as default};
