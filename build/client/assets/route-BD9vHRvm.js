import{j as t,a as P,u as R}from"./emotion-element-43c6fea0.browser.esm-V7CwUVk-.js";import{a5 as d,e as a,X as E}from"./auth_context-BBDV2-qW.js";import{A as b,a as D,b as U,c as q}from"./paths-BSNIG4KB.js";import{P as F,t as N,B as p,L as O,I as y,n as G}from"./app-BMvraJRd.js";import{u as x}from"./useDXTApiFetch-cUHsby58.js";import{C as z}from"./CommonErrors-BtbwGIG0.js";import{S as X}from"./SettingsFormHeading-BZPNDeWv.js";import{A as v}from"./ApiErrors-P5QuqGMt.js";import{a as w,F as m}from"./FormSkeletons-xJlZdIll.js";import{G as g,a as i}from"./chunk-ZPFGWTBB-BQOfC-td.js";import{T}from"./chunk-2OOHT3W5-DslbJMnr.js";import{a as B,b as k}from"./app_resources-CxShxcx8.js";import{c as V,a as $,d as H,o as M}from"./index.esm-SP9Jm6Nz.js";import{C as u}from"./CommonCard-CrzQbbIu.js";import{C as Z}from"./ControlledTextarea-CyvEM0pX.js";import{F as K}from"./FormErrors-5HYi3DVI.js";import{S as Y}from"./SettingsFormButtons-BuGsXUqX.js";import{A as J}from"./index-DUrOVWgq.js";import"./chunk-3KCBMPN5-70uOg14b.js";import"./chunk-QURMB2UJ-8Wtwm6sR.js";import"./chunk-KRPLQIP4-NJec_PE4.js";import"./chunk-7OLJDQMT-3EhHOSPR.js";import"./chunk-6QYXN73V-BKD6YrO0.js";import"./chunk-3ASUQ6PA-CvzJqsz3.js";import"./chunk-GOJLRND4-C6AoJZLh.js";import"./chunk-3Y4YXCR2-DS9dcu0f.js";import"./chunk-56K2BSAJ-ByH33m4W.js";import"./chunk-YQO7BFFX-B4KLri48.js";import"./chunk-MFVQSVQB-BInMUJ5Q.js";import"./chunk-46CXQZ4E-Cu23NgCw.js";const Q=async(s,e)=>await d({...b,data:s,silent:!0},e),W=async(s,e)=>await d({...D,data:s,silent:!0},e);function tt(){return x({...U,silent:!0})}function et(){return x({...q,silent:!0})}const st={edit:{api:{getAll:tt,post:W},title:F,description:t.jsxs(t.Fragment,{children:["Ingrese en la lista los códigos de artículo en el órden en quedesea que aparezcan durante la creación o edición de un pedido.",t.jsx("br",{}),t.jsx("br",{}),"Cualquier línea que ingrese, que no contenga ningún código de artículo, será considerada como título de grupo."]})},print:{api:{getAll:et,post:Q},title:N,description:t.jsxs(t.Fragment,{children:["Ingrese en la lista los códigos de artículo en el órden en que desea que aparezcan durante la impresión de un pedido.",t.jsx("br",{}),t.jsx("br",{}),"Cualquier línea que ingrese, que no contenga ningún código de artículo, será considerada como título de grupo."]})}},rt=s=>{const{typeSettings:e}=s;return t.jsx(p,{width:"full",sx:{mt:8,mb:4},children:t.jsxs(g,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[t.jsx(i,{children:t.jsx(w,{height:"380px"})}),t.jsx(i,{children:t.jsx(T,{fontSize:"sm",children:e.description})}),t.jsx(i,{children:t.jsx(m,{})}),t.jsx(i,{children:t.jsx(m,{})})]})})},ot=V({list:$().default("").test("avoid-ARTICLE_GROUP_NO_NAME",`Evite utilizar ${J}`,function(s){return!/(^|[^a-zA-Z0-9])_([^a-zA-Z0-9]|$)/.test(s)})}).required(),it=s=>{const{stateData:e,typeSettings:r}=s,n=B(),o=k(),{handleSubmit:_,control:f,reset:at,setError:j,formState:{errors:A,isSubmitting:I,isSubmitSuccessful:S}}=H({defaultValues:{list:(e==null?void 0:e.join(`\r
`))||""},resolver:M(ot)}),l=S||I,h=async C=>{const L={data:C.list.split(`
`)};(await r.api.post(L,n)).map({success:c=>{o({title:O,status:"success"}),n.navigate(a)},error:c=>{o({title:E,status:"error"}),j("root",{message:c.info.error_description})}})};return t.jsx("form",{noValidate:!0,onSubmit:_(h),children:t.jsxs(p,{children:[t.jsx(K,{errors:A}),t.jsx(u,{children:t.jsxs(g,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[t.jsx(i,{children:t.jsx(Z,{fieldProps:{name:"list",id:"list",rows:20,fontSize:"sm"},formControlProps:{isDisabled:l},control:f})}),t.jsx(i,{children:t.jsx(T,{fontSize:"sm",children:r.description})})]})}),t.jsx(u,{children:t.jsx(Y,{isLoading:l})})]})})},nt=s=>{const{typeSettings:e}=s,{state:r,retry:n}=e.api.getAll();return r.map({loading:o=>t.jsx(rt,{typeSettings:e}),error:({error:o})=>t.jsx(v,{error:o,retry:n,cancelAndNavigateTo:a}),success:o=>t.jsx(it,{stateData:o.data,typeSettings:e})})};function Xt(){const s=P(),{type:e}=R(),r=st[e];return e!=null&&r!=null?t.jsxs(t.Fragment,{children:[t.jsx(X,{title:r.title,returnButton:{buttonProps:{onClick:()=>{s(a)}}}}),t.jsx(nt,{typeSettings:r})]}):t.jsx(z,{error:y,buttonProps:{label:G,colorScheme:"green",onClick:()=>{s(a)}}})}export{Xt as default};
