import{o as I,r as f,j as o,u as q,a as J}from"./emotion-element-43c6fea0.browser.esm-Bukkp3pI.js";import{I as g,B as Q,aK as ee,aL as te,aM as re,aN as ne,aO as oe,R as ae,U as z}from"./auth_context-By8qlCOz.js";import{s as se}from"./validation-EHFBNvNt.js";import{a as y,v as ie,w as ce,N as le,x as me,I as de,B as ue}from"./app-ChKZjo6p.js";import{C as fe}from"./CommonErrors-CY6v2mJ9.js";import{C as he,S as pe}from"./SettingsFormHeading-DRaop4b3.js";import{A as ge}from"./ApiErrors-CbWmNTke.js";import{F as $,a as ve}from"./FormSkeletons-C5bAoHqQ.js";import{G as D,a as d}from"./chunk-ZPFGWTBB-C6BSXP9K.js";import{h as xe}from"./AccountCancelIcon-1yk48m2y.js";import{D as je,T as Ie,a as be,b as R,c as Ce,d as Pe,e as M,f as B,A as Se}from"./TextWordBreak-CfcrtjbW.js";import{a as Ae,b as Ee}from"./app_resources-0MHmsA5u.js";import{u as Oe,a as Te,S as _e}from"./SearchField-aDUSc4_O.js";import{C as $e}from"./CommonCard-B6Zs7VdS.js";import{V as Re}from"./chunk-NTCQBYKE-D7-ZCq-d.js";import{H as N}from"./chunk-3ASUQ6PA-CMDtM4Gu.js";import{I as P}from"./chunk-6QYXN73V-e7cXtMTs.js";import{A as ze}from"./chunk-3KCBMPN5-BSyM0bpq.js";import{A as ye,a as De}from"./chunk-QURMB2UJ-DZ-0JI-4.js";import{F as Ne}from"./chunk-KRPLQIP4-BIcN844u.js";import"./useDXTApiFetch-DMZ_pwG5.js";import"./useTangoList-BH5N6yVu.js";import"./index.esm-DLycO5Xl.js";import"./chunk-BL2ZZSHG-CllUrry9.js";import"./chunk-7OLJDQMT-DeTsz2JD.js";import"./chunk-2OOHT3W5-BaTWmMuR.js";import"./chunk-ZHMYA64R-DxFJ4KrV.js";import"./chunk-3Y4YXCR2-BRX7qSte.js";import"./chunk-2ZHRCML3-p9ky5-ds.js";import"./chunk-6CVSDS6C-DbHhw9T-.js";import"./chunk-56K2BSAJ-HKDUOZgn.js";import"./chunk-YQO7BFFX--iiPSc49.js";import"./chunk-MFVQSVQB-DALUCuvz.js";function we(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var S=we(f),Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},He=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},V=function(t){var r=t.color,n=r===void 0?"currentColor":r,a=t.size,s=a===void 0?24:a;t.children;var i=He(t,["color","size","children"]),l="mdi-icon "+(i.className||"");return S.createElement("svg",Le({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),S.createElement("path",{d:"M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z"}))},Me=S.memo?S.memo(V):V,Be=Me;const Ve=I(Be),Fe=()=>o.jsx(y,{width:"full",sx:{mt:8,mb:4},children:o.jsxs(D,{templateColumns:"1fr",gap:{base:2,md:4},children:[o.jsx(d,{children:o.jsx($,{})}),o.jsx(d,{children:o.jsx($,{})}),o.jsx(d,{children:o.jsx(ve,{height:"400px"})}),o.jsx(d,{children:o.jsx($,{})})]})});function Ue(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var A=Ue(f),ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ge=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},F=function(t){var r=t.color,n=r===void 0?"currentColor":r,a=t.size,s=a===void 0?24:a;t.children;var i=Ge(t,["color","size","children"]),l="mdi-icon "+(i.className||"");return A.createElement("svg",ke({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),A.createElement("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}))},We=A.memo?A.memo(F):F,Ze=We;const Ke=I(Ze);function Xe(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var E=Xe(f),Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qe=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},U=function(t){var r=t.color,n=r===void 0?"currentColor":r,a=t.size,s=a===void 0?24:a;t.children;var i=qe(t,["color","size","children"]),l="mdi-icon "+(i.className||"");return E.createElement("svg",Ye({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),E.createElement("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}))},Je=E.memo?E.memo(U):U,Qe=Je;const et=I(Qe),w="{left}",L="{right}",C=(e,t)=>{let r=t-e+1;return Array.from({length:r},(n,a)=>a+e)},tt=({totalCount:e,pageSize:t,siblingCount:r=1,currentPage:n})=>f.useMemo(()=>{const s=Math.ceil(e/t);if(r+5>=s)return C(1,s);const l=Math.max(n-r,1),p=Math.min(n+r,s),u=l>2,m=p<s-2,v=1,b=s;if(!u&&m){let h=3+2*r;return[...C(1,h),w,s]}if(u&&!m){let h=3+2*r,x=C(s-h+1,s);return[v,L,...x]}if(u&&m){let h=C(l,p);return[v,w,...h,L,b]}},[e,t,r,n]);function rt(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var O=rt(f),nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ot=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},k=function(t){var r=t.color,n=r===void 0?"currentColor":r,a=t.size,s=a===void 0?24:a;t.children;var i=ot(t,["color","size","children"]),l="mdi-icon "+(i.className||"");return O.createElement("svg",nt({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),O.createElement("path",{d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}))},at=O.memo?O.memo(k):k,st=at;const it=I(st);function ct(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var T=ct(f),lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mt=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},G=function(t){var r=t.color,n=r===void 0?"currentColor":r,a=t.size,s=a===void 0?24:a;t.children;var i=mt(t,["color","size","children"]),l="mdi-icon "+(i.className||"");return T.createElement("svg",lt({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),T.createElement("path",{d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}))},dt=T.memo?T.memo(G):G,ut=dt;const ft=I(ut),ht=e=>{const{onPageChange:t,totalCount:r,siblingCount:n=1,currentPage:a,pageSize:s}=e,i=tt({currentPage:a,totalCount:r,siblingCount:n,pageSize:s});if(!i||a===0||i.length<2)return null;const l=()=>{t(a+1)},p=()=>{t(a-1)};let u=i[i.length-1];return o.jsxs(Re,{children:[o.jsx(N,{spacing:1,wrap:"wrap",justifyContent:"center",children:i.map(m=>m===w||m===L?o.jsx(g,{as:ft,boxSize:3},`page-${m}`):o.jsx(Q,{colorScheme:m===a?"blue":"gray",size:{base:"sm",md:"md"},onClick:()=>t(m),children:m},`button-${m}`))}),o.jsxs(N,{children:[o.jsx(P,{"aria-label":ee,size:{base:"sm",md:"md"},onClick:p,isDisabled:a===1,children:o.jsx(g,{as:he})}),o.jsx(P,{"aria-label":te,size:{base:"sm",md:"md"},onClick:l,isDisabled:a===u,children:o.jsx(g,{as:it})})]})]})},pt=e=>{const{stateData:t,retry:r,typeSettings:n}=e,a=Ae(),{isOpen:s,onOpen:i,onClose:l}=Oe(),p=Ee(),u=f.useRef(null),{filteredData:m,handleSearchInputChange:v,isFiltering:b}=Te(t,["screen_name","username"]),[h,x]=f.useState(1),_=10,H=f.useMemo(()=>{const c=(h-1)*_,j=c+_;return m.slice(c,j)},[h,m]);f.useEffect(()=>{x(1)},[b]);const W=(c,j)=>()=>{u.current={id:c,username:j},i()},Z=c=>()=>{a.navigate(oe(n.editButtonNavigateTo,{id:c}))},K=async()=>{if(u.current!=null){const{id:c,username:j}=u.current;u.current=null,(await n.api.delete(c,{username:j},a)).map({success:X=>{p({title:me,status:"success"}),t.splice(t.findIndex(Y=>Y.id===c),1),v()},error:X=>{p({title:ae,status:"error"})}}),l()}};return o.jsxs(o.Fragment,{children:[o.jsx(je,{isOpen:s,onClose:l,handleDeletion:K,message:{title:ie,body:ce}}),o.jsxs($e,{children:[o.jsx(y,{sx:{pb:4},children:o.jsx(_e,{handleSearchInputChange:v})}),o.jsx(y,{children:o.jsxs(Ie,{variant:"grayOverCard",size:"md",children:[o.jsx(be,{children:o.jsx(R,{children:o.jsx(Ce,{sx:{p:{base:2,md:4}},children:o.jsxs(D,{templateColumns:{base:"3fr 1fr 2fr",md:"3fr 3fr 1fr 2fr"},gap:{base:2,md:4},children:[o.jsx(d,{children:"Nombre completo"}),o.jsx(d,{sx:{display:{base:"none",md:"block"}},children:"Nombre de usuario"}),o.jsx(d,{textAlign:"center",children:"Estado"}),o.jsx(d,{})]})})})}),o.jsx(Pe,{children:H.length>0?H.map(c=>o.jsx(R,{children:o.jsx(M,{sx:{p:{base:2,md:4}},children:o.jsxs(D,{templateColumns:{base:"3fr 1fr 2fr",md:"3fr 3fr 1fr 2fr"},gap:{base:2,md:4},alignItems:"center",children:[o.jsx(d,{children:o.jsx(B,{breakType:"normal",children:c.screen_name})}),o.jsx(d,{sx:{display:{base:"none",md:"block"}},children:o.jsx(B,{breakType:"normal",children:c.username})}),o.jsx(d,{textAlign:"center",children:o.jsx(g,{as:c.habilitado_en_dxt&&c.usuario_tango_existe&&c.habilitado_en_tango===!0?Se:xe,boxSize:6,color:re(c)})}),o.jsx(d,{children:o.jsxs(N,{justifyContent:"center",children:[o.jsx(P,{"aria-label":"Eliminar",size:"sm",colorScheme:"red",onClick:W(c.id,c.username),children:o.jsx(g,{as:et,boxSize:4})}),o.jsx(P,{"aria-label":"Editar",size:"sm",colorScheme:"blue",onClick:Z(c.id),children:o.jsx(g,{as:Ke,boxSize:4})})]})})]})})},`row_${c.id}`)):o.jsx(R,{children:o.jsx(M,{children:o.jsxs(ze,{status:"info",children:[o.jsx(ye,{}),o.jsx(De,{children:b?ne:le})]})})})})]})}),o.jsx(Ne,{sx:{pt:4,justifyContent:"center"},children:o.jsx(ht,{currentPage:h,totalCount:m.length,pageSize:_,onPageChange:c=>x(c)})})]})]})},gt=e=>{const{typeSettings:t}=e,{state:r,retry:n}=t.api.getAll();return r.map({loading:a=>o.jsx(Fe,{}),error:({error:a})=>o.jsx(ge,{error:a,retry:n,cancelAndNavigateTo:z}),success:a=>o.jsx(pt,{stateData:a.data,retry:n,typeSettings:t})})};function qt(){const e=q(),{type:t}=J(),r=se[t];return t!=null&&r!=null?o.jsxs(o.Fragment,{children:[o.jsx(pe,{title:r.titles.common,returnButton:{buttonProps:{onClick:()=>{e(z)}}},actionButton:{label:r.titles.create,icon:Ve,buttonProps:{onClick:()=>{r.actionButtonNavigateTo!=null&&e(r.actionButtonNavigateTo)}}}}),o.jsx(gt,{typeSettings:r})]}):o.jsx(fe,{error:de,buttonProps:{label:ue,colorScheme:"green",onClick:()=>{e(z)}}})}export{qt as default};
