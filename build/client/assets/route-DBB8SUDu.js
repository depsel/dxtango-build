import{p as j,r as u,j as o,u as Z,a as K}from"./emotion-element-43c6fea0.browser.esm-Cuif_eEn.js";import{I as g,B as X,aZ as Y,a_ as q,a$ as J,b0 as Q,a1 as ee,b1 as te,U as R}from"./auth_context-B-Tcig0k.js";import{s as re}from"./settings-JPG_dToq.js";import{a as z,N as ne,v as oe,w as ae,x as se,I as ie,B as ce}from"./app-BdYyDs5S.js";import{C as le}from"./CommonErrors-Cf1BB0Pn.js";import{C as me,S as de}from"./SettingsFormHeading-oznEKY0V.js";import{A as ue}from"./ApiErrors-GUSgL-Xy.js";import{F as _,a as fe}from"./FormSkeletons-CoMZNYRx.js";import{G as y,a as d}from"./chunk-ZPFGWTBB-CfuIyNTX.js";import{i as he}from"./AccountCancelIcon-hUm3w097.js";import{u as pe,T as L,A as ge,C as ve}from"./ConfirmationDialog-DIsNCiqw.js";import{u as xe,a as je}from"./app_resources-CDkSSx5t.js";import{u as Ie,S as be}from"./SearchField-Ciu5eLKz.js";import{C as Ce}from"./CommonCard-BQfjnTT7.js";import{V as Pe}from"./chunk-NTCQBYKE-BJvKyHSx.js";import{H as D}from"./chunk-3ASUQ6PA-ByZtqmzd.js";import{I as C}from"./chunk-6QYXN73V-B1Nx9szV.js";import{T as Se,a as Ae}from"./chunk-MGVPL3OH-aLfQ7SVE.js";import{T as Ee,b as $,a as Te,c as H}from"./chunk-T2WCTPDH-0Qni0mTa.js";import{A as Oe}from"./chunk-3KCBMPN5-CdY7cck7.js";import{A as _e,a as $e}from"./chunk-ALC6QPCI-C2jRzl9i.js";import{F as Re}from"./chunk-KRPLQIP4-DRGOXS8W.js";import"./useDXTApiFetch-_LSStUNh.js";import"./ResponsiveIconButton-Ccujq6NG.js";import"./chunk-ZHMYA64R-Cq5LpG9O.js";import"./chunk-VMD3UMGK-BOiy-z46.js";import"./chunk-BL2ZZSHG-DP_ZXxbw.js";import"./chunk-7OLJDQMT-DB_eYbVs.js";import"./chunk-2OOHT3W5-y4h3Shmy.js";import"./chunk-3Y4YXCR2-CiP0t4s6.js";import"./chunk-QURMB2UJ-BoOQBYSq.js";import"./chunk-2ZHRCML3-BcSRrPbH.js";import"./chunk-6CVSDS6C-B4Ua9FB8.js";import"./chunk-56K2BSAJ-r8NF7IGV.js";import"./chunk-YQO7BFFX-CEG2A-0c.js";import"./chunk-MFVQSVQB-gRsUJlZr.js";function ze(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var P=ze(u),ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},De=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},B=function(t){var r=t.color,n=r===void 0?"currentColor":r,a=t.size,s=a===void 0?24:a;t.children;var i=De(t,["color","size","children"]),l="mdi-icon "+(i.className||"");return P.createElement("svg",ye({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),P.createElement("path",{d:"M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z"}))},we=P.memo?P.memo(B):B,Ne=we;const Le=j(Ne),He=()=>o.jsx(z,{width:"full",sx:{mt:8,mb:4},children:o.jsxs(y,{templateColumns:"1fr",gap:{base:2,md:4},children:[o.jsx(d,{children:o.jsx(_,{})}),o.jsx(d,{children:o.jsx(_,{})}),o.jsx(d,{children:o.jsx(fe,{height:"400px"})}),o.jsx(d,{children:o.jsx(_,{})})]})});function Be(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var S=Be(u),Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ve=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},M=function(t){var r=t.color,n=r===void 0?"currentColor":r,a=t.size,s=a===void 0?24:a;t.children;var i=Ve(t,["color","size","children"]),l="mdi-icon "+(i.className||"");return S.createElement("svg",Me({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),S.createElement("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}))},Fe=S.memo?S.memo(M):M,Ue=Fe;const ke=j(Ue);function Ge(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var A=Ge(u),We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ze=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},V=function(t){var r=t.color,n=r===void 0?"currentColor":r,a=t.size,s=a===void 0?24:a;t.children;var i=Ze(t,["color","size","children"]),l="mdi-icon "+(i.className||"");return A.createElement("svg",We({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),A.createElement("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}))},Ke=A.memo?A.memo(V):V,Xe=Ke;const Ye=j(Xe),w="{left}",N="{right}",b=(e,t)=>{let r=t-e+1;return Array.from({length:r},(n,a)=>a+e)},qe=({totalCount:e,pageSize:t,siblingCount:r=1,currentPage:n})=>u.useMemo(()=>{const s=Math.ceil(e/t);if(r+5>=s)return b(1,s);const l=Math.max(n-r,1),p=Math.min(n+r,s),f=l>2,m=p<s-2,v=1,x=s;if(!f&&m){let h=3+2*r;return[...b(1,h),w,s]}if(f&&!m){let h=3+2*r,I=b(s-h+1,s);return[v,N,...I]}if(f&&m){let h=b(l,p);return[v,w,...h,N,x]}},[e,t,r,n]);function Je(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var E=Je(u),Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},et=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},F=function(t){var r=t.color,n=r===void 0?"currentColor":r,a=t.size,s=a===void 0?24:a;t.children;var i=et(t,["color","size","children"]),l="mdi-icon "+(i.className||"");return E.createElement("svg",Qe({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),E.createElement("path",{d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}))},tt=E.memo?E.memo(F):F,rt=tt;const nt=j(rt);function ot(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var T=ot(u),at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},st=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},U=function(t){var r=t.color,n=r===void 0?"currentColor":r,a=t.size,s=a===void 0?24:a;t.children;var i=st(t,["color","size","children"]),l="mdi-icon "+(i.className||"");return T.createElement("svg",at({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),T.createElement("path",{d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}))},it=T.memo?T.memo(U):U,ct=it;const lt=j(ct),mt=e=>{const{onPageChange:t,totalCount:r,siblingCount:n=1,currentPage:a,pageSize:s}=e,i=qe({currentPage:a,totalCount:r,siblingCount:n,pageSize:s});if(!i||a===0||i.length<2)return null;const l=()=>{t(a+1)},p=()=>{t(a-1)};let f=i[i.length-1];return o.jsxs(Pe,{children:[o.jsx(D,{spacing:1,wrap:"wrap",justifyContent:"center",children:i.map(m=>m===w||m===N?o.jsx(g,{as:lt,boxSize:3},`page-${m}`):o.jsx(X,{colorScheme:m===a?"blue":"gray",size:{base:"sm",md:"md"},onClick:()=>t(m),children:m},`button-${m}`))}),o.jsxs(D,{children:[o.jsx(C,{"aria-label":Y,size:{base:"sm",md:"md"},onClick:p,isDisabled:a===1,children:o.jsx(g,{as:me})}),o.jsx(C,{"aria-label":q,size:{base:"sm",md:"md"},onClick:l,isDisabled:a===f,children:o.jsx(g,{as:nt})})]})]})},dt=e=>{const{stateData:t,retry:r,typeSettings:n}=e,a=xe(),s=je(),i=pe(),{filteredData:l,handleSearchInputChange:p,isFiltering:f}=Ie(t,["screen_name","username"]),[m,v]=u.useState(1),x=10,h=u.useMemo(()=>{const c=(m-1)*x,O=c+x;return l.slice(c,O)},[m,l]);u.useEffect(()=>{v(1)},[f]);const I=async function(c,O){await i({title:oe,message:ae})==ve.accept&&(await n.api.delete(c,{username:O},a)).map({success:G=>{s({title:se,status:"success"}),t.splice(t.findIndex(W=>W.id===c),1),p()},error:G=>{s({title:ee,status:"error"})}})},k=c=>()=>{a.navigate(te(n.editButtonNavigateTo,{id:c}))};return o.jsxs(Ce,{children:[o.jsx(z,{sx:{pb:4},children:o.jsx(be,{handleSearchInputChange:p})}),o.jsx(z,{children:o.jsxs(Ee,{variant:"grayOverCard",size:"md",children:[o.jsx(Se,{children:o.jsx($,{children:o.jsx(Ae,{sx:{p:{base:2,md:4}},children:o.jsxs(y,{templateColumns:{base:"3fr 1fr 2fr",md:"3fr 3fr 1fr 2fr"},gap:{base:2,md:4},children:[o.jsx(d,{children:"Nombre completo"}),o.jsx(d,{sx:{display:{base:"none",md:"block"}},children:"Nombre de usuario"}),o.jsx(d,{textAlign:"center",children:"Estado"}),o.jsx(d,{})]})})})}),o.jsx(Te,{children:h.length>0?h.map(c=>o.jsx($,{children:o.jsx(H,{sx:{p:{base:2,md:4}},children:o.jsxs(y,{templateColumns:{base:"3fr 1fr 2fr",md:"3fr 3fr 1fr 2fr"},gap:{base:2,md:4},alignItems:"center",children:[o.jsx(d,{children:o.jsx(L,{breakType:"normal",children:c.screen_name})}),o.jsx(d,{sx:{display:{base:"none",md:"block"}},children:o.jsx(L,{breakType:"normal",children:c.username})}),o.jsx(d,{textAlign:"center",children:o.jsx(g,{as:c.habilitado_en_dxt&&c.usuario_tango_existe&&c.habilitado_en_tango===!0?ge:he,boxSize:6,color:J(c)})}),o.jsx(d,{children:o.jsxs(D,{justifyContent:"center",children:[o.jsx(C,{"aria-label":"Eliminar",size:"sm",colorScheme:"red",onClick:async()=>{await I(c.id,c.username)},children:o.jsx(g,{as:Ye,boxSize:4})}),o.jsx(C,{"aria-label":"Editar",size:"sm",colorScheme:"blue",onClick:k(c.id),children:o.jsx(g,{as:ke,boxSize:4})})]})})]})})},`row_${c.id}`)):o.jsx($,{children:o.jsx(H,{children:o.jsxs(Oe,{status:"info",children:[o.jsx(_e,{}),o.jsx($e,{children:f?Q:ne})]})})})})]})}),o.jsx(Re,{sx:{pt:4,justifyContent:"center"},children:o.jsx(mt,{currentPage:m,totalCount:l.length,pageSize:x,onPageChange:c=>v(c)})})]})},ut=e=>{const{typeSettings:t}=e,{state:r,retry:n}=t.api.getAll();return r.map({loading:a=>o.jsx(He,{}),error:({error:a})=>o.jsx(ue,{error:a,retry:n,cancelAndNavigateTo:R}),success:a=>o.jsx(dt,{stateData:a.data,retry:n,typeSettings:t})})};function qt(){const e=Z(),{type:t}=K(),r=re[t];return t!=null&&r!=null?o.jsxs(o.Fragment,{children:[o.jsx(de,{title:r.titles.common,returnButton:{buttonProps:{onClick:()=>{e(R)}}},actionButton:{label:r.titles.create,icon:Le,buttonProps:{onClick:()=>{r.actionButtonNavigateTo!=null&&e(r.actionButtonNavigateTo)}}}}),o.jsx(ut,{typeSettings:r})]}):o.jsx(le,{error:ie,buttonProps:{label:ce,colorScheme:"green",onClick:()=>{e(R)}}})}export{qt as default};
