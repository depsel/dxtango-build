import{r as p,j as e,g as Ge}from"./emotion-element-43c6fea0.browser.esm-CqNy1Myq.js";import{J as $e,aU as ze,K as Be,at as Ie,p as He,f as we,c as se,d as Ke,L as I,N as U,M as pe,m as We,o as Xe,aj as Ye,b7 as Je,O as te,I as ye,k as Qe,b8 as Ze,b9 as ea,j as aa,$ as oa,U as ia,_ as ra}from"./auth_context-W41jorqJ.js";import{A as sa}from"./ApiErrors-Ce0ACX-x.js";import{F as l}from"./FormSkeletons-BqVlCrfc.js";import{G as Pe,a as s}from"./chunk-ZPFGWTBB-SLlCbhZ2.js";import{H as v}from"./chunk-3ASUQ6PA-Bd0WMHjh.js";import{B as Ae,S as Se}from"./chunk-PULVB27S-D7uJxCC9.js";import{D as G,a as me,F as fe,b as _e}from"./useDXTApiFetch-C7dVAUhS.js";import{u as na,d as ta,o as la,f as Z,a as ee,e as L,c as ae}from"./index.esm-DyDUH5B4.js";import{i as da}from"./AccountCancelIcon-BNM79oUZ.js";import{u as ca}from"./app_resources-CGL_9HD3.js";import{u as he}from"./useTangoList-DaJXlnMz.js";import{x as ua,y as pa}from"./app-DHK1Xtws.js";import{C as xe}from"./CommonCard-lI3jPkdD.js";import{C as ie}from"./ControlledInput-8wIYlJeS.js";import{u as ma,F as Re,a as fa}from"./chunk-56K2BSAJ-B2Q4uFcy.js";import{t as _a}from"./chunk-7D6N5TE5-BM02RUYt.js";import{C as be}from"./ControlledSelect-XinpjFcZ.js";import{C as F}from"./ControlledSwitch-2q14FtNi.js";import{F as ha}from"./FormErrors-BUwvsU62.js";import{P as xa,d as ba,V as ja}from"./vo_dxt_password-CQYfzkop.js";import{I as je}from"./InlineError-CGAYUd9A.js";import{S as ga}from"./SettingsFormButtons-e3UpXloQ.js";import{u as Ca}from"./chunk-6RSEZNRH-6alsWz9k.js";import{H as re}from"./chunk-7OLJDQMT-DCvnaZ4I.js";import{F as Pa}from"./chunk-H46NUPBZ-C7NK7jyR.js";import{y as ke}from"./utils-DQu-C9ov.js";import{V as Sa}from"./vo_user_name-Gt-B6PXc.js";class ve extends $e{validate(a){let i=a;typeof i!="string"&&this.throwError(a);try{if(ze.isUUID(i,4))return i}catch{}this.throwError(a)}static random(){return new ve(va())}}function va(){let o=new Date().getTime(),a=0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){let r=Math.random()*16;return o>0?(r=(o+r)%16|0,o=Math.floor(o/16)):(r=(a+r)%16|0,a=Math.floor(a/16)),(i==="x"?r:r&3|8).toString(16)})}function Da(o){return o&&Ie(o)&&Ie(o.target)}function Ia(o={}){const{onChange:a,value:i,defaultValue:r,name:t,isDisabled:d,isFocusable:f,isNative:x,...j}=o,[g,C]=p.useState(r||""),h=typeof i<"u",m=h?i:g,y=p.useRef(null),P=p.useCallback(()=>{const c=y.current;if(!c)return;let n="input:not(:disabled):checked";const D=c.querySelector(n);if(D){D.focus();return}n="input:not(:disabled)";const S=c.querySelector(n);S?.focus()},[]),b=`radio-${p.useId()}`,M=t||b,w=p.useCallback(c=>{const n=Da(c)?c.target.value:c;h||C(n),a?.(String(n))},[a,h]),V=p.useCallback((c={},n=null)=>({...c,ref:Be(n,y),role:"radiogroup"}),[]),k=p.useCallback((c={},n=null)=>({...c,ref:n,name:M,[x?"checked":"isChecked"]:m!=null?c.value===m:void 0,onChange(S){w(S)},"data-radiogroup":!0}),[x,M,w,m]);return{getRootProps:V,getRadioProps:k,name:M,ref:y,focus:P,setValue:C,value:m,onChange:w,isDisabled:d,isFocusable:f,htmlProps:j}}var[ya,Te]=He({name:"RadioGroupContext",strict:!1}),Ne=we((o,a)=>{const{colorScheme:i,size:r,variant:t,children:d,className:f,isDisabled:x,isFocusable:j,...g}=o,{value:C,onChange:h,getRootProps:m,name:y,htmlProps:P}=Ia(g),E=p.useMemo(()=>({name:y,size:r,onChange:h,colorScheme:i,value:C,variant:t,isDisabled:x,isFocusable:j}),[y,r,h,i,C,t,x,j]);return e.jsx(ya,{value:E,children:e.jsx(se.div,{...m(P,a),className:Ke("chakra-radio-group",f),children:d})})});Ne.displayName="RadioGroup";var Ea={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function wa(o={}){const{defaultChecked:a,isChecked:i,isFocusable:r,isDisabled:t,isReadOnly:d,isRequired:f,onChange:x,isInvalid:j,name:g,value:C,id:h,"data-radiogroup":m,"aria-describedby":y,...P}=o,E=`radio-${p.useId()}`,b=ma(),w=!!Te()||!!m;let k=!!b&&!w?b.id:E;k=h??k;const c=t??b?.isDisabled,n=d??b?.isReadOnly,D=f??b?.isRequired,S=j??b?.isInvalid,[O,W]=p.useState(!1),[q,K]=p.useState(!1),[T,$]=p.useState(!1),[z,A]=p.useState(!1),[_,ce]=p.useState(!!a),X=typeof i<"u",R=X?i:_;p.useEffect(()=>_a(W),[]);const N=p.useCallback(u=>{if(n||c){u.preventDefault();return}X||ce(u.target.checked),x?.(u)},[X,c,n,x]),Y=p.useCallback(u=>{u.key===" "&&A(!0)},[A]),B=p.useCallback(u=>{u.key===" "&&A(!1)},[A]),oe=p.useCallback((u={},H=null)=>({...u,ref:H,"data-active":I(z),"data-hover":I(T),"data-disabled":I(c),"data-invalid":I(S),"data-checked":I(R),"data-focus":I(q),"data-focus-visible":I(q&&O),"data-readonly":I(n),"aria-hidden":!0,onMouseDown:U(u.onMouseDown,()=>A(!0)),onMouseUp:U(u.onMouseUp,()=>A(!1)),onMouseEnter:U(u.onMouseEnter,()=>$(!0)),onMouseLeave:U(u.onMouseLeave,()=>$(!1))}),[z,T,c,S,R,q,n,O]),{onFocus:J,onBlur:ue}=b??{},Q=p.useCallback((u={},H=null)=>{const De=c&&!r;return{...u,id:k,ref:H,type:"radio",name:g,value:C,onChange:U(u.onChange,N),onBlur:U(ue,u.onBlur,()=>K(!1)),onFocus:U(J,u.onFocus,()=>K(!0)),onKeyDown:U(u.onKeyDown,Y),onKeyUp:U(u.onKeyUp,B),checked:R,disabled:De,readOnly:n,required:D,"aria-invalid":pe(S),"aria-disabled":pe(De),"aria-required":pe(D),"data-readonly":I(n),"aria-describedby":y,style:Ea}},[c,r,k,g,C,N,ue,J,Y,B,R,n,D,S,y]);return{state:{isInvalid:S,isFocused:q,isChecked:R,isActive:z,isHovered:T,isDisabled:c,isReadOnly:n,isRequired:D},getCheckboxProps:oe,getRadioProps:oe,getInputProps:Q,getLabelProps:(u={},H=null)=>({...u,ref:H,onMouseDown:U(u.onMouseDown,Aa),"data-disabled":I(c),"data-checked":I(R),"data-invalid":I(S)}),getRootProps:(u,H=null)=>({...u,ref:H,"data-disabled":I(c),"data-checked":I(R),"data-invalid":I(S)}),htmlProps:P}}function Aa(o){o.preventDefault(),o.stopPropagation()}function Ra(o,a){const i={},r={};for(const[t,d]of Object.entries(o))a.includes(t)?i[t]=d:r[t]=d;return[i,r]}var Ue=we((o,a)=>{var i;const r=Te(),{onChange:t,value:d}=o,f=We("Radio",{...r,...o}),x=Xe(o),{spacing:j="0.5rem",children:g,isDisabled:C=r?.isDisabled,isFocusable:h=r?.isFocusable,inputProps:m,...y}=x;let P=o.isChecked;r?.value!=null&&d!=null&&(P=r.value===d);let E=t;r?.onChange&&d!=null&&(E=Ye(r.onChange,t));const b=(i=o?.name)!=null?i:r?.name,{getInputProps:M,getCheckboxProps:w,getLabelProps:V,getRootProps:k,htmlProps:c}=wa({...y,isChecked:P,isFocusable:h,isDisabled:C,onChange:E,name:b}),[n,D]=Ra(c,Je),S=w(D),O=M(m,a),W=V(),q=Object.assign({},n,k()),K={display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative",...f.container},T={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,...f.control},$={userSelect:"none",marginStart:j,...f.label};return e.jsxs(se.label,{className:"chakra-radio",...q,__css:K,children:[e.jsx("input",{className:"chakra-radio__input",...O}),e.jsx(se.span,{className:"chakra-radio__control",...S,__css:T}),g&&e.jsx(se.span,{className:"chakra-radio__label",...W,__css:$,children:g})]})});Ue.displayName="Radio";const ka=()=>e.jsx(Ae,{width:"full",sx:{mt:8,mb:4},children:e.jsxs(Pe,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(G,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(G,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(G,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsxs(Se,{spacing:4,direction:{base:"column"},children:[e.jsx(v,{spacing:4,children:e.jsx(l,{})}),e.jsx(v,{spacing:4,children:e.jsx(l,{})}),e.jsx(v,{spacing:4,children:e.jsx(l,{})}),e.jsx(v,{spacing:4,children:e.jsx(l,{})}),e.jsx(v,{spacing:4,children:e.jsx(l,{})}),e.jsx(v,{spacing:4,children:e.jsx(l,{})}),e.jsx(v,{spacing:4,children:e.jsx(l,{})}),e.jsx(v,{spacing:4,children:e.jsx(l,{})})]})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(G,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})})]})});function Ta(o){return o&&typeof o=="object"&&"default"in o?o.default:o}var ne=Ta(p),Na=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(o[r]=i[r])}return o},Ua=function(o,a){var i={};for(var r in o)a.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r]);return i},Ee=function(a){var i=a.color,r=i===void 0?"currentColor":i,t=a.size,d=t===void 0?24:t;a.children;var f=Ua(a,["color","size","children"]),x="mdi-icon "+(f.className||"");return ne.createElement("svg",Na({},f,{className:x,width:d,height:d,fill:r,viewBox:"0 0 24 24"}),ne.createElement("path",{d:"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z"}))},La=ne.memo?ne.memo(Ee):Ee,Oa=La;const Fa=Ge(Oa),Ma=te("/tango/lista","GET"),Va=te("/tango/perfil","GET"),qa=te("/tango/cliente","GET"),Ga=te("/tango/vendedor","GET"),$a=o=>{const{fieldProps:a,formControlProps:i,formControlInnerProps:r,stackProps:t,radioProps:d,control:f}=o,{name:x}=a,{helperText:j}=r||{},{field:{ref:g,onChange:C,value:h},fieldState:{invalid:m},formState:{errors:y}}=na({name:a.name,control:f});return e.jsxs(Re,{...i,isInvalid:m,children:[e.jsx(Ne,{...a,onChange:C,value:h.toString(),ref:g,children:e.jsx(Se,{direction:"row",spacing:4,...t,children:a.options.map((P,E)=>e.jsx(Ue,{value:P.value.toString(),...d,children:P.label},`${x}-option-${E}`))})}),j!=null&&e.jsx(fa,{children:j})]})};function za(o){const[a,i]=p.useState(null);return{yupValidationSchema:o(a,i),passwordStatus:a}}const ge=0,Ce=365,Ba=30,Le=o=>{const{stateData:a,typeSettings:i,returnUrl:r,title:t,schemaMaker:d,schemaDataToApiInput:f,saveUserCall:x}=o;p.useRef(ve.random().valueOf());const j=ca(),g=Ca(),{yupValidationSchema:C,passwordStatus:h}=za(d),{state:m,result:y}=he({endpoint:Va,fieldsMap:{label:"name",value:"id"}}),{state:P,result:E}=he({endpoint:i.userType==="cliente"?qa:Ga,fieldsMap:{label:"screen_name",value:"id",isEnabled:"habilitado"},disabledIcon:e.jsx(ye,{as:da,color:"red.400",ml:2,boxSize:5})}),{state:b,result:M}=he({endpoint:Ma,fieldsMap:{label:"nombre",value:"id",isEnabled:"habilitada"},disabledIcon:e.jsx(ye,{as:Fa,color:"red.400",ml:2,boxSize:5})}),w=a!==null;let V;w?V={username:a.username,email:a.email??"",tango_id:a.tango_id,id_lista_adicional:a.id_lista_adicional===null?0:a.id_lista_adicional,bonificacion_lista_adicional:a.bonificacion_lista_adicional===null?0:a.bonificacion_lista_adicional,bonificacion_lista_adicional_switch:a.bonificacion_lista_adicional!=null,perfil_facturacion_id:a.perfil_facturacion_id,habilitado_en_dxt:a.habilitado_en_dxt,puede_crear_pedido:a.puede_crear_pedido,puede_editar_pedido:a.puede_editar_pedido,puede_anular_pedido:a.puede_anular_pedido,borrar_pedido_al_anular:a.borrar_pedido_al_anular,aprobar_pedido_al_crear:a.aprobar_pedido_al_crear,ver_pedidos_cumplidos:a.ver_pedidos_cumplidos,ver_sin_precio:a.ver_sin_precio,mostrar_mensaje_de_advertencia:a.mostrar_mensaje_de_advertencia,dia_de_entrega:a.dia_de_entrega}:V={username:"",password:"",email:"",tango_id:0,perfil_facturacion_id:0,id_lista_adicional:0,bonificacion_lista_adicional:0,bonificacion_lista_adicional_switch:!1,habilitado_en_dxt:!0,puede_crear_pedido:!0,puede_editar_pedido:!0,ver_pedidos_cumplidos:!0,ver_sin_precio:!1,mostrar_mensaje_de_advertencia:!1,puede_anular_pedido:!1,borrar_pedido_al_anular:!1,aprobar_pedido_al_crear:!1,dia_de_entrega:Ba};const k=!1,{handleSubmit:c,control:n,resetField:D,setError:S,watch:O,formState:{errors:W,isSubmitting:q,isSubmitSuccessful:K}}=ta({defaultValues:V,resolver:la(C)}),T=O("puede_anular_pedido"),$=O("perfil_facturacion_id"),z=O("bonificacion_lista_adicional_switch"),A=O("id_lista_adicional");p.useEffect(()=>{T===!1&&D("borrar_pedido_al_anular",{defaultValue:!1})},[T]),p.useEffect(()=>{if(z===!1&&m.isSuccess()){const N=m.data.find(Y=>Y.id===$)?.bonificacion??0;D("bonificacion_lista_adicional",{defaultValue:N})}A===0&&(D("bonificacion_lista_adicional",{defaultValue:0}),D("bonificacion_lista_adicional_switch",{defaultValue:!1}))},[m.isSuccess(),A,z,$]);const _=K||q,ce=async N=>{const{bonificacion_lista_adicional_switch:Y,...B}=N,oe={...N,email:B.email===""?void 0:B.email,password:B.password===""?void 0:B.password},J=f(oe);if(J==null){g({title:ea(aa.INVALID_PARAMETER),status:"error"});return}(await x(J,j)).map({success:Q=>{g({title:w?ua:pa,status:"success"}),j.navigate(r)},error:Q=>{g({title:Q.errorInfoOrNull()?.error_description??oa,status:"error"}),S("root",{message:Q.info.error_description})}})},X=_||A===0||z===!1,R=_||A===0;return e.jsx("form",{noValidate:!0,onSubmit:c(ce),children:e.jsxs(Ae,{children:[e.jsx(ha,{errors:W}),e.jsx(xe,{children:e.jsxs(Pe,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[e.jsx(s,{colSpan:{md:2},children:e.jsx(re,{size:"sm",textTransform:"uppercase",children:t})}),e.jsxs(s,{colSpan:{md:2},children:[e.jsx(be,{fieldProps:{name:"tango_id",placeholder:i.tangoRelatedFields?.placeholder,options:E,noOptionsMessage(N){return i.tangoRelatedFields?.empty},isSearchable:!0,selectedOptionStyle:"check",isLoading:P instanceof me,virtualized:!0},formControlProps:{isDisabled:_||!(P instanceof fe)},formControlInnerProps:{label:i.tangoRelatedFields?.label},control:n}),P instanceof _e&&e.jsx(je,{error:P.errorOrNull().error})]}),e.jsx(s,{children:e.jsx(ie,{fieldProps:{name:"username",id:"username",type:"text"},formControlProps:{isDisabled:_},formControlInnerProps:{label:"Nombre de Usuario"},control:n})}),e.jsx(s,{children:e.jsx(xa,{fieldProps:{name:"password",id:"password"},formControlInnerProps:{label:"Contraseña"},passwordStatus:h,disableForm:_,control:n})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(ie,{fieldProps:{name:"email",id:"email",type:"text",inputMode:"email"},formControlProps:{isDisabled:_},formControlInnerProps:{label:"Correo electrónico"},control:n})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(G,{})}),e.jsxs(s,{colSpan:{md:2},children:[e.jsx(be,{fieldProps:{name:"perfil_facturacion_id",placeholder:"Seleccione un perfil",options:y,noOptionsMessage(N){return"No hay perfiles disponibles"},isLoading:m instanceof me,selectedOptionStyle:"check"},formControlProps:{isDisabled:_||!(m instanceof fe)},control:n,formControlInnerProps:{label:"Perfil de facturación"}}),m instanceof _e&&e.jsx(je,{error:m.errorOrNull().error})]}),e.jsxs(s,{children:[e.jsx(be,{fieldProps:{name:"id_lista_adicional",options:[{label:"NINGUNA",value:0},...M],noOptionsMessage(N){return"No hay listas adicionals"},isLoading:b instanceof me,selectedOptionStyle:"check"},formControlProps:{isDisabled:_||!(b instanceof fe)},formControlInnerProps:{label:"Lista de precios adicional"},control:n}),m instanceof _e&&e.jsx(je,{error:m.errorOrNull().error})]}),!R&&e.jsxs(s,{children:[e.jsx(Re,{isDisabled:R,children:e.jsx(Pa,{children:"Bonificación lista adicional (%)"})}),e.jsxs(v,{children:[e.jsx(ie,{formControlProps:{width:"auto",isDisabled:X},fieldProps:{name:"bonificacion_lista_adicional",id:"bonificacion_lista_adicional",type:"text",inputMode:"tel",textAlign:"end",htmlSize:5,maxLength:5,minWidth:120},control:n}),e.jsx(F,{fieldProps:{name:"bonificacion_lista_adicional_switch",id:"bonificacion_lista_adicional_switch"},formControlProps:{width:"auto",isDisabled:R},control:n})]})]}),k,e.jsx(s,{colSpan:{md:2},children:e.jsx(G,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(re,{size:"sm",textTransform:"uppercase",children:"Estado"})}),e.jsx(s,{colSpan:{md:2},children:e.jsx($a,{fieldProps:{name:"habilitado_en_dxt",options:[{value:!0,label:"Establecido en Tango"},{value:!1,label:"Deshabilitado"}]},formControlProps:{isDisabled:_},radioProps:{size:{base:"sm",sm:"md"}},control:n})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(G,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(re,{size:"sm",textTransform:"uppercase",children:"Comunicación"})}),e.jsx(s,{children:e.jsx(F,{fieldProps:{name:"mostrar_mensaje_de_advertencia",id:"mostrar_mensaje_de_advertencia"},formControlProps:{width:"auto",isDisabled:_},formControlInnerProps:{label:"Mostrar mensaje de advertencia"},control:n})})]})}),e.jsx(xe,{children:e.jsxs(Pe,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[e.jsx(s,{colSpan:{md:2},children:e.jsx(re,{size:"sm",textTransform:"uppercase",children:"Pedidos"})}),e.jsx(s,{colSpan:{md:2},children:e.jsxs(Se,{spacing:4,direction:{base:"column"},children:[e.jsx(v,{spacing:4,children:e.jsx(F,{fieldProps:{name:"puede_crear_pedido",id:"puede_crear_pedido"},formControlProps:{width:"auto",isDisabled:_},formControlInnerProps:{label:"Puede crear pedidos"},control:n})}),e.jsx(v,{spacing:4,children:e.jsx(F,{fieldProps:{name:"puede_editar_pedido",id:"puede_editar_pedido"},formControlProps:{width:"auto",isDisabled:_},formControlInnerProps:{label:"Puede editar pedidos"},control:n})}),e.jsx(v,{spacing:4,children:e.jsx(F,{fieldProps:{name:"puede_anular_pedido",id:"puede_anular_pedido"},formControlProps:{width:"auto",isDisabled:_},formControlInnerProps:{label:"Puede anular pedidos"},control:n})}),e.jsx(v,{spacing:4,children:e.jsx(F,{fieldProps:{name:"borrar_pedido_al_anular",id:"borrar_pedido_al_anular"},formControlProps:{width:"auto",isDisabled:_},formControlInnerProps:{label:"Borrar pedido al anular"},control:n,watch:{isDisabled:T===!1,...T===!1&&{isChecked:!1}}})}),e.jsx(v,{spacing:4,children:e.jsx(F,{fieldProps:{name:"aprobar_pedido_al_crear",id:"aprobar_pedido_al_crear"},formControlProps:{width:"auto",isDisabled:_},formControlInnerProps:{label:"Los pedidos se aprueban al crearlos"},control:n})}),e.jsx(v,{spacing:4,children:e.jsx(F,{fieldProps:{name:"ver_pedidos_cumplidos",id:"ver_pedidos_cumplidos"},formControlProps:{width:"auto",isDisabled:_},formControlInnerProps:{label:"Puede ver los pedidos cumplidos"},control:n})}),e.jsx(v,{spacing:4,children:e.jsx(F,{fieldProps:{name:"ver_sin_precio",id:"ver_sin_precio"},formControlProps:{width:"auto",isDisabled:_},formControlInnerProps:{label:"Puede ver artículos sin precio"},control:n})})]})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(G,{})}),e.jsx(s,{children:e.jsx(ie,{fieldProps:{name:"dia_de_entrega",id:"dia_de_entrega",type:"number",inputMode:"tel"},formControlProps:{isDisabled:_},formControlInnerProps:{label:"Tiempo de entrega (en días)"},control:n})}),e.jsx(s,{})]})}),e.jsx(xe,{children:e.jsx(ga,{buttonActionText:w?Qe:Ze,isLoading:_,hideCancelButton:!0})})]})})};function Io(o){const{typeSettings:a,id:i,returnUrl:r,title:t,schemaMaker:d,schemaDataToApiInput:f,useGetOneHook:x,saveUserCall:j}=o,{state:g,retry:C}=x(i);return g.map({loading:h=>e.jsx(ka,{}),error:({error:h})=>e.jsx(sa,{error:h,retry:C,cancelAndNavigateTo:ia}),success:h=>e.jsx(Le,{stateData:h.data,typeSettings:a,returnUrl:r,title:t,schemaMaker:d,schemaDataToApiInput:f,saveUserCall:j})})}function yo(o){const{typeSettings:a,returnUrl:i,title:r,schemaMaker:t,schemaDataToApiInput:d,saveUserCall:f}=o;return e.jsx(Le,{stateData:null,typeSettings:a,returnUrl:i,title:r,schemaMaker:t,schemaDataToApiInput:d,saveUserCall:f})}const Ha="admin",Oe={tango_id:Z().integer().min(1,"Seleccione un cliente de Tango").required("Seleccione un cliente de Tango").typeError("Seleccione un cliente de Tango"),username:ee().required("Ingrese un nombre de usuario").test("username","Ingrese un nombre de usuario válido",o=>ke(Sa,o)?o.toLowerCase()!=Ha:!1),email:ee().email("Ingrese un correo electrónico válido"),perfil_facturacion_id:Z().integer().min(1,"Seleccione un perfil de facturación").required("Seleccione un perfil de facturación").typeError("Seleccione un perfil de facturación"),id_lista_adicional:Z().integer(),bonificacion_lista_adicional:Z().when(["id_lista_adicional"],{is:o=>o>0,then:o=>o.required("Ingrese una bonificación válida").typeError("Ingrese una bonificación válida").min(0,"La bonificación debe encontrarse entre 0 y 100%").max(100,"La bonificación debe encontrarse entre 0 y 100%"),otherwise:o=>o}),bonificacion_lista_adicional_switch:L(),dia_de_entrega:Z().integer(`El tiempo de entrega de pedidos debe ser un un número entero entre ${ge} y ${Ce}`).min(ge,`El tiempo de entrega de pedidos debe ser mayor o igual a ${ge} días`).max(Ce,`El tiempo de entrega de pedidos no puede superar los ${Ce} días`).required("Ingrese el número de días para entrega de pedidos").typeError("Ingrese el número de días para entrega de pedidos"),habilitado_en_dxt:L().required(),puede_crear_pedido:L().required(),puede_editar_pedido:L().required(),ver_pedidos_cumplidos:L().required(),ver_sin_precio:L().required(),mostrar_mensaje_de_advertencia:L().required(),puede_anular_pedido:L().required(),borrar_pedido_al_anular:L().required(),aprobar_pedido_al_crear:L().required()},Ka={...Oe,password:ee()};ae(Ka);function le(o,a,i){return{...Oe,password:o.test("password","Formato de contraseña no válido",r=>{if(r!=""&&r!=null){let t=ba(r);return ra.isEqual(a,t)||i(t),ke(ja,r)}return!0})}}const Fe={},Me={},Ve=ee(),qe=ee().required("Ingrese una contraseña");function Eo(o,a){const i=le(qe,o,a);return ae({...i,...Me}).required()}function wo(o,a){const i=le(Ve,o,a);return ae({...i,...Fe,...Me}).required()}function Ao(o,a){const i=le(qe,o,a);return ae(i).required()}function Ro(o,a){const i=le(Ve,o,a);return ae({...i,...Fe}).required()}function de(o){const{id_lista_adicional:a,bonificacion_lista_adicional_switch:i,bonificacion_lista_adicional:r,...t}=o,d=a!=null&&a>0;return{...t,id_lista_adicional:d?a:void 0,bonificacion_lista_adicional:d&&i===!0?r:void 0}}function ko(o){const{password:a,...i}=de(o);return a==null?null:{...i,password:a}}function To(o){const{...a}=de(o);return{...a}}function No(o){const{password:a,...i}=de(o);return a==null?null:{...i,password:a}}function Uo(o){const{...a}=de(o);return{...a}}export{Io as D,yo as a,Eo as b,No as c,Ao as d,ko as e,Ro as f,To as g,wo as m,Uo as t};
