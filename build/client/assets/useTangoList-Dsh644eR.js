import{u as c}from"./useDXTApiFetch-D7fvlkDE.js";const b=r=>{const{data:s,fieldsMap:e,disabledIcon:n}=r,t=[];return s.length&&s.forEach(l=>{const a=Array.isArray(e?.label)?e.label.map(o=>l[o]).join(" - "):l[e?.label??"name"];t.push({label:a,value:l[e?.value??"id"],...e?.selected!=null&&{selected:l[e.selected]},...e?.isEnabled!=null&&{isDisabled:!l[e.isEnabled]},...e?.isEnabled!=null&&n!=null&&!l[e?.isEnabled]&&{icon:n}})}),t.sort(({label:l},{label:a})=>l.localeCompare(a))};function p(r){const{endpoint:s,params:e,fieldsMap:n,disabledIcon:t}=r,{state:l,retry:a}=c({...s,silent:!0,params:e}),o=l.mapOrElse({success:i=>{const u=i.data;return b({data:u,fieldsMap:n,disabledIcon:t})},orElse:()=>[]});return{state:l,result:o}}export{b,p as u};
