import{g as j,r as d,j as o,u as Z,a as J}from"./emotion-element-5486c51c.browser.esm-CMT9BBIk.js";import{I as g,B as K,b4 as X,b5 as Y,b6 as q,b7 as Q,a6 as tt,aJ as et,U as $}from"./auth_context-CCfWU2Jo.js";import{s as rt}from"./settings-DlwZkTBe.js";import{t as nt,u as ot,v as at,w as st,I as it,B as ct}from"./app-DHK1Xtws.js";import{C as lt}from"./CommonErrors-Dv5kaEHh.js";import{C as mt,S as ut}from"./SettingsFormHeading-389CUOcW.js";import{A as dt}from"./ApiErrors-Blpol96Y.js";import{F as _,a as ft}from"./FormSkeletons-Ch1cmlVo.js";import{B as z}from"./chunk-PULVB27S-C1tz_n3L.js";import{G as y,a as u}from"./chunk-ZPFGWTBB-Bu2gzu07.js";import{i as pt}from"./AccountCancelIcon-B2VjX7I2.js";import{u as ht,T as H,A as gt,C as vt}from"./ConfirmationDialog-B2vV8YvE.js";import{u as xt}from"./app_resources-Di8KxAHS.js";import{u as jt,S as bt}from"./SearchField-gbhuOeMX.js";import{C as It}from"./CommonCard-CfkzH5Am.js";import{V as Ct}from"./chunk-NTCQBYKE-BqJT1CcA.js";import{H as D}from"./chunk-3ASUQ6PA-BkEgKCWb.js";import{I as C}from"./chunk-6QYXN73V-tPml5wjb.js";import{T as Pt,a as St}from"./chunk-MGVPL3OH-DdtIvv8f.js";import{T as At,b as R,a as Et,c as B}from"./chunk-T2WCTPDH-B3SegIkI.js";import{u as Tt}from"./chunk-6RSEZNRH-p2hFl890.js";import{A as Ot}from"./chunk-3KCBMPN5-D8G8ZRLu.js";import{A as _t,b as Rt}from"./chunk-QURMB2UJ-Dpy63TOY.js";import{F as $t}from"./chunk-KRPLQIP4-Duu5zv9H.js";import"./useDXTApiFetch-D7fvlkDE.js";import"./CloseIcon-B6Be6esX.js";import"./chunk-2OOHT3W5-CC38uFWT.js";import"./ResponsiveIconButton-CQwgfxML.js";import"./chunk-VMD3UMGK-D9IL_j_8.js";import"./chunk-BL2ZZSHG-BDLdsFeM.js";import"./chunk-7OLJDQMT-DqhdIuo6.js";import"./components-BuCL6aou.js";import"./chunk-W7WUSNWJ-CwvPeB9a.js";import"./chunk-2ZHRCML3-Cd9Yb1VE.js";import"./chunk-6CVSDS6C-BMnlnkqH.js";import"./chunk-56K2BSAJ-Bys-b2nt.js";import"./chunk-YQO7BFFX-BA4DVzl3.js";import"./chunk-MFVQSVQB-Bvk0kezP.js";import"./chunk-3Y4YXCR2-WVOthZPF.js";import"./index-BtnUei1e.js";function zt(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var P=zt(d),yt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dt=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},M=function(e){var r=e.color,n=r===void 0?"currentColor":r,a=e.size,s=a===void 0?24:a;e.children;var i=Dt(e,["color","size","children"]),l="mdi-icon "+(i.className||"");return P.createElement("svg",yt({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),P.createElement("path",{d:"M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z"}))},wt=P.memo?P.memo(M):M,Nt=wt;const Lt=j(Nt),Ht=()=>o.jsx(z,{width:"full",sx:{mt:8,mb:4},children:o.jsxs(y,{templateColumns:"1fr",gap:{base:2,md:4},children:[o.jsx(u,{children:o.jsx(_,{})}),o.jsx(u,{children:o.jsx(_,{})}),o.jsx(u,{children:o.jsx(ft,{height:"400px"})}),o.jsx(u,{children:o.jsx(_,{})})]})});function Bt(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var S=Bt(d),Mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vt=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},V=function(e){var r=e.color,n=r===void 0?"currentColor":r,a=e.size,s=a===void 0?24:a;e.children;var i=Vt(e,["color","size","children"]),l="mdi-icon "+(i.className||"");return S.createElement("svg",Mt({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),S.createElement("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}))},Ft=S.memo?S.memo(V):V,Ut=Ft;const kt=j(Ut);function Gt(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var A=Gt(d),Wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zt=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},F=function(e){var r=e.color,n=r===void 0?"currentColor":r,a=e.size,s=a===void 0?24:a;e.children;var i=Zt(e,["color","size","children"]),l="mdi-icon "+(i.className||"");return A.createElement("svg",Wt({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),A.createElement("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}))},Jt=A.memo?A.memo(F):F,Kt=Jt;const Xt=j(Kt),w="{left}",N="{right}",I=(t,e)=>{let r=e-t+1;return Array.from({length:r},(n,a)=>a+t)},Yt=({totalCount:t,pageSize:e,siblingCount:r=1,currentPage:n})=>d.useMemo(()=>{const s=Math.ceil(t/e);if(r+5>=s)return I(1,s);const l=Math.max(n-r,1),h=Math.min(n+r,s),f=l>2,m=h<s-2,v=1,x=s;if(!f&&m){let p=3+2*r;return[...I(1,p),w,s]}if(f&&!m){let p=3+2*r,b=I(s-p+1,s);return[v,N,...b]}if(f&&m){let p=I(l,h);return[v,w,...p,N,x]}},[t,e,r,n]);function qt(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var E=qt(d),Qt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},te=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},U=function(e){var r=e.color,n=r===void 0?"currentColor":r,a=e.size,s=a===void 0?24:a;e.children;var i=te(e,["color","size","children"]),l="mdi-icon "+(i.className||"");return E.createElement("svg",Qt({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),E.createElement("path",{d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}))},ee=E.memo?E.memo(U):U,re=ee;const ne=j(re);function oe(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var T=oe(d),ae=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},se=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},k=function(e){var r=e.color,n=r===void 0?"currentColor":r,a=e.size,s=a===void 0?24:a;e.children;var i=se(e,["color","size","children"]),l="mdi-icon "+(i.className||"");return T.createElement("svg",ae({},i,{className:l,width:s,height:s,fill:n,viewBox:"0 0 24 24"}),T.createElement("path",{d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}))},ie=T.memo?T.memo(k):k,ce=ie;const le=j(ce),me=t=>{const{onPageChange:e,totalCount:r,siblingCount:n=1,currentPage:a,pageSize:s}=t,i=Yt({currentPage:a,totalCount:r,siblingCount:n,pageSize:s});if(!i||a===0||i.length<2)return null;const l=()=>{e(a+1)},h=()=>{e(a-1)};let f=i[i.length-1];return o.jsxs(Ct,{children:[o.jsx(D,{spacing:1,wrap:"wrap",justifyContent:"center",children:i.map(m=>m===w||m===N?o.jsx(g,{as:le,boxSize:3},`page-${m}`):o.jsx(K,{colorScheme:m===a?"blue":"gray",size:{base:"sm",md:"md"},onClick:()=>e(m),children:m},`button-${m}`))}),o.jsxs(D,{children:[o.jsx(C,{"aria-label":X,size:{base:"sm",md:"md"},onClick:h,isDisabled:a===1,children:o.jsx(g,{as:mt})}),o.jsx(C,{"aria-label":Y,size:{base:"sm",md:"md"},onClick:l,isDisabled:a===f,children:o.jsx(g,{as:ne})})]})]})},ue=t=>{const{stateData:e,retry:r,typeSettings:n}=t,a=xt(),s=Tt(),i=ht(),{filteredData:l,handleSearchInputChange:h,isFiltering:f}=jt(e,["screen_name","username"]),[m,v]=d.useState(1),x=10,p=d.useMemo(()=>{const c=(m-1)*x,O=c+x;return l.slice(c,O)},[m,l]);d.useEffect(()=>{v(1)},[f]);const b=async function(c,O){await i({title:ot,message:at})==vt.accept&&(await n.api.delete(c,{username:O},a)).map({success:L=>{s({title:st,status:"success"}),e.splice(e.findIndex(W=>W.id===c),1),h()},error:L=>{s({title:L.errorInfoOrNull()?.error_description??tt,status:"error"})}})},G=c=>()=>{a.navigate(et(n.editButtonNavigateTo,{id:c}))};return o.jsxs(It,{children:[o.jsx(z,{sx:{pb:4},children:o.jsx(bt,{handleSearchInputChange:h})}),o.jsx(z,{children:o.jsxs(At,{variant:"grayOverCard",size:"md",children:[o.jsx(Pt,{children:o.jsx(R,{children:o.jsx(St,{sx:{p:{base:2,md:4}},children:o.jsxs(y,{templateColumns:{base:"3fr 1fr 2fr",md:"3fr 3fr 1fr 2fr"},gap:{base:2,md:4},children:[o.jsx(u,{children:"Nombre completo"}),o.jsx(u,{sx:{display:{base:"none",md:"block"}},children:"Nombre de usuario"}),o.jsx(u,{textAlign:"center",children:"Estado"}),o.jsx(u,{})]})})})}),o.jsx(Et,{children:p.length>0?p.map(c=>o.jsx(R,{children:o.jsx(B,{sx:{p:{base:2,md:4}},children:o.jsxs(y,{templateColumns:{base:"3fr 1fr 2fr",md:"3fr 3fr 1fr 2fr"},gap:{base:2,md:4},alignItems:"center",children:[o.jsx(u,{children:o.jsx(H,{breakType:"normal",children:c.screen_name})}),o.jsx(u,{sx:{display:{base:"none",md:"block"}},children:o.jsx(H,{breakType:"normal",children:c.username})}),o.jsx(u,{textAlign:"center",children:o.jsx(g,{as:c.habilitado_en_dxt&&c.usuario_tango_existe&&c.habilitado_en_tango===!0?gt:pt,boxSize:6,color:q(c)})}),o.jsx(u,{children:o.jsxs(D,{justifyContent:"center",children:[o.jsx(C,{"aria-label":"Eliminar",size:"sm",colorScheme:"red",onClick:async()=>{await b(c.id,c.username)},children:o.jsx(g,{as:Xt,boxSize:4})}),o.jsx(C,{"aria-label":"Editar",size:"sm",colorScheme:"blue",onClick:G(c.id),children:o.jsx(g,{as:kt,boxSize:4})})]})})]})})},`row_${c.id}`)):o.jsx(R,{children:o.jsx(B,{children:o.jsxs(Ot,{status:"info",children:[o.jsx(_t,{}),o.jsx(Rt,{children:f?Q:nt})]})})})})]})}),o.jsx($t,{sx:{pt:4,justifyContent:"center"},children:o.jsx(me,{currentPage:m,totalCount:l.length,pageSize:x,onPageChange:c=>v(c)})})]})},de=t=>{const{typeSettings:e}=t,{state:r,retry:n}=e.api.getAll();return r.map({loading:a=>o.jsx(Ht,{}),error:({error:a})=>o.jsx(dt,{error:a,retry:n,cancelAndNavigateTo:$}),success:a=>o.jsx(ue,{stateData:a.data,retry:n,typeSettings:e})})};function er(){const t=Z(),{type:e}=J(),r=rt[e];return e!=null&&r!=null?o.jsxs(o.Fragment,{children:[o.jsx(ut,{title:r.titles.common,returnButton:{buttonProps:{onClick:()=>{t($)}}},actionButton:{label:r.titles.create,icon:Lt,buttonProps:{onClick:()=>{r.actionButtonNavigateTo!=null&&t(r.actionButtonNavigateTo)}}}}),o.jsx(de,{typeSettings:r})]}):o.jsx(lt,{error:it,buttonProps:{label:ct,colorScheme:"gray",onClick:()=>{t($)}}})}export{er as default};
