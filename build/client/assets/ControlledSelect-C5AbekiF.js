import{j as a,r as g}from"./emotion-element-43c6fea0.browser.esm-Bukkp3pI.js";import{u as M,F as P}from"./yup-DmufeRdH.js";import{F as j}from"./index.esm-R70fV0CN.js";import{i as b,L}from"./auth_context-By8qlCOz.js";import{a as F}from"./app-ChKZjo6p.js";import{u as O}from"./app_resources-0MHmsA5u.js";import{S as R,c as y,a as B}from"./select-DHDuYCjb.js";import{F as I,a as k}from"./chunk-56K2BSAJ-HKDUOZgn.js";const H=e=>typeof e=="string"&&["sm","md","lg"].includes(e),T=e=>H(e)?e:e==="xs"?"sm":e==="xl"?"lg":"md",V=e=>{const t=L(),l=T(t.components.Input.defaultProps.size),n=e??l;return O(typeof n=="string"?[n]:n,{fallback:"md"})||l},A=e=>{var v;const{className:t,cx:l,innerRef:n,children:u,maxHeight:m,isMulti:c,innerProps:d,selectProps:{chakraStyles:o,size:f,variant:h,focusBorderColor:p,errorBorderColor:x}}=e,S=b("Menu"),r=V(f),s=b("Input",{size:r,variant:h,focusBorderColor:p,errorBorderColor:x}).field,C={...S.list,minW:"100%","--input-border-radius":s==null?void 0:s["--input-border-radius"],borderRadius:(s==null?void 0:s.borderRadius)||((v=S.list)==null?void 0:v.borderRadius),position:"relative"},z=o!=null&&o.menuList?o.menuList(C,e):C;return a.jsx(F,{role:"listbox",...d,className:l({"menu-list":!0,"menu-list--is-multi":c},t),sx:z,children:u})},D=g.memo(function(e){const{children:t,...l}=e,n=35,{options:u,maxHeight:m,getValue:c}=e,[d]=c(),o=u.indexOf(d),f=Math.floor(m/n),h=o>f?o*n:0,p=Math.min(u.length*n,m);return a.jsx(A,{...e,children:a.jsx(j,{height:p+2,itemCount:g.Children.count(t),itemSize:n,initialScrollOffset:h,width:"100%",outerRef:e.innerRef,overscanCount:20,children:({index:x,style:S})=>a.jsx("div",{style:S,children:g.Children.toArray(t)[x]})})})}),Q=e=>{const{fieldProps:t,formControlProps:l,formControlInnerProps:n,control:u,shouldSort:m}=e,{helperText:c,label:d}=n||{};function o(r,i){return r.label.localeCompare(i.label)}(m??!1)&&t.options.sort(o);const{field:{ref:f,onChange:h,value:p},fieldState:{invalid:x},formState:{errors:S}}=M({name:t.name,control:u});return a.jsxs(I,{...l,isInvalid:x,children:[a.jsx(P,{sx:t.variant==="flushed"?{fontSize:"sm",mb:0}:{},children:d}),a.jsx(R,{...t,ref:f,value:t.options.find(r=>r.value===p),filterOption:y({ignoreAccents:!1}),onChange:(r,i)=>h(r.value),useBasicStyles:!0,isSearchable:t.options.length>10?t.isSearchable:!1,instanceId:t.name,chakraStyles:{option:(r,i)=>({...r,...t.virtualized===!0&&{fontSize:{base:"xs",sm:"sm",md:"md"}}})},components:{...t.virtualized===!0&&{MenuList:D},Option:({children:r,...i})=>{t.virtualized===!0&&(delete i.innerProps.onMouseMove,delete i.innerProps.onMouseOver);const s=i.data;return a.jsxs(B.Option,{...i,children:[r," ",s.icon!=null&&s.icon]})}}}),c!=null&&a.jsx(k,{children:c})]})};export{Q as C};
