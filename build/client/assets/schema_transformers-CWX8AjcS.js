import{r as m,j as e,p as We}from"./emotion-element-43c6fea0.browser.esm-Cuif_eEn.js";import{z as Xe,aM as Ye,O as Qe,an as Ee,j as Ze,f as Te,c as se,d as Je,P as y,R as N,Q as _e,i as er,o as rr,ad as ar,b6 as ir,a4 as te,I as Re,h as or,b7 as sr,b8 as nr,l as tr,a1 as lr,U as dr,_ as cr}from"./auth_context-B-Tcig0k.js";import{A as ur}from"./ApiErrors-GUSgL-Xy.js";import{F as l}from"./FormSkeletons-CoMZNYRx.js";import{G as Se,a as s}from"./chunk-ZPFGWTBB-CfuIyNTX.js";import{H as I}from"./chunk-3ASUQ6PA-ByZtqmzd.js";import{S as De}from"./chunk-ZHMYA64R-Cq5LpG9O.js";import{a as Ue,F as pr,G as mr}from"./app-BdYyDs5S.js";import{D as $}from"./chunk-W7WUSNWJ-CDK2m9PS.js";import{u as Ne,o as ke,d as _r,e as ee,a as re,f as E,c as ae}from"./index.esm-DXKbKlYo.js";import{a as fe,F as he,b as xe}from"./useDXTApiFetch-_LSStUNh.js";import{i as fr}from"./AccountCancelIcon-hUm3w097.js";import{u as hr,a as xr}from"./app_resources-CDkSSx5t.js";import{u as be,C as je}from"./ControlledSelect-CjhzTTii.js";import{C as ge}from"./CommonCard-BQfjnTT7.js";import{C as ie}from"./ControlledInput-DsnpheB0.js";import{u as br,F as Ie,a as jr}from"./chunk-56K2BSAJ-r8NF7IGV.js";import{t as gr}from"./chunk-7D6N5TE5-D0DQFTJl.js";import{S as Pr}from"./chunk-VTV6N5LE-B6EGXpGg.js";import{F as Fe}from"./chunk-H46NUPBZ-Cf5o4NPi.js";import{F as vr}from"./FormErrors-DgI5zxIH.js";import{P as Cr,d as Sr,V as Dr}from"./vo_dxt_password-DAHb5cpG.js";import{I as Pe}from"./InlineError-DCz4eDK0.js";import{S as Ir}from"./SettingsFormButtons-Cbuywpud.js";import{H as oe}from"./chunk-7OLJDQMT-DB_eYbVs.js";import{y as Le}from"./utils-DihYaFf6.js";import{V as yr}from"./vo_user_name-DWPGqLsA.js";class ye extends Xe{validate(r){let o=r;typeof o!="string"&&this.throwError(r);try{if(Ye.isUUID(o,4))return o}catch{}this.throwError(r)}static random(){return new ye(wr())}}function wr(){let a=new Date().getTime(),r=0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){let i=Math.random()*16;return a>0?(i=(a+i)%16|0,a=Math.floor(a/16)):(i=(r+i)%16|0,r=Math.floor(r/16)),(o==="x"?i:i&3|8).toString(16)})}function Er(a){return a&&Ee(a)&&Ee(a.target)}function Rr(a={}){const{onChange:r,value:o,defaultValue:i,name:t,isDisabled:d,isFocusable:c,isNative:x,...j}=a,[g,b]=m.useState(i||""),f=typeof o<"u",_=f?o:g,v=m.useRef(null),C=m.useCallback(()=>{const u=v.current;if(!u)return;let n="input:not(:disabled):checked";const S=u.querySelector(n);if(S){S.focus();return}n="input:not(:disabled)";const D=u.querySelector(n);D==null||D.focus()},[]),P=`radio-${m.useId()}`,V=t||P,k=m.useCallback(u=>{const n=Er(u)?u.target.value:u;f||b(n),r==null||r(String(n))},[r,f]),G=m.useCallback((u={},n=null)=>({...u,ref:Qe(n,v),role:"radiogroup"}),[]),T=m.useCallback((u={},n=null)=>({...u,ref:n,name:V,[x?"checked":"isChecked"]:_!=null?u.value===_:void 0,onChange(D){k(D)},"data-radiogroup":!0}),[x,V,k,_]);return{getRootProps:G,getRadioProps:T,name:V,ref:v,focus:C,setValue:b,value:_,onChange:k,isDisabled:d,isFocusable:c,htmlProps:j}}var[kr,Oe]=Ze({name:"RadioGroupContext",strict:!1}),Me=Te((a,r)=>{const{colorScheme:o,size:i,variant:t,children:d,className:c,isDisabled:x,isFocusable:j,...g}=a,{value:b,onChange:f,getRootProps:_,name:v,htmlProps:C}=Rr(g),R=m.useMemo(()=>({name:v,size:i,onChange:f,colorScheme:o,value:b,variant:t,isDisabled:x,isFocusable:j}),[v,i,f,o,b,t,x,j]);return e.jsx(kr,{value:R,children:e.jsx(se.div,{..._(C,r),className:Je("chakra-radio-group",c),children:d})})});Me.displayName="RadioGroup";var Ar={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function Tr(a={}){const{defaultChecked:r,isChecked:o,isFocusable:i,isDisabled:t,isReadOnly:d,isRequired:c,onChange:x,isInvalid:j,name:g,value:b,id:f,"data-radiogroup":_,"aria-describedby":v,...C}=a,R=`radio-${m.useId()}`,P=br(),k=!!Oe()||!!_;let T=!!P&&!k?P.id:R;T=f??T;const u=t??(P==null?void 0:P.isDisabled),n=d??(P==null?void 0:P.isReadOnly),S=c??(P==null?void 0:P.isRequired),D=j??(P==null?void 0:P.isInvalid),[L,X]=m.useState(!1),[q,W]=m.useState(!1),[U,B]=m.useState(!1),[H,w]=m.useState(!1),[h,ce]=m.useState(!!r),Y=typeof o<"u",O=Y?o:h;m.useEffect(()=>gr(X),[]);const Q=m.useCallback(p=>{if(n||u){p.preventDefault();return}Y||ce(p.target.checked),x==null||x(p)},[Y,u,n,x]),Z=m.useCallback(p=>{p.key===" "&&w(!0)},[w]),J=m.useCallback(p=>{p.key===" "&&w(!1)},[w]),A=m.useCallback((p={},K=null)=>({...p,ref:K,"data-active":y(H),"data-hover":y(U),"data-disabled":y(u),"data-invalid":y(D),"data-checked":y(O),"data-focus":y(q),"data-focus-visible":y(q&&L),"data-readonly":y(n),"aria-hidden":!0,onMouseDown:N(p.onMouseDown,()=>w(!0)),onMouseUp:N(p.onMouseUp,()=>w(!1)),onMouseEnter:N(p.onMouseEnter,()=>B(!0)),onMouseLeave:N(p.onMouseLeave,()=>B(!1))}),[H,U,u,D,O,q,n,L]),{onFocus:z,onBlur:M}=P??{},ue=m.useCallback((p={},K=null)=>{const we=u&&!i;return{...p,id:T,ref:K,type:"radio",name:g,value:b,onChange:N(p.onChange,Q),onBlur:N(M,p.onBlur,()=>W(!1)),onFocus:N(z,p.onFocus,()=>W(!0)),onKeyDown:N(p.onKeyDown,Z),onKeyUp:N(p.onKeyUp,J),checked:O,disabled:we,readOnly:n,required:S,"aria-invalid":_e(D),"aria-disabled":_e(we),"aria-required":_e(S),"data-readonly":y(n),"aria-describedby":v,style:Ar}},[u,i,T,g,b,Q,M,z,Z,J,O,n,S,D,v]);return{state:{isInvalid:D,isFocused:q,isChecked:O,isActive:H,isHovered:U,isDisabled:u,isReadOnly:n,isRequired:S},getCheckboxProps:A,getRadioProps:A,getInputProps:ue,getLabelProps:(p={},K=null)=>({...p,ref:K,onMouseDown:N(p.onMouseDown,Ur),"data-disabled":y(u),"data-checked":y(O),"data-invalid":y(D)}),getRootProps:(p,K=null)=>({...p,ref:K,"data-disabled":y(u),"data-checked":y(O),"data-invalid":y(D)}),htmlProps:C}}function Ur(a){a.preventDefault(),a.stopPropagation()}function Nr(a,r){const o={},i={};for(const[t,d]of Object.entries(a))r.includes(t)?o[t]=d:i[t]=d;return[o,i]}var Ve=Te((a,r)=>{var o;const i=Oe(),{onChange:t,value:d}=a,c=er("Radio",{...i,...a}),x=rr(a),{spacing:j="0.5rem",children:g,isDisabled:b=i==null?void 0:i.isDisabled,isFocusable:f=i==null?void 0:i.isFocusable,inputProps:_,...v}=x;let C=a.isChecked;(i==null?void 0:i.value)!=null&&d!=null&&(C=i.value===d);let R=t;i!=null&&i.onChange&&d!=null&&(R=ar(i.onChange,t));const P=(o=a==null?void 0:a.name)!=null?o:i==null?void 0:i.name,{getInputProps:V,getCheckboxProps:k,getLabelProps:G,getRootProps:T,htmlProps:u}=Tr({...v,isChecked:C,isFocusable:f,isDisabled:b,onChange:R,name:P}),[n,S]=Nr(u,ir),D=k(S),L=V(_,r),X=G(),q=Object.assign({},n,T()),W={display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative",...c.container},U={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,...c.control},B={userSelect:"none",marginStart:j,...c.label};return e.jsxs(se.label,{className:"chakra-radio",...q,__css:W,children:[e.jsx("input",{className:"chakra-radio__input",...L}),e.jsx(se.span,{className:"chakra-radio__control",...D,__css:U}),g&&e.jsx(se.span,{className:"chakra-radio__label",...X,__css:B,children:g})]})});Ve.displayName="Radio";const Fr=()=>e.jsx(Ue,{width:"full",sx:{mt:8,mb:4},children:e.jsxs(Se,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"center",gap:4,children:[e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx($,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx($,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx($,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(l,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsxs(De,{spacing:4,direction:{base:"column"},children:[e.jsx(I,{spacing:4,children:e.jsx(l,{})}),e.jsx(I,{spacing:4,children:e.jsx(l,{})}),e.jsx(I,{spacing:4,children:e.jsx(l,{})}),e.jsx(I,{spacing:4,children:e.jsx(l,{})}),e.jsx(I,{spacing:4,children:e.jsx(l,{})}),e.jsx(I,{spacing:4,children:e.jsx(l,{})}),e.jsx(I,{spacing:4,children:e.jsx(l,{})}),e.jsx(I,{spacing:4,children:e.jsx(l,{})})]})}),e.jsx(s,{colSpan:{md:2},children:e.jsx($,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})}),e.jsx(s,{children:e.jsx(l,{})})]})});function Lr(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var ne=Lr(m),Or=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(a[i]=o[i])}return a},Mr=function(a,r){var o={};for(var i in a)r.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(a,i)&&(o[i]=a[i]);return o},Ae=function(r){var o=r.color,i=o===void 0?"currentColor":o,t=r.size,d=t===void 0?24:t;r.children;var c=Mr(r,["color","size","children"]),x="mdi-icon "+(c.className||"");return ne.createElement("svg",Or({},c,{className:x,width:d,height:d,fill:i,viewBox:"0 0 24 24"}),ne.createElement("path",{d:"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z"}))},Vr=ne.memo?ne.memo(Ae):Ae,Gr=Vr;const qr=We(Gr),zr=te("/tango/lista","GET"),$r=te("/tango/perfil","GET"),Br=te("/tango/cliente","GET"),Hr=te("/tango/vendedor","GET"),Kr=a=>{const{fieldProps:r,formControlProps:o,formControlInnerProps:i,stackProps:t,radioProps:d,control:c}=a,{name:x}=r,{helperText:j}=i||{},{field:{ref:g,onChange:b,value:f},fieldState:{invalid:_},formState:{errors:v}}=Ne({name:r.name,control:c});return e.jsxs(Ie,{...o,isInvalid:_,children:[e.jsx(Me,{...r,onChange:b,value:f.toString(),ref:g,children:e.jsx(De,{direction:"row",spacing:4,...t,children:r.options.map((C,R)=>e.jsx(Ve,{value:C.value.toString(),...d,children:C.label},`${x}-option-${R}`))})}),j!=null&&e.jsx(jr,{children:j})]})},F=a=>{const{fieldProps:r,formControlProps:o,formControlInnerProps:i,control:t,watch:d}=a,{label:c}=i||{},{field:{ref:x,onChange:j,onBlur:g,value:b},fieldState:{invalid:f},formState:{errors:_}}=Ne({name:r.name,control:t});return e.jsxs(Ie,{display:"flex",alignItems:"center",...o,isInvalid:f,children:[e.jsx(Pr,{...r,...d,isChecked:b,onChange:v=>j(v.target.checked),onBlur:g,ref:x}),c!=null&&e.jsx(Fe,{htmlFor:r.id,sx:{mb:0,ms:4},color:r.isDisabled===!0?"gray.500":void 0,cursor:"pointer",children:c})]})};function Wr(a){const[r,o]=m.useState(null);return{yupValidationSchema:a(r,o),passwordStatus:r}}const ve=0,Ce=365,Xr=30,Ge=a=>{var Z,J;const{stateData:r,typeSettings:o,returnUrl:i,title:t,schemaMaker:d,schemaDataToApiInput:c,saveUserCall:x}=a;m.useRef(ye.random().valueOf());const j=hr(),g=xr(),{yupValidationSchema:b,passwordStatus:f}=Wr(d),{state:_,result:v}=be({endpoint:$r,fieldsMap:{label:"name",value:"id"}}),{state:C,result:R}=be({endpoint:o.userType==="cliente"?Br:Hr,fieldsMap:{label:"screen_name",value:"id",isEnabled:"habilitado"},disabledIcon:e.jsx(Re,{as:fr,color:"red.400",ml:2,boxSize:5})}),{state:P,result:V}=be({endpoint:zr,fieldsMap:{label:"nombre",value:"id",isEnabled:"habilitada"},disabledIcon:e.jsx(Re,{as:qr,color:"red.400",ml:2,boxSize:5})}),k=r!==null;let G;k?G={username:r.username,email:r.email??"",tango_id:r.tango_id,id_lista_prioritaria:r.id_lista_prioritaria===null?0:r.id_lista_prioritaria,bonificacion_lista_prioritaria:r.bonificacion_lista_prioritaria===null?0:r.bonificacion_lista_prioritaria,bonificacion_lista_prioritaria_switch:r.bonificacion_lista_prioritaria!=null,lista_prioritaria_vendedor:r.lista_prioritaria_vendedor!=null?r.lista_prioritaria_vendedor:!1,perfil_facturacion_id:r.perfil_facturacion_id,habilitado_en_dxt:r.habilitado_en_dxt,puede_crear_pedido:r.puede_crear_pedido,puede_editar_pedido:r.puede_editar_pedido,puede_anular_pedido:r.puede_anular_pedido,borrar_pedido_al_anular:r.borrar_pedido_al_anular,aprobar_pedido_al_crear:r.aprobar_pedido_al_crear,ver_pedidos_cumplidos:r.ver_pedidos_cumplidos,ver_sin_precio:r.ver_sin_precio,mostrar_mensaje_de_advertencia:r.mostrar_mensaje_de_advertencia,dia_de_entrega:r.dia_de_entrega}:G={username:"",password:"",email:"",tango_id:0,perfil_facturacion_id:0,id_lista_prioritaria:0,bonificacion_lista_prioritaria:0,bonificacion_lista_prioritaria_switch:!1,lista_prioritaria_vendedor:!1,habilitado_en_dxt:!0,puede_crear_pedido:!0,puede_editar_pedido:!0,ver_pedidos_cumplidos:!0,ver_sin_precio:!1,mostrar_mensaje_de_advertencia:!1,puede_anular_pedido:!1,borrar_pedido_al_anular:!1,aprobar_pedido_al_crear:!1,dia_de_entrega:Xr};const T=b.fields.lista_prioritaria_vendedor!=null;ke(b);const{handleSubmit:u,control:n,resetField:S,setError:D,watch:L,formState:{errors:X,isSubmitting:q,isSubmitSuccessful:W}}=_r({defaultValues:G,resolver:ke(b)}),U=L("puede_anular_pedido"),B=L("perfil_facturacion_id"),H=L("bonificacion_lista_prioritaria_switch"),w=L("id_lista_prioritaria");m.useEffect(()=>{U===!1&&S("borrar_pedido_al_anular",{defaultValue:!1})},[U]),m.useEffect(()=>{var A;if(H===!1&&_.isSuccess()){const z=((A=_.data.find(M=>M.id===B))==null?void 0:A.bonificacion)??0;S("bonificacion_lista_prioritaria",{defaultValue:z})}w===0?(S("bonificacion_lista_prioritaria",{defaultValue:0}),S("bonificacion_lista_prioritaria_switch",{defaultValue:!1})):S("lista_prioritaria_vendedor",{defaultValue:!1})},[_.isSuccess(),w,H,B]);const h=W||q,ce=async A=>{const{bonificacion_lista_prioritaria_switch:z,...M}=A,ue={...A,email:M.email===""?void 0:M.email,password:M.password===""?void 0:M.password},pe=c(ue);if(pe==null){g({title:nr(tr.INVALID_PARAMETER),status:"error"});return}(await x(pe,j)).map({success:me=>{g({title:k?pr:mr,status:"success"}),j.navigate(i)},error:me=>{g({title:lr,status:"error"}),D("root",{message:me.info.error_description})}})},Y=h||w===0||H===!1,O=!h&&w!==0,Q=h||w===0;return e.jsx("form",{noValidate:!0,onSubmit:u(ce),children:e.jsxs(Ue,{children:[e.jsx(vr,{errors:X}),e.jsx(ge,{children:e.jsxs(Se,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[e.jsx(s,{colSpan:{md:2},children:e.jsx(oe,{size:"sm",textTransform:"uppercase",children:t})}),e.jsxs(s,{colSpan:{md:2},children:[e.jsx(je,{fieldProps:{name:"tango_id",placeholder:(Z=o.tangoRelatedFields)==null?void 0:Z.placeholder,options:R,noOptionsMessage(A){var z;return(z=o.tangoRelatedFields)==null?void 0:z.empty},isSearchable:!0,selectedOptionStyle:"check",isLoading:C instanceof fe,virtualized:!0},formControlProps:{isDisabled:h||!(C instanceof he)},formControlInnerProps:{label:(J=o.tangoRelatedFields)==null?void 0:J.label},control:n}),C instanceof xe&&e.jsx(Pe,{error:C.errorOrNull().error})]}),e.jsx(s,{children:e.jsx(ie,{fieldProps:{name:"username",id:"username",type:"text"},formControlProps:{isDisabled:h},formControlInnerProps:{label:"Nombre de Usuario"},control:n})}),e.jsx(s,{children:e.jsx(Cr,{fieldProps:{name:"password",id:"password"},formControlInnerProps:{label:"Contraseña"},passwordStatus:f,disableForm:h,control:n})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(ie,{fieldProps:{name:"email",id:"email",type:"text",inputMode:"email"},formControlProps:{isDisabled:h},formControlInnerProps:{label:"Correo electrónico"},control:n})}),e.jsx(s,{colSpan:{md:2},children:e.jsx($,{})}),e.jsxs(s,{colSpan:{md:2},children:[e.jsx(je,{fieldProps:{name:"perfil_facturacion_id",placeholder:"Seleccione un perfil",options:v,noOptionsMessage(A){return"No hay perfiles disponibles"},isLoading:_ instanceof fe,selectedOptionStyle:"check"},formControlProps:{isDisabled:h||!(_ instanceof he)},control:n,formControlInnerProps:{label:"Perfil de facturación"}}),_ instanceof xe&&e.jsx(Pe,{error:_.errorOrNull().error})]}),e.jsxs(s,{children:[e.jsx(je,{fieldProps:{name:"id_lista_prioritaria",options:[{label:"NINGUNA",value:0},...V],noOptionsMessage(A){return"No hay listas prioritarias"},isLoading:P instanceof fe,selectedOptionStyle:"check"},formControlProps:{isDisabled:h||!(P instanceof he)},formControlInnerProps:{label:"Lista de precios prioritaria"},control:n}),_ instanceof xe&&e.jsx(Pe,{error:_.errorOrNull().error})]}),e.jsxs(s,{children:[e.jsx(Ie,{isDisabled:Q,children:e.jsx(Fe,{children:"Bonificación lista prioritaria (%)"})}),e.jsxs(I,{children:[e.jsx(ie,{formControlProps:{width:"auto",isDisabled:Y},fieldProps:{name:"bonificacion_lista_prioritaria",id:"bonificacion_lista_prioritaria",type:"text",inputMode:"tel",textAlign:"end",htmlSize:5,maxLength:5,minWidth:120},control:n}),e.jsx(F,{fieldProps:{name:"bonificacion_lista_prioritaria_switch",id:"bonificacion_lista_prioritaria_switch"},formControlProps:{width:"auto",isDisabled:Q},control:n})]})]}),T&&e.jsx(s,{colSpan:{md:2},children:e.jsx(F,{fieldProps:{name:"lista_prioritaria_vendedor",id:"lista_prioritaria_vendedor"},formControlProps:{width:"auto",isDisabled:O},formControlInnerProps:{label:"Permitir lista prioritaria del vendedor"},control:n})}),e.jsx(s,{colSpan:{md:2},children:e.jsx($,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(oe,{size:"sm",textTransform:"uppercase",children:"Estado"})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(Kr,{fieldProps:{name:"habilitado_en_dxt",options:[{value:!0,label:"Establecido en Tango"},{value:!1,label:"Deshabilitado"}]},formControlProps:{isDisabled:h},radioProps:{size:{base:"sm",sm:"md"}},control:n})}),e.jsx(s,{colSpan:{md:2},children:e.jsx($,{})}),e.jsx(s,{colSpan:{md:2},children:e.jsx(oe,{size:"sm",textTransform:"uppercase",children:"Comunicación"})}),e.jsx(s,{children:e.jsx(F,{fieldProps:{name:"mostrar_mensaje_de_advertencia",id:"mostrar_mensaje_de_advertencia"},formControlProps:{width:"auto",isDisabled:h},formControlInnerProps:{label:"Mostrar mensaje de advertencia"},control:n})})]})}),e.jsx(ge,{children:e.jsxs(Se,{templateColumns:{base:"1fr",md:"repeat(2,1fr)"},alignItems:"start",gap:4,children:[e.jsx(s,{colSpan:{md:2},children:e.jsx(oe,{size:"sm",textTransform:"uppercase",children:"Pedidos"})}),e.jsx(s,{colSpan:{md:2},children:e.jsxs(De,{spacing:4,direction:{base:"column"},children:[e.jsx(I,{spacing:4,children:e.jsx(F,{fieldProps:{name:"puede_crear_pedido",id:"puede_crear_pedido"},formControlProps:{width:"auto",isDisabled:h},formControlInnerProps:{label:"Puede crear pedidos"},control:n})}),e.jsx(I,{spacing:4,children:e.jsx(F,{fieldProps:{name:"puede_editar_pedido",id:"puede_editar_pedido"},formControlProps:{width:"auto",isDisabled:h},formControlInnerProps:{label:"Puede editar pedidos"},control:n})}),e.jsx(I,{spacing:4,children:e.jsx(F,{fieldProps:{name:"puede_anular_pedido",id:"puede_anular_pedido"},formControlProps:{width:"auto",isDisabled:h},formControlInnerProps:{label:"Puede anular pedidos"},control:n})}),e.jsx(I,{spacing:4,children:e.jsx(F,{fieldProps:{name:"borrar_pedido_al_anular",id:"borrar_pedido_al_anular"},formControlProps:{width:"auto",isDisabled:h},formControlInnerProps:{label:"Borrar pedido al anular"},control:n,watch:{isDisabled:U===!1,...U===!1&&{isChecked:!1}}})}),e.jsx(I,{spacing:4,children:e.jsx(F,{fieldProps:{name:"aprobar_pedido_al_crear",id:"aprobar_pedido_al_crear"},formControlProps:{width:"auto",isDisabled:h},formControlInnerProps:{label:"Los pedidos se aprueban al crearlos"},control:n})}),e.jsx(I,{spacing:4,children:e.jsx(F,{fieldProps:{name:"ver_pedidos_cumplidos",id:"ver_pedidos_cumplidos"},formControlProps:{width:"auto",isDisabled:h},formControlInnerProps:{label:"Puede ver los pedidos cumplidos"},control:n})}),e.jsx(I,{spacing:4,children:e.jsx(F,{fieldProps:{name:"ver_sin_precio",id:"ver_sin_precio"},formControlProps:{width:"auto",isDisabled:h},formControlInnerProps:{label:"Puede ver artículos sin precio"},control:n})})]})}),e.jsx(s,{colSpan:{md:2},children:e.jsx($,{})}),e.jsx(s,{children:e.jsx(ie,{fieldProps:{name:"dia_de_entrega",id:"dia_de_entrega",type:"number",inputMode:"tel"},formControlProps:{isDisabled:h},formControlInnerProps:{label:"Tiempo de entrega (en días)"},control:n})}),e.jsx(s,{})]})}),e.jsx(ge,{children:e.jsx(Ir,{buttonActionText:k?or:sr,isLoading:h,hideCancelButton:!0})})]})})};function Da(a){const{typeSettings:r,id:o,returnUrl:i,title:t,schemaMaker:d,schemaDataToApiInput:c,useGetOneHook:x,saveUserCall:j}=a,{state:g,retry:b}=x(o);return g.map({loading:f=>e.jsx(Fr,{}),error:({error:f})=>e.jsx(ur,{error:f,retry:b,cancelAndNavigateTo:dr}),success:f=>e.jsx(Ge,{stateData:f.data,typeSettings:r,returnUrl:i,title:t,schemaMaker:d,schemaDataToApiInput:c,saveUserCall:j})})}function Ia(a){const{typeSettings:r,returnUrl:o,title:i,schemaMaker:t,schemaDataToApiInput:d,saveUserCall:c}=a;return e.jsx(Ge,{stateData:null,typeSettings:r,returnUrl:o,title:i,schemaMaker:t,schemaDataToApiInput:d,saveUserCall:c})}const Yr="admin",qe={tango_id:ee().integer().min(1,"Seleccione un cliente de Tango").required("Seleccione un cliente de Tango").typeError("Seleccione un cliente de Tango"),username:re().required("Ingrese un nombre de usuario").test("username","Ingrese un nombre de usuario válido",a=>Le(yr,a)?a.toLowerCase()!=Yr:!1),email:re().email("Ingrese un correo electrónico válido"),perfil_facturacion_id:ee().integer().min(1,"Seleccione un perfil de facturación").required("Seleccione un perfil de facturación").typeError("Seleccione un perfil de facturación"),id_lista_prioritaria:ee().integer(),bonificacion_lista_prioritaria:ee().when(["id_lista_prioritaria"],{is:a=>a>0,then:a=>a.required("Ingrese una bonificación válida").typeError("Ingrese una bonificación válida").min(0,"La bonificación debe encontrarse entre 0 y 100%").max(100,"La bonificación debe encontrarse entre 0 y 100%"),otherwise:a=>a}),bonificacion_lista_prioritaria_switch:E(),dia_de_entrega:ee().integer(`El tiempo de entrega de pedidos debe ser un un número entero entre ${ve} y ${Ce}`).min(ve,`El tiempo de entrega de pedidos debe ser mayor o igual a ${ve} días`).max(Ce,`El tiempo de entrega de pedidos no puede superar los ${Ce} días`).required("Ingrese el número de días para entrega de pedidos").typeError("Ingrese el número de días para entrega de pedidos"),habilitado_en_dxt:E().required(),puede_crear_pedido:E().required(),puede_editar_pedido:E().required(),ver_pedidos_cumplidos:E().required(),ver_sin_precio:E().required(),mostrar_mensaje_de_advertencia:E().required(),puede_anular_pedido:E().required(),borrar_pedido_al_anular:E().required(),aprobar_pedido_al_crear:E().required()},Qr={...qe,password:re(),lista_prioritaria_vendedor:E()};ae(Qr);function le(a,r,o){return{...qe,password:a.test("password","Formato de contraseña no válido",i=>{if(i!=""&&i!=null){let t=Sr(i);return cr.isEqual(r,t)||o(t),Le(Dr,i)}return!0})}}const ze={},$e={lista_prioritaria_vendedor:E().when(["id_lista_prioritaria"],{is:a=>a>0,then:a=>a.test("false","lista_prioritaria_vendedor debe ser false",r=>r===!1),otherwise:a=>a})},Be=re(),He=re().required("Ingrese una contraseña");function ya(a,r){const o=le(He,a,r);return ae({...o,...$e}).required()}function wa(a,r){const o=le(Be,a,r);return ae({...o,...ze,...$e}).required()}function Ea(a,r){const o=le(He,a,r);return ae(o).required()}function Ra(a,r){const o=le(Be,a,r);return ae({...o,...ze}).required()}function de(a){const{id_lista_prioritaria:r,bonificacion_lista_prioritaria_switch:o,bonificacion_lista_prioritaria:i,lista_prioritaria_vendedor:t,...d}=a,c=r!=null&&r>0;return{...d,id_lista_prioritaria:c?r:void 0,bonificacion_lista_prioritaria:c&&o===!0?i:void 0,lista_prioritaria_vendedor:c?!1:t===!0}}function ka(a){const{password:r,lista_prioritaria_vendedor:o,...i}=de(a);return r==null?null:{...i,password:r}}function Aa(a){const{lista_prioritaria_vendedor:r,...o}=de(a);return{...o}}function Ta(a){const{password:r,lista_prioritaria_vendedor:o,...i}=de(a);return r==null?null:{...i,lista_prioritaria_vendedor:o===!0,password:r}}function Ua(a){const{lista_prioritaria_vendedor:r,...o}=de(a);return{...o,lista_prioritaria_vendedor:r===!0}}export{Da as D,Ia as a,ya as b,Ta as c,Ea as d,ka as e,Ra as f,Aa as g,wa as m,Ua as t};
